<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="color-scheme" content="light dark">
    <title>Dubbing and Audio description Profiles of TTML2</title>
    <script defer src="https://www.w3.org/Tools/respec/respec-w3c" class="remove"></script>
    <script class="remove">
      // Rather than include the version control system (VCS) URL, use the Respec config value
      function replaceVCS(config) {
        document.querySelectorAll(".pp-vcs").forEach((element) => 
          element.href=config.github.repoURL)
      }

      var respecConfig = {
      // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
      specStatus: "ED",

      // the specification's short name, as in https://www.w3.org/TR/short-name/
      shortName: "dapt",

      // if there a publicly available Editor's Draft, this is the link
      edDraftURI: "https://w3c.github.io/dapt/",

      // editors, add as many as you like
      // only "name" is required
      editors:  [
        { name: "Cyril Concolato", w3cid: "36324", mailto: "cconcolato@netflix.com", url: "", company: "Netflix", companyURL: "https://www.netflix.com/"},
        { name: "Nigel Megitt", w3cid: "64750", mailto: "nigel.megitt@bbc.co.uk", url: "", company: "British Broadcasting Corporation", companyURL: "https://www.bbc.co.uk"},
      ],

      // name of the WG
      group: "wg/timed-text",
      github: "w3c/dapt",
      wgPublicList: "public-tt",
      license: "document",

      // local bibliography
      localBiblio: {
          "BBC-WHP051": {
            title: "BBC R&D White Paper WHP 051. Audio Description: what it is and how it works",
            publisher: "N.E. Tanton, T. Ware and M. Armstrong",
            status: "October 2002 (revised July 2004)",
            href: "http://www.bbc.co.uk/rd/publications/whitepaper051",
          },
          "EBU-R37": {
            title: "EBU Recommendation R37-2007. The relative timing of the sound and vision components of a television signal",
            publisher: "EBU/UER",
            status: "February 2007",
            href: "https://tech.ebu.ch/publications/r037"
          },
          "EBU-TT-3390": {
            title: "EBU-TT Part M, Metadata Definitions",
            publisher: "EBU/UER",
            status: "May 2017",
            href: "https://tech.ebu.ch/publications/tech3390"
          },
          "I18N-INLINE-BIDI": {
            title: "Inline markup and bidirectional text in HTML",
            publisher: "W3C",
            status: "2021-06-25",
            href: "https://www.w3.org/International/articles/inline-bidi-markup"
          },
          "TTML2": {
            title: "Timed Text Markup Language 2 (TTML2) (2nd Edition)",
            publisher: "W3C",
            status: "2021-03-09",
            href: "https://www.w3.org/TR/2021/CR-ttml2-20210309"
          },
      },

      postProcess: [
        replaceVCS,
      ]
    };
    </script>
  <style>
    @media (prefers-color-scheme: dark) {
      .data tr:nth-child(even) {
        background: #444444;
      }
      span.label.required::before, span.label.required::after {
        color: black;
      }
      span.optional {
        color: black;
        background-color: #FFFF50;
        border-color: #f0f6ff;
      }
      span.permitted {
        color: black;
        background-color: #50FF50;
      }
      span.prohibited {
        color: black;
        background-color: #FF5F5F;
      }
      span.permitted-deprecated {
        color: black;
        background-color: #FFC000;
      }
      span.required {
        color: black;
        background-color: white;
      }
      img.fingerprint, svg {
        filter: invert(100%);
      }
      div.exampleInner {
        background-color: #282c34;
      }
    }
    @media (prefers-color-scheme: light) {
      .data tr:nth-child(even) {
        background: #f0f6ff;
      }
      span.label.required::before, span.label.required::after {
        color: white;
      }
      span.optional {
        color: black;
        background-color: #FFFF50;
        border-color: #444444;
      }
      span.permitted {
        color: black;
        background-color: #50FF50;
      }
      span.prohibited {
        color: black;
        background-color: #FF5F5F;
      }
      span.permitted-deprecated {
        color: black;
        background-color: #FFC000;
      }
      span.required {
        color: white;
        background-color: black;
      }
      div.exampleInner {
        background-color: #fafafa;
      }
    }
  table.coldividers td + td { border-left:1px solid gray; }
  table.syntax { border: 0px solid black; width: 85%; border-collapse: collapse }
  table.syntax caption { font-weight: bold; text-align: left; padding-bottom: 0.5em }
  table.syntax th { border: 0px solid black; text-align: left }
  table.syntax td { border: 0px solid black }
  table.syntax div { background-color: #ffffc8 }
  table#table-features-and-extensions tbody tr td:nth-child(2) { text-align: center;}
  td.table-row-header {text-align:center; font-style: italic; font-weight: bold; padding-top: 1.5rem !important;}
  div.exampleInner { border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   padding: 4px; margin: 0em }
  ul.short-list { margin: 0; padding-left: 0; list-style-position: inside;}
  .equation {text-indent: 10%;}
  .example pre {font-size: small}
  .deprecation {background-color: #EBEBFE; border: 3px double; margin: 2px;}
  .deprecation::before {content: "\26A0"; margin:0.2em; font-size:2em; float:left;}
  body {
    font-family: sans-serif;
    line-height: 24px;
  }
  img.fingerprint {
    float: left;
    margin-left: -2rem;
    max-height: 2rem;
  }
  span.label {
    display: inline-block;
    border-radius: 3px;
  }
  span.optional::before {
    content: "\00A0?\00A0";
    font-weight: bold;
  }
  span.permitted::before {
    content: "\00A0\2713\00A0";
  }
  span.prohibited::before {
    content: "\00A0\2718\00A0";
  }
  span.permitted-deprecated::before {
    font-weight: bold;
    content: "\00A0!\00A0";
  }
  span.label.required::before, span.label.required::after {
    font-weight: bold;
    content: "\00A0!!\00A0";
  }
  span.label::after {
    content: "\00A0";
  }
  span.optional {
    border-style: solid;
    border-width: 1px;
  }
  figure svg {
    max-width: max-content !important;
  }
  .registry-table-section::after, .registry-table-section::before, .registry-table-section > .marker {
    color: #444444;
    background: rgb(224, 251, 251);
    display: block;
    text-transform: uppercase;
    margin-left: -0.5em;
    margin-right: -0.5em;
    padding: 0.5em;
  }
  .registry-table-section::before, .registry-table-section > .marker {
    content: 'Registry table section begins';
    margin-top: -0.5em;
    margin-bottom: 0.5em;
  }
  .registry-table-section::after {
    content: 'Registry table section ends';
    margin-top: 0.5em;
    margin-bottom: -0.5em;
  }
  .registry-table-section {
    padding: .5em;
    border: .5em;
    border-left-style: solid;
    page-break-inside: avoid;
    margin: 1em auto;
    
    border-left-width: 0.5em;
    border-left-style: solid;
    border-right-width: 0.5em;
    border-right-style: none;
    border-color: #52e0e0;

    overflow: visible;
    clear: both;
  }
  .registry-table-section a.self-link::before {
    left: -1.1em;
    position: relative;
  }
  </style>
  </head>
  <body>
    <h1 id="title">Dubbing and Audio description Profiles of TTML2</h1>
    
    <section id="abstract">
      This specification defines <abbr title="Dubbing and Audio description Profiles of TTML2">DAPT</abbr>, a <abbr title="Timed Text Markup Language">TTML</abbr>-based file format for the exchange of timed text content in dubbing and audio description workflows.
    </section>

    <section id="sotd" class="updateable-rec">
      <p>This document incorporates a <dfn data-cite="w3c-process#registry-section">registry section</dfn>
      and defines <dfn data-cite="w3c-process#registry-table">registry tables</dfn>,
      as defined in the [[w3c-process]] requirements for <a>w3c registries</a>.
      Updates to the document that only change <a>registry tables</a> can be made
      without meeting other requirements for Recommendation track updates,
      as set out in <dfn data-cite="w3c-process#reg-table-update">Updating Registry Tables</dfn>;
      requirements for updating those registry tables are normatively specified
      within <a href="#registry-section"></a>.</p>

      <p>A list of the substantive changes applied since the
        <a href="https://www.w3.org/TR/2023/WD-dapt-20230425/">initial Working Draft</a> is found at
        <a href="substantive-changes-summary.txt">substantive-changes-summary.txt</a>.</p>

      <p>The Working Group has identified the following
        <dfn data-cite="w3c-process/#at-risk">at risk</dfn> features:</p>
  
        <div class="issue" data-number="218"></div>
        <div class="issue" data-number="219"></div>
        <div class="issue" data-number="220"></div>
        <div class="issue" data-number="221"></div>
        <div class="issue" data-number="222"></div>
        <div class="issue" data-number="223"></div>
        <div class="issue" data-number="224"></div>
        <div class="issue" data-number="239"></div>
  
        <p><a>At risk</a> features may be be removed before advancement to Proposed Recommendation.</p>
    </section>

    <section>
      <h2>Scope</h2>
      <p>This specification defines a text-based profile of the Timed Text Markup Language version 2.0 [[TTML2]]
        intended to support <a>dubbing</a> and <a>audio description</a> workflows worldwide,
        to meet the requirements defined in [[?DAPT-REQS]], and to permit usage of visual presentation
        features within [[TTML2]] and its profiles, for example those in [[TTML-IMSC1.2]].</p>
    </section>

    <section class="informative">
      <h2>Introduction</h2>
      <section>
        <h3>Transcripts and Scripts</h3>
        <p>In general usage, one meaning of the word <em>script</em> is
          the written text of a film, television programme, play etc.
          A script can be either a record of the completed production,
          also known as a transcript,
          or as a plan for a yet to be created production.
          In this document, we use domain-specific terms, and define more specifically that:</p>
        <ul>
          <li>a <dfn>transcript</dfn> is the text representation of <em>pre-existing</em> media in another form,
            for example the dialogue in a video;</li>
          <li>a <dfn>script</dfn> is a text representation of the <em>intended</em> content of media prior to its creation,
        for example to guide an actor in recording an audio track.</li>
        </ul>
        <p>The term <a>DAPT script</a> is used generically to refer to both <a>transcripts</a> and <a>scripts</a>,
          and is a point of conformance to the formal requirements of this specification.
          <a>DAPT Scripts</a> consist of timed text and associated metadata,
          such as the character speaking.</p>
        <p>In dubbing workflows, a <a>transcript</a> is generated and translated to create a <a>script</a>.
          In audio description workflows, a <a>transcript</a> describes the video image,
          and is then used directly as a <a>script</a> for recording an audio equivalent.
        </p>
        <p>DAPT is a TTML-based format for the exchange of <a>transcripts</a> and <a>scripts</a>
          (i.e. <a>DAPT Scripts</a>)
          among authoring, prompting and playback tools in the localization and <a>audio description</a> pipelines.
          A <a>DAPT document</a> is a serializable form of a <a>DAPT Script</a> designed to carry pertinent information for dubbing or <a>audio description</a>
          such as type of <a>DAPT script</a>, dialogue, descriptions, timing, metadata, original language transcribed text, translated text, language information, and audio mixing instructions,
          and to be extensible to allow user-defined annotations or additional future features.</p>
        <p>This specification defines the data model for <a>DAPT scripts</a> and
          its representation as a [[TTML2]] document (see [[[#data-model]]])
          with some constraints and restrictions (see [[[#profile-constraints]]]).</p>
        <p>A <a>DAPT script</a> is expected to be used to make audio visual media accessible
          or localized for users who cannot understand it in its original form,
          and to be used as part of the solution for meeting user needs
          involving <a>transcripts</a>, including accessibility needs described in [[media-accessibility-reqs]],
          as well as supporting users who need dialogue translated into a different language via dubbing.</p>
        <p>Every part of the <a>DAPT script</a> content is required
          to be marked up with some indication of what it represents in the related media,
          via the <a>Represents</a> property; likewise the <a>DAPT Script</a> as a whole
          is required to list all the types of content that it represents,
          for example if it represents audio content or visual content,
          and if visual, then if it represents text or non-text etc.
          A registry of hierarchical content descriptors is provided.</p>
        <p>The authoring workflow for both dubbing and audio description involves similar stages,
          that share common requirements as described in [[DAPT-REQS]].
          In both cases, the author reviews the content and
          writes down what is happening, either in the dialogue or in the video image,
          alongside the time when it happens.
          Further transformation processes can change the text to a different language and
          adjust the wording to fit precise timing constraints.
          Then there is a stage in which an audio rendering of the <a>script</a> is generated,
          for eventual mixing into the programme audio.
          That mixing can occur prior to distribution,
          or in the player directly.</p>
        <section>
          <h4>Dubbing <a>scripts</a></h4>
          <p>The <dfn>dubbing</dfn> process which consists in creating a <a>dubbing script</a>
            is a complex, multi-step process involving:</p>
          <ul>
            <li>Transcribing and timing the dialogue in its own language from a completed programme to create a <a>transcript</a>;</li>
            <li>Notating dialogue with character information and other annotations;</li>
            <li>Generating localization notes to guide further adaptation;</li>
            <li>Translating the dialogue to a target language <a>script</a>;</li>
            <li>Adapting the translation to the dubbing;
              for example matching the actorâ€™s lip movements in the case of dubs.</li>
          </ul>
          <p>A <dfn>dubbing script</dfn> is a <a>transcript</a> or <a>script</a>
            (depending on workflow stage) used for
            recording translated dialogue to be mixed with the non-dialogue programme audio,
            to generate a localized version of the programme in a different language,
            known as a dubbed version, or dub for short.</p>
          <p><a>Dubbing scripts</a> can be useful as a starting point for creation of subtitles or closed captions in alternate languages.
            This specification is designed to facilitate the addition of, and conversion to,
            subtitle and caption documents in other profiles of TTML, such as [[TTML-IMSC1.2]],
            for example by permitting subtitle styling syntax to be carried in <a>DAPT documents</a>.
            Alternatively, styling can be applied to assist voice artists when recording scripted dialogue.
          </p>
        </section> <!-- intro-dubbing -->
        <section>
          <h4>Audio Description <a>scripts</a></h4>
          <p>Creating audio description content is also a multi-stage process.
            An <dfn>audio description</dfn>,
            also known as video description
            or in [[media-accessibility-reqs]] as <a data-cite="media-accessibility-reqs#described-video">described video</a>,
            is an audio service
            to assist viewers who can not fully see a visual presentation to understand the content.
            It is the result of mixing the <a>main programme audio</a> with the audio rendition of each <a>description</a>,
            authored to be timed when it does not clash with dialogue,
            to deliver an audio description mixed audio track.
            <dfn>Main programme audio</dfn> refers to the audio associated with the programme prior to any further mixing.
            A <dfn>description</dfn> is a set of words that describes an aspect of the programme presentation,
            suitable for rendering into audio by means of vocalisation and recording
            or used as a text alternative source for text to speech translation, as defined in [[WCAG22]].
            More information about what <a>audio description</a> is and how it works can be found at [[BBC-WHP051]].
          </p>
          <p>Writing the audio description <a>script</a> typically involves:</p>
          <ul>
            <li>watching the video content of the programme,
            or series of programmes,</li>
            <li>identifying the key moments during which there is an opportunity to speak descriptions,</li>
            <li>writing the description text to explain the important visible parts of the programme at that time,</li>
            <li>creating an audio version of the descriptions, either by recording a human actor or using text to speech,</li>
            <li>defining mixing instructions (applied using [[TTML2]] audio styling) for combining the audio with the programme audio.</li>
          </ul> 
          <p>The audio mixing can occur prior to distribution of the media,
            or in the client.
            If the <a>audio description</a> <a>script</a> is delivered to the player,
            the text can be used to provide an alternative rendering,
            for example on a Braille display,
            or using the user's configured screen reader.
          </p>
        </section> <!-- intro-audio-description -->
        <section>
          <h4>Other uses</h4>
          <p>
            <a>DAPT Scripts</a> can be useful in other workflows and scenarios.
            For example, <a>Original language transcripts</a> could be used as:</p>
          <ul>
            <li>the output format of a speech to text system, even if not intended for translation,
              or for the production of subtitles or captions;</li>
            <li>a document known in the broadcasting industry as a "post production script",
              used primarily for preview, editorial review and sales purposes;</li>
          </ul>
          <p>Both <a>Original language transcripts</a> and <a>Translated transcripts</a> could be used as:</p>
          <ul>
            <li>an accessible transcript presented alongside audio or video in a web page or application;
              in this usage, the timings could be retained and used for synchronisation with,
              or navigation within, the media
              or discarded to present a plain text version of the entire timeline.</li>
          </ul>
        </section> <!-- intro-other-uses -->
      </section> <!-- intro-overview -->

      <section>
        <h3>Example documents</h3>
        <h4>Basic document structure</h4>
        <p>The top level structure of a document is as follows:</p>
          <ul>
          <li>The <code>&lt;tt&gt;</code> root element in the namespace <code>http://www.w3.org/ns/ttml</code> indicates that this is a TTML document
          and the <a><code>ttp:contentProfiles</code></a> attribute indicates that it adheres to the DAPT <a>content profile</a> defined in this specification.</li>
          <li>The <code>daptm:scriptRepresents</code> attribute indicates what the contents of the document are an alternative for,
            within the original programme.</li>
          <li>The <code>daptm:scriptType</code> attribute indicates the type of <a>transcript</a> or <a>script</a>
          but in this empty example, it is not relevant, since only the structure of the document is shown.</li>
          <li>The <a><code>daptm:langSrc</code></a> attribute indicates the default text language source,
            for example the original language of the content,
            while the <code>xml:lang</code> attribute indicates the default language 
            in this script, which in this case is the same.
            Both of these attributes are inherited and can be overridden within the content of the document.</li>
        </ul>
        <p>The structure is applicable to all types of <a>DAPT scripts</a>, dubbing or <a>audio description</a>.</p>
        <pre class="example"
          data-include="examples/intro-top-level.xml"
          data-include-format="text">
        </pre>
        <p>The following examples correspond to the timed text <a>transcripts</a> and <a>scripts</a> produced
          at each stage of the workflow described in [[DAPT-REQS]].</p>
        <p>The first example shows an early stage <a>transcript</a> in which timed opportunities for descriptions
          or transcriptions have been identified but no text has been written;
          the <code>daptm:represents</code> attribute present on the <code>&lt;body&gt;</code>
          element here is inherited by the <code>&lt;div&gt;</code> elements since
          they do not specify a different value:</p>
        <pre class="example"
          data-include="examples/intro-times-only.xml"
          data-include-format="text">
        </pre>
        <p>The following examples will demonstrate different uses in dubbing and audio description workflows.</p>

        <h4>Audio Description Examples</h4>
        <p>When descriptions are added this becomes a <a>Pre-Recording Script</a>.
          Note that in this case, to reflect that most of the audio description content
          transcribes the video image where there is no inherent language,
          the <a>Text Language Source</a>, represented by the <a><code>daptm:langSrc</code></a> attribute,
          is set to the empty string at the top level of the document.
          It would be semantically equivalent to omit the attribute altogether,
          since the default value is the empty string:</p>
        <pre class="example"
          data-include="examples/intro-times-and-text.xml"
          data-include-format="text">
        </pre>
        <p>After creating audio recordings, if not using text to speech, instructions for playback
          mixing can be inserted. For example, The gain of "received" audio can be changed before mixing in
          the audio played from inside the <code>&lt;span&gt;</code> element, smoothly
          animating the value on the way in and returning it on the way out:
        </p>
        <pre class="example"
          data-include="examples/intro-script-with-gain.xml"
          data-include-format="text">
        </pre>
        <p>At the document level, the <code>daptm:scriptRepresents</code> attribute indicates
          that the document represents both visual text and visual non-text content in the
          related media.
          It is possible that there are no Script Events that actually represent visual text,
          for example because there is no text in the video image.</p>
        <p>In the above example, the <code>&lt;div&gt;</code> element's
          <code>begin</code> attribute defines the time that is the "syncbase" for its child, 
          so the times on the <code>&lt;animate&gt;</code> and <code>&lt;span&gt;</code>
          elements are relative to 25s here.
          The first <code>&lt;animate&gt;</code> element drops the gain from 1
          to 0.39 over 0.3s, freezing that value after it ends,
          and the second one raises it back in the
          final 0.3s of this description. Then the <code>&lt;span&gt;</code> element is
          timed to begin only after the first audio dip has finished.</p>
        <p>If the audio recording is long and just a snippet needs to be played,
        that can be done using <code>clipBegin</code> and <code>clipEnd</code>.
        If we just want to play the part of the audio from file from 5s to
        8s it would look like:</p>
        <pre class="example"
          data-include="examples/intro-script-with-audio-clipped.xml"
          data-include-format="text">
        </pre>
        <p>Or audio attributes can be added to trigger the text to be spoken:
        </p>
        <pre class="example"
          data-include="examples/intro-script-with-speak.xml"
          data-include-format="text">
        </pre>
        <p>It is also possible to embed the audio directly,
          so that a single document contains the <a>script</a> and
          recorded audio together:
        </p>
        <pre class="example"
          data-include="examples/intro-script-with-embedded-audio.xml"
          data-include-format="text">
        </pre>

        <h4>Dubbing Examples</h4>
        <p>From the basic structure of <a href="#example-1"></a>, 
          transcribing the audio produces an original language dubbing <a>transcript</a>,
          which can look as follows.
          No specific style or layout is defined, and here the focus is on the transcription of the dialogue.
          Characters are identified within the <code>&lt;metadata&gt;</code> element.
          Note that the language and the <a>text language source</a> are defined using
          <code>xml:lang</code> and <a><code>daptm:langSrc</code></a> attributes respectively,
          which have the same value
          because the transcript is not translated.</p>
        <pre class="example"
          data-include="examples/intro-original-language.xml"
          data-include-format="text">
        </pre>

        <p>After translating the text, the document is modified. It includes translation text, and
        in this case the original text is preserved. The main document's <a>default language</a> is changed to indicate
        that the focus is on the translated language.
        The combination of the <code>xml:lang</code> and <a><code>daptm:langSrc</code></a> attributes are used
        to mark the text as being original or translated.
        In this case, they are present on both the <code>&lt;tt&gt;</code> and <code>&lt;p&gt;</code>
        elements to make the example easier to read, but it would also be possible to omit
        them in some cases, making use of the inheritance model:</p>
        <pre class="example"
          data-include="examples/intro-original-language-with-dub-language.xml"
          data-include-format="text">
        </pre>

        <p>The process of adaptation, before recording, could adjust the wording and/or add further timing to assist in the recording.
        The <code>daptm:scriptType</code> attribute is also modified, as in the following example:</p>
        <pre class="example"
          data-include="examples/intro-original-language-with-dub-language-and-adaptation.xml"
          data-include-format="text">
        </pre>
      </section>
    </section>

    <section>
      <h2>Documentation Conventions</h2>
      <p>
        This document uses the following conventions:
      </p>
      <ul>
        <li>When referring to an [[XML]] element in the prose,
          angled brackets and a specific style are used as follows: <code>&lt;someElement&gt;</code>.
          The entity is also described as an element in the prose.
          If the name of an element referenced in this specification
          is not namespace qualified, then the TT namespace applies (see <a href="#namespaces">Namespaces</a>).</li>
        <li>When referring to an [[XML]] attribute in the prose,
          the attribute name is given with its prefix,
          if its namespace has a value,
          or without a prefix if its namespace has no value.
          Attributes with prefixes are styled as <code>attributePrefix:attributeName</code>
          and those without prefixes are styled as <code>attributeName</code>.
          The entity is also described as an attribute in the prose.</li>
        <li>When defining new [[XML]] attributes, this specification uses the conventions used for
        "value syntax expressions" in [[TTML2]]. For example, the following would define a new attribute
        called <code>daptm:foo</code> as a string with two possible values:
        <code>bar</code> and <code>baz</code>.
          <div class="exampleInner">
            <pre class="language-abnf">
  daptm:foo
    : "bar"
    | "baz"
            </pre>
          </div>
        </li>
        <li>When referring to the position of an element or attribute in the [[XML]] document,
          the [[XPath]] <a data-cite="XPath#location-paths"><code>LocationPath</code></a> notation is used.
          For example, to refer to the first <code>&lt;metadata&gt;</code> element child of
          the <code>&lt;head&gt;</code> element child of
          the <code>&lt;tt&gt;</code> element,
          the following path would be used:
          <code>/tt/head/metadata[0]</code>.
        </li>
        <li><a>Registry sections</a> that include registry table data are indicated as follows:
          <div class="registry-table-section">
            <p>Content in registry table sections has different requirements
              for updates than other Recommendation track content,
              as defined in [[w3c-process]].
            </p>
          </div>
        </li>
      </ul>
    </section>

  <section id="data-model">
    <h2>DAPT Data Model and corresponding TTML syntax</h2>
    <p>This section specifies the data model for DAPT and its corresponding TTML syntax.
      In the model, there are objects which can have properties and be associated with other objects.
      In the TTML syntax, these objects and properties are expressed as elements and attributes,
      though it is not always the case that objects are expressed as elements and properties as attributes.
    </p>
    <p><a href="#fig-class-diagram"></a> illustrates the DAPT data model, hyperlinking every object and property
      to its corresponding section in this document.
      <a>Shared properties</a> are shown in italics.
      All other conventions in the diagram are as per [[?uml]].
    </p>
    <figure id="fig-class-diagram" class="informative">
      <div data-include="figures/class-diagram.svg"></div>
      <figcaption>
          (Informative) Class diagram showing main entities in the DAPT data model.
      </figcaption>
    </figure>
    <p class="issue" data-number="116"></p>
    <section>
      <h3>DAPT Script</h3>
        <p>A <dfn>DAPT Script</dfn> is a <a>transcript</a> or <a>script</a>
          that corresponds to a document processed within an authoring workflow or processed by a client,
          and conforms to the constraints of this specification.
          It has properties and objects defined in the following sections:
          <a>Script Represents</a>, <a>Script Type</a>, <a>Default Language</a>, <a>Text Language Source</a>, <a>Script Events</a>
          and, for <a>Dubbing Scripts</a>, <a>Characters</a>.</p>
        <p>A <dfn>DAPT Document</dfn> is a [[TTML2]] <a>timed text content document instance</a> representing a <a>DAPT Script</a>.
          A <a>DAPT Document</a> has the structure and constraints defined in this and the following sections.</p>
        <p class="note">
          A [[TTML2]] <a>timed text content document instance</a> has
          a root <code>&lt;tt&gt;</code> element
          in the TT namespace.
        </p>

        <section>
          <h4>Script Represents</h4>
          <p>The <dfn>Script Represents</dfn> property is a mandatory property of a <a>DAPT Script</a> which
            indicates which components of the <a>related media object</a>
            the contents of the document represent.
            The contents of the document could be used as part of a mechanism
            to provide an accessible alternative for those components.
          </p>
          <p class="note"><a>Script Events</a> have a related property, <a>Represents</a>,
            and there are constraints about the permitted values of that property that
            are dependent on the values of <a>Script Represents</a>.</p>
          <p>To represent this property, the <dfn><code>daptm:scriptRepresents</code></dfn> attribute
            MUST be present on the <code>&lt;tt&gt;</code> element,
            with a value conforming to the following syntax:</p>
          <div class="exampleInner">
            <pre class="language-abnf">
  daptm:scriptRepresents
  : &lt;<a>content-descriptor</a>&gt; ( &lt;lwsp&gt;+ &lt;content-descriptor&gt;)*

  <a data-cite="TTML2#style-value-lwsp">&lt;lwsp&gt;</a>                # as TTML2
            </pre>
          </div>
          <aside class="example">
            <p>A dubbing script might have <code>daptm:scriptRepresents=&quot;audio.dialogue&quot;</code>.</p>
            <p>An audio description script might have <code>daptm:scriptRepresents=&quot;visual.nonText visual.text visual.dialogue&quot;</code>.</p>
            <p>A post-production script that could be the precursor to a hard of hearing subtitle document
              might have <code>daptm:scriptRepresents=&quot;audio.dialogue audio.nonDialogueSounds&quot;</code>.</p>
          </aside>
        </section>

        <section>
          <h4>Default Language</h4>
          <p>The <dfn>Default Language</dfn> is a mandatory property of a <a>DAPT Script</a>
            which represents the default language for the <a>Text</a> content of <a>Script Events</a>.
            This language may be one of the original languages or a <a>Translation</a> language.
            When it represents a <a>Translation</a> language, it may be the final language
            for which a dubbing or audio description <a>script</a> is being prepared,
            called the <dfn>Target Recording Language</dfn> or it may be an intermediate, or pivot, language
            used in the workflow.
          </p>

          <p>The <a>Default Language</a> is represented in a <a>DAPT Document</a> by the following structure and constraints:
            <ul>
              <li>the <code>xml:lang</code> attribute MUST be present on the <code>&lt;tt&gt;</code> element and its value MUST NOT be empty.</li>
            </ul>
          </p>
          <p class="note">All text content in a <a>DAPT Script</a> has a specified language.
            When multiple languages are used, the <a>Default Language</a> can correspond to the language of the majority of <a>Script Events</a>,
            to the language being spoken for the longest duration, or to a language arbitrarily chosen by the author.</p>
          <aside class="example">An <a>Original Language Transcript</a> of dialogue is prepared for a video
            containing dialogue in Danish and Swedish.
            The <a>Default Language</a> is set to Danish by setting <code>xml:lang="da"</code> on the <code>&lt;tt&gt;</code> element.
            <a>Script Events</a> that contain Swedish <a>Text</a> override this by setting
            <code>xml:lang="sv"</code> on the <code>&lt;p&gt;</code> element.
            <a>Script Events</a> that contain Danish <a>Text</a> can set the <code>xml:lang</code> attribute
            or omit it, since the inherited language is the <a>Default Language</a> of the document.
            In both cases the Script Events' <a>Text</a> objects are <code>&lt;p&gt;</code> elements that represent untranslated
            content that had an inherent language (in this case dialogue)
            and therefore set the <a><code>daptm:langSrc</code></a> attribute to their source language,
            implying that they are in the <a>Original</a> language.</aside>
        </section>


        <section>
          <h4>Script Type</h4>
          <p>The <dfn>Script Type</dfn> property is a mandatory property of a <a>DAPT Script</a>
            which describes the type of documents used in Dubbing and Audio Description workflows,
            among the following:
            <a>Original Language Transcript</a>,
            <a>Translated Transcript</a>,
            <a>Pre-recording Script</a>,
            <a>As-recorded Script</a>.</p>
          <p>To represent this property, the <dfn><code>daptm:scriptType</code></dfn> attribute MUST be present on the <code>&lt;tt&gt;</code> element:</p>
          <div class="exampleInner">
            <pre class="language-abnf">
  daptm:scriptType
    : "originalTranscript"
    | "translatedTranscript"
    | "preRecording"
    | "asRecorded"
            </pre>
          </div>

          <p>The definitions of the types of documents and the corresponding <code>daptm:scriptType</code> attribute values are:
            <ul>
              <li>
                <dfn>Original Language Transcript</dfn>:
                <p>When the <code>daptm:scriptType</code> attribute value is <code>originalTranscript</code>,
                the document is a literal transcription of the dialogue and/or on-screen text in their inherent spoken/written language(s),
                or of non-dialogue sounds and non-linguistic visual content.</p>
                <p><a>Script Events</a> in this type of <a>transcript</a>:</p>
                <ul>
                  <li>SHOULD contain <a>Original</a> <a>Text</a> objects;</li>
                  <li>SHOULD NOT contain <a>Translation</a> <a>Text</a> objects.</li>
                </ul> 
                <aside class="example">If a programme contains dialogue in English and Hebrew,
                  the <a>Original Language Transcript</a> will contain some <a>Script Events</a> in English and some in Hebrew,
                  all containing <a>Original</a> <a>Text</a> objects.
                  The document contains no <a>Translation</a> <a>Text</a> objects.</aside>
              </li>
              <li>
                <dfn>Translated Transcript</dfn>:
                <p>When the <code>daptm:scriptType</code> attribute value is <code>translatedTranscript</code>,
                the document represents a translation of the <a>Original Language Transcript</a> in a common language.</p>
                <p>It can be adapted to produce a <a>Pre-Recording Script</a>,
                  and/or used as the basis for a further translation into the <a>Target Recording Language</a>.</p> 
                <p><a>Script Events</a> in this type of <a>transcript</a>:</p>
                <ul>
                  <li>SHOULD contain <a>Translation </a><a>Text</a> objects;</li>
                  <li>MAY also contain <a>Original</a> <a>Text</a> objects.</li>
                </ul>

                <aside class="example">If a programme contains dialogue in English and Hebrew,
                  the French <a>Translated Transcript</a> will contain at least the translation in French of all <a>Script Events</a>.
                  It may still retain text content in Hebrew and English to assist further processing.</aside>
                <aside class="example">If an <a>audio description</a> <a>Original Language Transcript</a> contains
                  <a>Original</a> language <a>Script Events</a> that describe in-image text content,
                  and the desired <a>audio description</a> output needs to be in a different language,
                  the <a>Text</a> objects can be <a>Translation</a> <a>Text</a> objects.
                  In that case, it is appropriate to mark the transcript as a <a>Translated Transcript</a>.
                  It may also be appropriate, as part of the translation activity, to describe within the translated text
                  content the original language of that text, to inform the audience,
                  for example, &quot;A Japanese newspaper headline that means: sailor completes ocean crossing&quot;.
                </aside>
                </li>
              <li>
                <dfn>Pre-recording Script</dfn>:
                <p>When the <code>daptm:scriptType</code> attribute value is <code>preRecording</code>,
                the document represents the result of the adaptation of an <a>Original Language Transcript</a> or
                a <a>Translated Transcript</a> for recording, e.g. for better lip-sync in a dubbing workflow,
                or to ensure that the words can fit within the time available in an audio description workflow.</p>
                <p><a>Script Events</a> in this type of <a>script</a>:</p>
                <ul>
                  <li>SHOULD contain <a>Text</a> objects
                    in the <a>Target Recording Language</a>;</li>
                  <li>MAY also contain <a>Original</a> <a>Text</a> objects from the <a>Original Language Transcript</a>
                    in the case that their language is not the <a>Target Recording Language</a>, 
                    for context, to assist further processing;</li>
                  <li>SHOULD NOT contain <a>Audio</a> objects.</li>
                </ul> 

                <aside class="note">The <a>Script Type</a> of a <a>DAPT Script</a> cannot necessarily be detected
                  by inspecting the text content of the document.
                  For example, the adaptation of a <a>Translated Transcript</a> into a <a>Pre-recording Script</a>
                  can consist in replacing some words in the text content of a <a>Script Event</a> without altering the rest of the document.
                  In either case, <a>Translation</a> <a>Text</a> objects 
                  have their <a>Text Language Source</a> properties
                  set to the source language from which they were translated.</aside>
                
                <aside class="note">The <a>Original</a> <a>Text</a> objects in Audio Description <a>Script Events</a>
                  have an empty <a>Text Language Source</a> property
                  if they represent visual elements of the scene that do not have an inherent language.
                  Otherwise if they do represent visual elements with an inherent language, such as in-image text,
                  they are required to have a <a>Text Language Source</a> that specifies a language.
                  If audio description <a>scripts</a> are translated,
                  their translations would be represented by <a>Translation</a>
                  <a>Text</a> objects.</aside>
              </li>
              <li>
                <dfn>As-recorded Script</dfn>:
                <p>When the <code>daptm:scriptType</code> attribute value is <code>asRecorded</code>, 
                the document represents the actual audio recording.</p>
                <p><a>Script Events</a> in this type of <a>script</a>:</p>
                <ul>
                  <li>SHOULD contain <a>Text</a> objects
                  in the <a>Target Recording Language</a>;</li>
                  <li>MAY also contain <a>Original</a> <a>Text</a> objects from
                    the <a>Original Language Transcript</a>
                    or <a>Translation</a> <a>Text</a> objects in other languages 
                    for context and quality verification;</li>
                  <li>MAY also contain links to audio and mixing instructions
                    for the purpose of producing an audio track incorporating the recordings;</li>
                  <li>SHOULD contain <a>Audio Recording</a> objects;</li>
                  <li>SHOULD NOT contain <a>Synthesized Audio</a> objects.</li>
                </ul> 

                <aside class="note"><a>Translation</a> <a>Text</a> objects within <a>As-recorded Scripts</a> retain their <a>Text Language Source</a>,
                  so that the source language from which they were translated remains available.</aside>
              </li>
            </ul>
          </p>
          <p class="ednote">The following example is orphaned - move to the top of the section, before the enumerated script types?</p>
          <pre class="example">
&lt;tt daptm:scriptType=&quot;originalTranscript&quot;&gt;
...
&lt;/tt&gt;
          </pre>
        </section>

        <section>
          <h4>Script Events</h4>
          <p>A <a>DAPT Script</a> MAY contain zero or more <a>Script Event</a> objects,
            each corresponding to dialogue, on screen text, or descriptions for a given time interval.</p>

          <p>If any <a>Script Events</a> are present, the <a>DAPT Document</a> MUST have
            one <code>&lt;body&gt;</code> element child of the <code>&lt;tt&gt;</code> element.</p>
        </section>

        <section>
          <h4>Characters</h4>
          <p>A <a>DAPT Script</a> MAY contain zero or more <a>Character</a> objects, each describing a character that can be referenced by a <a>Script Event</a>.</p>

          <p>If any <a>Character</a> objects are present, the <a>DAPT Document</a> MUST have
            one <code>&lt;head&gt;</code> element child of the <code>&lt;tt&gt;</code> element,
            and that <code>&lt;head&gt;</code> element MUST have
            at least one <code>&lt;metadata&gt;</code> element child.</p>

          <p class="note"><a href="#character"></a> recommends that
            all the <a>Character</a> objects be located within
            a single <code>&lt;metadata&gt;</code> element parent,
            and in the case that there are more than one
            <code>&lt;metadata&gt;</code> element children of
            the <code>&lt;head&gt;</code> element,
            that the <a>Character</a> objects are located in the first such child.</p>
        </section>

        <section>
          <h4>Shared properties and Value Sets</h4>
          <p>Some of the properties in the DAPT data model are common within more than one object type,
            and carry the same semantic everywhere they occur.
            These <dfn>shared properties</dfn> are listed in this section.
          </p>
          <p>Some of the value sets in DAPT are reused across more than one property,
            and have the same constraints everywhere they occur.
            These shared value sets are also listed in this section.
          </p>
          <p class="ednote">Would it be better to make a "Timed Object" class and subclass Script Event,
            Mixing Instruction and Audio Recording from it?
          </p>
          <section>
            <h5>Timing Properties</h5>
            <p>The following <dfn data-lt="timing property|timing properties">timing properties</dfn>
              define when the entities that contain them are active:
            </p>
            <ul>
              <li>The <dfn>Begin</dfn> property defines when an object becomes active,
                and is relative to the active begin time of the parent object.
                <a>DAPT Scripts</a> begin at time zero on the media timeline.
              </li>
              <li>The <dfn>End</dfn> property defines when an object stops being active,
                and is relative to the active begin time of the parent object.</li>
              <li>The <dfn>Duration</dfn> property defines the maximum duration of an object.
                <p class="note">If both an <a>End</a> and a <a>Duration</a> property are present,
                  the end time is the earlier of <a>End</a> and <a>Begin</a> + <a>Duration</a>,
                  as defined by [[TTML2]].</p>
                </li>
            </ul>
            <div class="note">If any of the <a>timing properties</a> is omitted, the following rules apply,
              paraphrasing the timing semantics defined in [[TTML2]]:
              <ul>
                <li>The default value for <a>Begin</a> is zero, i.e. the same as the begin time of the parent object.</li>
                <li>The default value for <a>End</a> is indefinite,
                  i.e. it resolves to the same as the end time of the parent timed object,
                  if there is one.</li>
                <li>The default value for <a>Duration</a> is indefinite,
                  i.e. the end time resolves to the same as the end time of the parent object.</li>
              </ul>
            </div>
            <p class="note">
              The end time of a <a>DAPT Script</a> is for practical purposes the end of the <a>Related Media Object</a>.
            </p>
          </section>

          <section id="contentDescriptor">
            <h5><code>&lt;content-descriptor&gt;</code> values</h5>
            <p>The values permitted in the <a>Script Represents</a> and <a>Represents</a> properties depend on the
              <code>&lt;<dfn>content-descriptor</dfn>&gt;</code> syntactic definition
              and its associated registry table.
            </p>
            <p><code>&lt;<a>content-descriptor</a>&gt;</code> has a value conforming to the following syntax:</p>
            <div class="exampleInner">
              <pre class="language-abnf nohighlight">
    &lt;content-descriptor&gt;  # see registry table below
    : &lt;descriptor-token&gt; ( &lt;descriptor-delimiter&gt; &lt;descriptor-token&gt; )*
  
    &lt;<dfn>descriptor-token</dfn>&gt;
    : (descriptorTokenChar)+

    descriptorTokenChar  # <a data-cite="xmlschema-2#NMTOKEN">xsd:NMtoken</a> without the "."
    : <a data-cite="xml#NT-NameStartChar">NameStartChar</a> | "-" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]

    &lt;descriptor-delimiter&gt;
    : "."  # FULL STOP U+002E
              </pre>
            </div>
            <p><code>&lt;<a>content-descriptor</a>&gt;</code> has values that are delimiter separated ordered lists
              of tokens.</p>
            <p>A <code>&lt;<a>content-descriptor</a>&gt;</code> value <em>B</em> is a <dfn data-abbr="sub-type">content descriptor sub-type</dfn>
              of another <code>&lt;content-descriptor&gt;</code> value <em>A</em> if A's ordered list of <a>descriptor-tokens</a> is
              present at the beginning of B's ordered list of <a>descriptor-tokens</a>.
            </p>
            <aside class="example">
              <table class="data">
                <caption>Table demonstrating example values of <code>&lt;<a>content-descriptor</a>&gt;</code>
                  and whether each is a  <a>sub-type</a> of the other.
                </caption>
                <thead>
                  <tr>
                    <th><code>&lt;content-descriptor&gt;</code> A</th>
                    <th><code>&lt;content-descriptor&gt;</code> B</th>
                    <th>Is B a <a>sub-type</a> of A?</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>visual.text</code></td>
                    <td><code>visual</code></td>
                    <td>No</td>
                  </tr>
                  <tr>
                    <td><code>visual.text</code></td>
                    <td><code>visual.text</code></td>
                    <td>Yes</td>
                  </tr>
                  <tr>
                    <td><code>visual.text</code></td>
                    <td><code>visual.text.location</code></td>
                    <td>yes</td>
                  </tr>
                </tbody>
              </table>
              <p>For example, in this table, A could be one of the values listed in <a>Script Represents</a> property,
                and B could be the value of a <a>Represents</a> property.</p>
            </aside>
            <p>The permitted values for <code>&lt;<a>content-descriptor</a>&gt;</code>
              are either those listed in the following <a>registry table</a>, or can be user-defined.</p>
            <p>Valid user-defined values MUST begin with <code>x-</code> or be <a>sub-types</a> of
              values in the <code>content-descriptor</code> registry table, where the
              first additional <code>&lt;<a>descriptor-token</a>&gt;</code> component begins with <code>x-</code>.</p>

              <div class="registry-table-section">
                <table class="data">
                  <caption><a>Registry table</a> for the <code>&lt;<a>content-descriptor</a>&gt;</code> component
                    whose Registry Definition is at <a href="#registry-table-content-descriptor"></a></caption>
                  <thead>
                    <th><code>&lt;<a>content-descriptor</a>&gt;</code></th>
                    <th>Status</th>
                    <th>Description</th>
                    <th>Example usage</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td><code>audio</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents any part of the audio programme.</td>
                      <td>Dubbing, translation and hard of hearing subtitles and captions, pre- and post- production scripts</td>
                    </tr>
                    <tr>
                      <td><code>audio.dialogue</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents verbal communication in the audio programme,
                        for example, a spoken conversation.</td>
                      <td>Dubbing, translation and hard of hearing subtitles and captions, pre- and post- production scripts</td>
                    </tr>
                    <tr>
                      <td><code>audio.nonDialogueSounds</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents a part of
                        the audio programme corresponding to sounds that are not verbal communication,
                        for example, significant sounds, such as a door being slammed in anger.
                      </td>
                      <td>Translation and hard of hearing subtitles and captions, pre- and post- production scripts</td>
                    </tr>
                    <tr>
                      <td><code>visual</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents any part of the visual image of the programme.</td>
                      <td>Audio Description</td>
                    </tr>
                    <tr>
                      <td><code>visual.dialogue</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents verbal communication,
                        within the visual image of the programme,
                        for example, a signed conversation.</td>
                      <td>Dubbing or Audio Description, translation and hard of hearing subtitles and captions, pre- and post- production scripts</td>
                    </tr>
                    <tr>
                      <td><code>visual.nonText</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents non-textual
                        parts of the visual image of the programme,
                        for example, a significant object in the scene.</td>
                      <td>Audio Description</td>
                    </tr>
                    <tr>
                      <td><code>visual.text</code></td>
                      <td>Provisional</td>
                      <td>Indicates that the DAPT content represents textual
                        content in the visual image of the programme,
                        for example, a signpost, a clock, a newspaper headline, an instant message etc.</td>
                      <td>Audio Description</td>
                    </tr>
                    <tr>
                      <td><code>visual.text.title</code></td>
                      <td>Provisional</td>
                      <td>A <a>sub-type</a> of <code>visual.text</code> where the text is the title of the related media.</td>
                      <td>Audio Description</td>
                    </tr>
                    <tr>
                      <td><code>visual.text.credit</code></td>
                      <td>Provisional</td>
                      <td>A <a>sub-type</a> of <code>visual.text</code> where the text is a credit, e.g. the name of an actor.</td>
                      <td>Audio Description</td>
                    </tr>
                    <tr>
                      <td><code>visual.text.location</code></td>
                      <td>Provisional</td>
                      <td>A <a>sub-type</a> of <code>visual.text</code> where the text indicates the location where the content is occurring.</td>
                      <td>Audio Description</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </section>
        </section>

      </section>
      <section>
        <h3>Character</h3>

        <p><em>This section is mainly relevant to <a>Dubbing</a> workflows.</em></p>
        <p>A character in the programme can be described using a <dfn>Character</dfn> object which has the following properties: 
          <ul>
            <li>a mandatory <dfn data-lt="Character Identifier">Identifier</dfn>
            which is a unique identifier used to reference the character from elsewhere in the document,
            for example to indicate when a <a>Character</a> participates in a <a>Script Event</a>.</li>
            <li>a mandatory <dfn data-lt="Character Name">Name</dfn> which is the name of the <a>Character</a> in the programme</li>
            <li>an optional <dfn data-lt="Character Talent Name">Talent Name</dfn>, which is the name of the actor speaking dialogue for this <a>Character</a>.</li>
          </ul>
        </p>
        <p>A <a>Character</a> is represented in a <a>DAPT Document</a> by the following structure and constraints:</p>
        <ul>
          <li>The <a>Character</a> is represented in a <a>DAPT Document</a> by a <code>&lt;ttm:agent&gt;</code> element present at the path
            <code>/tt/head/metadata/ttm:agent</code>, with the following constraints:
            <ul>
              <li>The <code>type</code> attribute MUST be set to <code>character</code>.</li>
              <li>The <code>xml:id</code> attribute MUST be present on the <code>&lt;ttm:agent&gt;</code> element and set to the <a>Character Identifier</a>.</li>
              <li>The <code>&lt;ttm:agent&gt;</code> element MUST contain a <code>&lt;ttm:name&gt;</code> element with its <code>type</code> attribute set to <code>alias</code> and its content set to the <a>Character Name</a>.</li>
              <li><p>If the Character has a <a>Talent Name</a>, it MUST contain a <code>&lt;ttm:actor&gt;</code> child element.
                That child element MUST have an <code>agent</code> attribute set to
                the value of the <code>xml:id</code> attribute of a separate <code>&lt;ttm:agent&gt;</code> element
                corresponding to the <a>Talent Name</a>,
                that is, whose <code>type</code> attribute is set to <code>person</code>.</p>
                <p class="note">The requirement for an additional <code>&lt;ttm:agent&gt;</code> element
                  corresponding to the <a>Talent Name</a> is defined in the following bullet list.</p></li>
            </ul>

          <pre class="example">
...
&lt;metadata&gt;
  &lt;ttm:agent type=&quot;character&quot; xml:id=&quot;character_1&quot;&gt;
    &lt;ttm:name type=&quot;alias&quot;&gt;DESK CLERK&lt;/ttm:name&gt;
  &lt;/ttm:agent&gt;
&lt;/metadata&gt;
...
          </pre>

          <pre class="example">
...
&lt;metadata&gt;
  &lt;ttm:agent type=&quot;person&quot; xml:id=&quot;actor_A&quot;&gt;
    &lt;ttm:name type=&quot;full&quot;&gt;Matthias Schoenaerts&lt;/ttm:name&gt;
  &lt;/ttm:agent&gt;
  &lt;ttm:agent type=&quot;character&quot; xml:id=&quot;character_2&quot;&gt;
    &lt;ttm:name type=&quot;alias&quot;&gt;BOOKER&lt;/ttm:name&gt;
    &lt;ttm:actor agent=&quot;actor_A&quot;/&gt;
  &lt;/ttm:agent&gt;
&lt;/metadata&gt;
...
          </pre>
          </li>

          <li>If the <a>Character</a> has a <a>Talent Name</a> property:
            <ul>
              <li>A <code>&lt;ttm:agent&gt;</code> element corresponding to the <a>Talent Name</a> 
                MUST be present at the path
                <code>/tt/head/metadata/ttm:agent</code>, with the following constraints:
                <ul>
                  <li>its <code>type</code> attribute MUST be set to <code>person</code></li>
                  <li>its <code>xml:id</code> attribute MUST be set.</li>
                  <li>it MUST have a <code>&lt;ttm:name&gt;</code> child element whose
                    <code>type</code> MUST be set to <code>full</code> and its content set to the <a>Talent Name</a></li>
                </ul>
              </li>
              <li>If more than one <a>Character</a> is associated with the same
                <a>Talent Name</a> there SHOULD be a single
                <code>&lt;ttm:agent&gt;</code> element corresponding to that <a>Talent Name</a>,
                referenced separately by each of the <a>Characters</a>.</li>
              <li>Each <code>&lt;ttm:agent&gt;</code> element corresponding to a <a>Talent Name</a>
                SHOULD appear before any of the <a>Character</a> <code>&lt;ttm:agent&gt;</code> elements
                whose <code>&lt;ttm:actor&gt;</code> child element references it.</li>
            </ul>
          </li>

          <li>All <code>&lt;ttm:agent&gt;</code> elements SHOULD be contained in the first <code>&lt;metadata&gt;</code> element in the <code>&lt;head&gt;</code> element.
            <div class="note">There can be multiple <code>&lt;metadata&gt;</code> elements in the <code>&lt;head&gt;</code> element,
            for example to include <a href="#proprietary-metadata-and-foreign-vocabulary">proprietary metadata</a>
            but the above recommends that only one is used to define the characters.</div>
            <aside class="ednote">The group is considering updating the rule(s) around which metadata element
            is used to carry DAPT information. The group would like to balance simplicity of implementation
            (e.g. locating the DAPT metadata in one place) vs. flexibility of authoring
            (e.g. having different metadata elements for series vs episodes). One approach is the current one:
            "only one metadata element, the first one". Another approach is "only one metadata element,
            identified by an attribute". Another approach is "any number of metadata elements".
            The group welcomes feedback from implementers and users.</aside>
          </li>
        </ul>
        <aside class="note">As indicated in [[[#unrecognised-elements-and-attributes]]], <code>ttm:agent</code>
        elements can have foreign attributes and elements. This can be used to provide additional, proprietary
        character information.</aside>

        <p class="issue" data-number="44"></p>
      </section>

      <section>
        <h3>Script Event</h3>
        <p>A <dfn>Script Event</dfn> object represents dialogue, on screen text or audio descriptions to be spoken and has the following properties:</p>
        <ul>
          <li>A mandatory <dfn>Script Event Identifier</dfn> which is unique in the <a>script</a></li>
          <li>An optional <a>Begin</a> property and an optional <a>End</a> and an optional <a>Duration</a> property
            that together define the <a>Script Event</a>'s time interval in the programme timeline
            <p class="note">Typically <a>Script Events</a> do not overlap in time.
              However, there can be cases where they do,
              e.g. in <a>Dubbing Scripts</a> when different <a>Characters</a> speak different text at the same time.</p>
          </li>
          <li>A <a>Represents</a> property
            used to identify what content the event represents (e.g. dialogue, on screen text, etc.).
            Every <a>Script Event</a> MUST have a valid <a>Represents</a> property.
          <aside class="note">The <a>Represents</a> property is inheritable,
            so the value does not need to be specified on every <a>Script Event</a> explicitly.</aside></li>
          <li>Zero or more <a>Character Identifiers</a> indicating the <a>Characters</a> involved in this <a>Script Event</a>.
            <p class="note">While typically, a <a>Script Event</a> corresponds to one single <a>Character</a>,
              there are cases where multiple <a>characters</a> can be associated with a <a>Script Event</a>.
              This is when all <a>Characters</a> speak the same text at the same time.</p>
            <p class="note">In a <a>transcript</a>, when the event corresponds to in-image content,
              for example an <a>audio description</a>, no <a>Character Identifier</a> is needed.
              However it may be helpful in a <a>Pre-recording Script</a> or an <a>As-recorded Script</a> context
              to indicate a <a>Character</a> signifying who voices the recording.</p>
          </li>
          <li><p>Zero or more <a>Text</a> objects, each being either <a>Original</a> or <a>Translation</a>.</p>
            <p class="note">A <a>Script Event</a> with no <a>Text</a> objects can be created as part
              of an initial phase of authoring, in workflows where it is helpful
              to block out the time intervals during which some content could be present.
              For example, an empty <a>Script Event</a> with <a>timing properties</a>
              can be created to identify an opportunity for creating an audio description.
              See also <a data-cite="DAPT-REQS#identify-key-times-in-programme-dialog-mark-gaps-process-step-1">[DAPT-REQS] Process Step 1</a>.</p>
            <p class="note">Empty <a>Text</a> objects, i.e. ones that have no text content,
              can be used to indicate explicitly that there is no text content.
              It is recommended that empty <a>Text</a> objects are not used as a workflow placeholder to indicate incomplete work.</p></li>
          <li>zero or more <a>Script Event Description</a> objects, each being a human-readable description of the <a>Script Event</a>.</li>
          <li>an optional <a>On Screen</a> property, which is an annotation indicating the position of the subject (e.g. a <a>character</a>) of the <a>Script Event</a></li>
          <li>Zero or more <a>Mixing Instruction</a> objects used to adjust playback of the programme audio during the <a>Script Event</a>.</li>
        </ul>
        
        <p>A <a>Script Event</a> is represented in a <a>DAPT Document</a> at the path
        <code>/tt/head/body//div</code>,
        with the following structure and constraints:</p>

        <p class="issue" data-number="233"></p>

        <ul>
          <li>There MAY be any number of nested <code>&lt;div&gt;</code> element ancestors
          in the path between the <code>&lt;body&gt;</code> element and
          the <code>&lt;div&gt;</code> element corresponding to the <a>Script Event</a>.
          No further semantic is defined for such elements.</li>
          <li>There MUST be one <code>&lt;div&gt;</code> element corresponding to the <a>Script Event</a>,
            with the following constraints:
          <ul>
            <li>The <code>xml:id</code> attribute MUST be present containing the <a>Script Event Identifier</a>.</li>
            <li>
              <p>The <code>begin</code>, <code>end</code> and <code>dur</code> attributes represent respectively the <a>Begin</a>, <a>End</a> and <a>Duration</a> of the <a>Script Event</a>.</p>
              <p>The <code>begin</code> and <code>end</code> attributes SHOULD be present.
                The <code>dur</code> attribute MAY be present.</p>
              <p class="note">See <a href="#timing-properties"></a> for additional notes on timing properties.</p>
            </li>
            <li>The <code>ttm:agent</code> attribute MAY be present and if present,
              MUST contain a reference to each <code>ttm:agent</code> attribute that represents an associated <a>Character</a>.
              <aside class="note">Multiple references are specified using a space-separated list.</aside>
              <pre class="example">
...
&lt;div xml:id=&quot;event_1&quot;
     begin=&quot;9663f&quot; end=&quot;9682f&quot; 
     ttm:agent=&quot;character_4&quot;&gt;
...
&lt;/div&gt;
...
              </pre>
            </li>
            <li>The <a><code>daptm:represents</code></a> attribute MAY be present
              representing the <a>Represents</a> property.
              <pre class="example">
                ...
                &lt;div xml:id=&quot;event_1&quot;
                     begin=&quot;9663f&quot; end=&quot;9682f&quot; 
                     daptm:represents=&quot;audio.dialogue&quot;&gt;
                ...
                &lt;/div&gt;
                ...
              </pre>
            </li>
            <li>The computed value of the the <a><code>daptm:represents</code></a> attribute MUST be a valid non-empty value.
              <aside class="note">It is possible to specify the <a><code>daptm:represents</code></a>
                attribute on an ancestor element, since <a>Represents</a> is an inheritable property.</aside></li>
            <li>It MAY contain zero or more <code>&lt;p&gt;</code> elements representing each <a>Text</a> object.</li>
            <li>It MAY contain a <code>&lt;metadata&gt;</code> element representing the <a>On Screen</a> property.</li>
            <li>It MUST NOT contain any <code>&lt;div&gt;</code> element children.</li>
          </ul>
          </li>
        </ul>
        
        </section>

        <section>
          <h4>Text</h4>
          <p>The <dfn>Text</dfn> object contains text content typically in a single language.
            This language may be the <a>Original</a> language or a <a>Translation</a> language.</p>
          <p><a>Text</a> is defined as <dfn>Original</dfn> if it is any of:
            <ol>
              <li>the same language as the dialogue that it represents in the original programme audio;</li>
              <li>a transcription of text visible in the programme video, in the same language as that text;</li>
              <li>an untranslated representative of non-dialogue sound;</li>
              <li>an untranslated description of the scene in the programme video.</li>
            </ol>
          </p>
          <aside class="note">The language of an <a>Original</a> <a>Text</a> object
            can be different to the document's <a>Default Language</a>.</aside>
          <p><a>Text</a> is defined as <dfn>Translation</dfn> if it is
            a representation of an <a>Original</a> <a>Text</a> object in a different language.</p>
          <p><a>Text</a> can be <em>identified</em> as being <a>Original</a> or <a>Translation</a>
            by inspecting its language and its <a>Text Language Source</a> together,
            according to the semantics defined in <a>Text Language Source</a>.</p>
          <p>The source language of <a>Translation</a> <a>Text</a> objects and, where applicable,
            <a>Original</a> <a>Text</a> objects
            is indicated using the <a>Text Language Source</a> property.</p>
          <p>A <a>Text</a> object may be styled.</p>
          <p>Zero or more <a>Mixing Instruction</a> objects used to modify the programme audio during the <a>Text</a> MAY be present.
          </p>
          <p>A <a>Text</a> object is represented in a <a>DAPT Document</a> by a <code>&lt;p&gt;</code> element at the path
            <code>/tt/head/body//div/p</code>, with the following constraints:</p>
            <ul>
              <li>The <a>Text</a> of the <a>Script Event</a> is represented by the character content
              of the <code>&lt;p&gt;</code> element and of all of its <code>&lt;span&gt;</code> descendant elements,
              after <code>&lt;metadata&gt;</code> elements and foreign elements have been pruned,
              after replacing <code>&lt;br&gt;</code> elements by line breaks,
              and after applying White Space Handling as defined in [[!XML]].
                <aside class="note">The text content of the paragraph can be structured using TTML elements such as
                  <code>&lt;br&gt;</code> or <code>&lt;span&gt;</code>
                  which can include or reference TTML style attributes
                  such as <code>tts:ruby</code> used to alter the layout or styling of
                  sections of text within each paragraph.
                  Mixed direction text, for example interleaved left to right (ltr)
                  and right to left (rtl) text, can be specified by using the
                  <code>tts:direction</code> attribute on <code>&lt;span&gt;</code> elements.
                  Similarly metadata can be added using attributes or <code>&lt;metadata&gt;</code> elements.</aside>
              </li>
              <li>The <code>&lt;p&gt;</code> element SHOULD have a <a><code>daptm:langSrc</code></a> attribute
                representing the <a>Text</a> object's <a>Text Language Source</a>,
                that is, indicating whether the <a>Text</a> is <a>Original</a> or a <a>Translation</a> and
                if its source had an inherent language.
                <aside class="note">
                  <p>If a <code>&lt;p&gt;</code> element omits the <a><code>daptm:langSrc</code></a> attribute
                    then its computed value is derived by inheritance from its parent element,
                    and so forth up to the root <code>&lt;tt&gt;</code> element.</p>
                  <p>In <a>scripts</a> that have very little variation in source language,
                    the <a><code>daptm:langSrc</code></a> attribute can be set on the root element
                    and omitted from <code>&lt;p&gt;</code> elements except where its value
                    differs.</p>
                  <p>Care should be taken if using this approach, especially when moving between
                    <a>Script Types</a>, because changing it at the root element could affect
                    the interpretation of descendant elements unexpectedly.
                    In tools that allow fine-grained control,
                    authors can mitigate this risk by explicitly setting the <a><code>daptm:langSrc</code></a> attribute
                    on all <code>&lt;p&gt;</code> elements.</p>
                  <p>Implementers should take care to ensure that,
                    when changing the <a><code>daptm:langSrc</code></a> attribute on an element,
                    they check down the tree and if appropriate specify the attribute on descendant elements
                    so that their meaning does not change unintentionally.</p>
                </aside>
                <aside class="note">
                  <p>A document that does not specify the <a><code>daptm:langSrc</code></a> attribute at all
                    implies that all of the text is a transcript of content with no inherent language,
                    for example audio description where no in-image text is transcribed,
                    and which has not been translated.</p>
                </aside>
              </li>
              <li>The <code>&lt;p&gt;</code> element SHOULD have an <code>xml:lang</code> attribute
                corresponding to the language of the <a>Text</a> object.
                <aside class="note">
                  <p>If a <code>&lt;p&gt;</code> element omits the <code>xml:lang</code> attribute
                    then its computed language is derived by inheritance from its parent element,
                    and so forth up to the root <code>&lt;tt&gt;</code> element,
                    which is required to set the <a>Default Language</a> via its <code>xml:lang</code> attribute.</p>
                  <p>Care should be taken if changing the <a>Default Language</a> of a <a>DAPT Script</a> in case
                    doing so affects descendant elements unexpectedly.
                    In tools that allow fine-grained control,
                    authors can mitigate this risk by explicitly setting the <code>xml:lang</code> attribute
                    on all <code>&lt;p&gt;</code> elements.</p>
                  <p>Implementers should take care to ensure that,
                    when changing the <code>xml:lang</code> attribute on an element,
                    they check down the tree and if appropriate specify the attribute on descendant elements
                    so that their meaning does not change unintentionally.</p>
                </aside>
                <pre class="example">
&lt;div xml:id=&quot;event_3&quot;
     begin=&quot;9663f&quot; end=&quot;9682f&quot; 
     ttm:agent=&quot;character_3&quot;&gt;
  &lt;p xml:lang=&quot;pt-BR&quot;&gt;Voc&#xea; vai ter.&lt;/p&gt;
  &lt;p xml:lang=&quot;fr&quot; daptm:langSrc=&quot;pt-BR&quot;&gt;Bah, il arrive.&lt;/p&gt;
&lt;/div&gt;
                </pre>
                <p class="note">In some cases, a single section of untranslated dialogue can contain text in more than one language.
                Rather than splitting a <a>Script Event</a> into multiple <a>Script Events</a> to deal with this,
                <a>Text</a> objects in one language can also contain some words in a different language.
                This is represented in a <a>DAPT Document</a> by setting the <code>xml:lang</code> and
                <a><code>daptm:langSrc</code></a>
                attributes on inner <code>&lt;span&gt;</code> elements.</p>
                <p class="note"><code>&lt;span&gt;</code> elements can be used to add specific timing
                as illustrated in [[[#example-10]]] to indicate the timing of the audio rendering
                of the relevant section of text. Per [[TTML2]], timing of the <code>&lt;span&gt;</code>
                element is relative to the parent element's computed begin time.</p>
              </li>
              <li>It MAY contain zero or more <code>&lt;audio&gt;</code> elements representing each <a>Audio Recording</a> object.</li>
              <li>It MAY contain zero or more <code>&lt;animate&gt;</code> elements representing each <a>Mixing Instruction</a> object.</li>
            </ul>
        </section>

        <section>
          <h4>Text Language Source</h4>
          <p>The <dfn>Text Language Source</dfn> property is an annotation indicating the source language of
            a <a>Text</a> object, if applicable, or that the source content had no inherent language:</p>
          <ul>
            <li>If it is empty, the <a>Text</a> represents content without an inherent language,
            such as untranslated descriptions of a visual scene or
            captions representing non-dialogue sounds.</li>
            <li>Otherwise (if it is not empty):
              <ul>
                <li>if its value is the same as the language of the <a>Text</a> object,
                  the <a>Text</a> is <a>Original</a>.</li>
                <li>otherwise (if the value is different to the language of the <a>Text</a>),
                  the <a>Text</a> is a <a>Translation</a>,
                  whose source language is the <a>Text Language Source</a> property's value.</li>
              </ul>
            </li>
          </ul>
          <p><a>Text Language Source</a> is an inheritable property.</p>
          <p>The <a>Text Language Source</a> property is represented in a <a>DAPT Document</a> by a <dfn><code>daptm:langSrc</code></dfn> attribute
            with the following syntax, constraints and semantics:</p>
          <div class="exampleInner">
            <pre class="language-abnf">
daptm:langSrc
: &lt;empty-string&gt; | &lt;language-identifier&gt;

&lt;empty-string&gt;
: ""                    # default

&lt;language-identifier&gt;   # valid BCP-47 language tag
            </pre>
          </div>
          <ul>
            <li>The value MUST be an empty string or a language identifier as defined by [[BCP47]].</li>
            <li>The default value is the empty string.</li>
            <li>It <em>applies</em> to <code>&lt;p&gt;</code> and <code>&lt;span&gt;</code> elements.</li>
            <li>It MAY be specified on the following elements: <code>&lt;tt&gt;</code>, <code>&lt;p&gt;</code> and <code>&lt;span&gt;</code>.</li>
            <li>The inheritance model of the <a><code>daptm:langSrc</code></a> attribute is as follows:
              <ul>
                <li>If it is present on an element,
                  the computed value is the specified value.</li>
                <li>Otherwise (if it is not present on an element),
                  the computed value of the attribute on that element is
                  the computed value of the same attribute on the element's parent,
                  or if the element has no parent it is the default value.</li>
               </ul>
              <p class="note">The inheritance model of the <a><code>daptm:langSrc</code></a> attribute is intended to match
                the inheritance model of the <code>xml:lang</code> attribute [[XML]].</p>
            </li>
            <li>The semantics of the computed value are as follows:
              <ul>
                <li>If the computed value is the empty string then it indicates
                  that the <a>Text</a> is <a>Original</a>
                  and sourced from content without an inherent language.</li>
                <li>Otherwise (the computed value is not empty)
                  <ul>
                    <li>if the computed value is the same as the computed value of the <code>xml:lang</code> attribute,
                    then it indicates that the <a>Text</a> is <a>Original</a>
                    and sourced from content with an inherent language.</li>
                    <li>Otherwise (the computed value
                    differs from the computed value of the <code>xml:lang</code> attribute),
                    it indicates that the <a>Text</a> is a <a>translation</a>,
                    and the computed value is the language from which the <a>Text</a> was translated.</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
          <p class="note">An example of the usage of <a>Text Language Source</a> in a document is present in the <a>Text</a> section.</p>
          <aside class="example">
            <table class="data">
              <caption>Table enumerating example values of the <code>xml:lang</code> and
                <a><code>daptm:langSrc</code></a> attributes for different <a>Original</a> transcript sources and
                their inherent languages.
              </caption>
              <thead>
                <tr>
                  <th>Transcript source</th>
                  <th>Inherent language of the transcript source</th>
                  <th><code>xml:lang</code></th>
                  <th><code>daptm:langSrc</code></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>In-image text</td>
                  <td>English</td>
                  <td><code>en</code></td>
                  <td><code>en</code></td>
                </tr>
                <tr>
                  <td>Video image (non text)</td>
                  <td><em>none</em></td>
                  <td><code>en</code></td>
                  <td><em>empty</em></td>
                </tr>
                <tr>
                  <td>Sound effect</td>
                  <td><em>none</em></td>
                  <td><code>en</code></td>
                  <td><em>empty</em></td>
                </tr>
                <tr>
                  <td>Dialogue</td>
                  <td>Arabic</td>
                  <td><code>ar</code></td>
                  <td><code>ar</code></td>
                </tr>
              </tbody>
            </table>
            <p>If any of these transcripts were translated,
              the resulting <a>Text</a> would have its <a><code>daptm:langSrc</code></a> attribute
              set to the computed value of the <code>xml:lang</code> attribute
              of the source.</p>
            <p>For example, if the Arabic dialogue were translated into Japanese,
              it would result in <code>xml:lang="ja"</code> and <code>daptm:langSrc="ar"</code>.</p>
          </aside>
        </section>

        <section>
          <h4>On Screen</h4>
          <p>The <dfn>On Screen</dfn> property is an annotation indicating
            the position in the scene relating to the subject of a <a>Script Event</a>,
            for example of the <a>character</a> speaking:</p>
          <ul>
            <li>ON - the <a>Script Event</a>'s subject is on screen for the entire duration</li>
            <li>OFF - the <a>Script Event</a>'s subject is off screen for the entire duration</li>
            <li>ON_OFF - the <a>Script Event</a>'s subject starts on screen, but goes off screen at some point</li>
            <li>OFF_ON - the <a>Script Event</a>'s subject starts off screen, but goes on screen at some point</li>
          </ul>
          <p>If omitted, the default value is "ON".</p>
          <aside class="note">When the <a>daptm:represents</a> attribute value begins with
            <code>visual</code> the subject of each
            <a>Script Event</a>, i.e. what is being described,
            is expected to be in the video image, therefore the default of "ON" allows
            the property to be omitted in those cases without distortion of meaning.</aside>
          <p>The <a>On Screen</a> property is represented in a <a>DAPT Document</a> by a
            <dfn><code>daptm:onScreen</code></dfn> attribute on the
            <code>&lt;div&gt;</code> element, with the following constraints:
            <ul>
              <li>The following attribute corresponding to the <a>On Screen</a> <a>Script Event</a> property may be present:
                <div class="exampleInner">
                  <pre class="language-abnf">
daptm:onScreen
  : "ON"     # default
  | "OFF"
  | "ON_OFF"
  | "OFF_ON"
                  </pre>
                </div>
              </li>
            </ul>
          </p>
        </section>

        <section>
          <h4>Represents</h4>
          <p>The <dfn>Represents</dfn> property indicates which component of the <a>related media object</a>
           the <a>Script Event</a> represents.</p>
          <p>The <a>Represents</a> property is represented in a <a>DAPT Document</a> by
            a <dfn><code>daptm:represents</code></dfn> attribute,
            whose value MUST be a single <code>&lt;<a>content-descriptor</a>&gt;</code>.
          </p>
          <p>The <a>Represents</a> property is inheritable.
            If it is absent from an element then its computed value is the computed value of
            the <a>Represents</a> property on its parent element,
            or, if it has no parent element, it is the empty string.
            If it is present on an element then its computed value is the value specified.</p>
          <p class="note">Since there is no empty &lt;<a>content-descriptor</a>&gt;,
            this implies that an empty computed <a>Represents</a>
            property can never be valid; one way to construct
            a valid <a>DAPT Document</a> is to specify a <a>Represents</a>
            property on the <a>DAPT Script</a> so that it is
            inherited by all descendants that do not have a <a>Represents</a>
            property.</p>
          <p>It is an error for a <a>Represents</a> property value not to be a
            <a>content descriptor sub-type</a> of at least one of the values in the <a>Script Represents</a> property.</p>
          </section>

        <section>
          <h4>Script Event Description</h4>
          <p>The <dfn>Script Event Description</dfn> object is
            an annotation providing a human-readable description of some aspect of the content of a <a>Script Event</a>.
            Script Event Descriptions can themselves be classified with
            a <a>Description Type</a>.</p>
          <p>A <a>Script Event Description</a> object is represented in a <a>DAPT Document</a> by
            a <code>&lt;ttm:desc&gt;</code> element at the <code>&lt;div&gt;</code> element level.</p>
          <p>Zero or more <code>&lt;ttm:desc&gt;</code> elements MAY be present.</p>
          <p><a>Script Event Descriptions</a> SHOULD NOT be empty.</p>
          <p class="note">The <a>Script Event Description</a> does not need to be unique,
            i.e. it does not need to have a different value for each <a>Script Event</a>. 
            For example a particular value could be re-used to identify in a human-readable way
            one or more <a>Script Events</a> that are intended to be processed together,
            e.g. in a batch recording.</p>
          <p>The <code>&lt;ttm:desc&gt;</code> element
            MAY specify its language
            using the <code>xml:lang</code> attribute.</p>
          <aside class="note">In the absence of an <code>xml:lang</code> attribute
            the language of the <a>Script Event Description</a> is inherited from the
            parent <a>Script Event</a> object.</aside>
          <pre class="example"
            data-include="examples/event-desc.xml"
            data-include-format="text">
          </pre>
          <p>Each <a>Script Event Description</a> can be annotated with
            one or more <dfn data-lt="Description Type">Description Types</dfn>
            to categorise further the purpose of the Script Event Description.</p>
          <p>Each <a>Description Type</a> is represented in a <a>DAPT Document</a> by
            a <code>daptm:descType</code> attribute on the <code>&lt;ttm:desc&gt;</code> element.</p>
          <p>The <code>&lt;ttm:desc&gt;</code> element MAY have zero or one <code>daptm:descType</code> attributes.
            The <code>daptm:descType</code> attribute is defined below.</p>
          <div class="exampleInner">
            <pre class="language-abnf">
daptm:descType : string
            </pre>
          </div>
          <p>Its permitted values are listed in the following <a>registry table</a>:</p>
          <div class="registry-table-section">
            <table class="data">
              <caption><a>Registry table</a> for the <code>daptm:descType</code> attribute
                whose Registry Definition is at <a href="#registry-table-descType"></a></caption>
              <thead>
                <th><code>daptm:descType</code></th>
                <th>Status</th>
                <th>Description</th>
                <th>Notes</th>
              </thead>
              <tbody>
                <tr>
                  <td>pronunciationNote</td>
                  <td>Provisional</td>
                  <td>Notes for how to pronounce the content.</td>
                  <td></td>
                </tr>
                <tr>
                  <td>scene</td>
                  <td>Provisional</td>
                  <td>Contains a scene identifier</td>
                  <td></td>
                </tr>
                <tr>
                  <td>plotSignificance</td>
                  <td>Provisional</td>
                  <td>Defines a measure of how significant the content is to the plot.</td>
                  <td>Contents are undefined and may be low, medium or high, or a numerical scale.</td>
                </tr>
              </tbody>
            </table>
          </div>
          <pre class="example"
            data-include="examples/event-desc-descType.xml"
            data-include-format="text">
          </pre>
          <p>Amongst a sibling group of <code>&lt;ttm:desc&gt;</code> elements
            there are no constraints on the uniqueness of the <code>daptm:descType</code> attribute,
            however it may be useful as a distinguisher as shown in the following example.</p>
          <pre class="example"
            data-include="examples/event-desc-multiple-descType.xml"
            data-include-format="text">
          </pre>
        </section>

      <section>
        <h3>Audio</h3>
        <p>An <dfn>Audio</dfn> object is used to specify an audio rendering of a <a>Text</a>.
          The audio rendering can either be a recorded audio resource,
          as an <a>Audio Recording</a> object,
          or a directive to synthesize a rendering of the text via a text to speech engine,
          which is a <a>Synthesized Audio</a> object.
          Both are types of <a>Audio</a> object.
        </p>
        <p>It is an error for an <a>Audio</a> not to be in the same language as its <a>Text</a>.</p>
        <p>A <a>presentation processor</a> that supports audio plays or inserts the <a>Audio</a>
          at the specified time on the <a>related media object</a>'s timeline.</p>
        <p class="note">The <a>Audio</a> object is "abstract": it only can exist as
          one of its sub-types, <a>Audio Recording</a> or <a>Synthesized Audio</a>.</p>
        <section>
          <h4>Audio Recording</h4>
          <p>An <dfn>Audio Recording</dfn> is an <a>Audio</a> object that references an audio resource.
            It has the following properties:
          </p>
          <ul>
            <li>One or more alternative <dfn data-lt="Source|Sources">Sources</dfn>, each of which is either
              1) a link to an external audio resource
              or 2) an embedded audio recording;</li>
            <li>For each <a>Source</a>, one mandatory <dfn>Type</dfn>
              that specifies the type ([[MIME-TYPES]]) of the audio resource,
              for example <code>audio/basic</code>;</li>
            <li>An optional <a>Begin</a> property and an optional <a>End</a> and an optional <a>Duration</a> property
              that together define the <a>Audio Recording</a>'s time interval in the programme timeline,
              in relation to the parent element's time interval;
            </li>
            <li>An optional <dfn>In Time</dfn> and an optional <dfn>Out Time</dfn> property
              that together define a temporal subsection of the audio resource;
              <p>The default <a>In Time</a> is the beginning of the audio resource.</p>
              <p>The default <a>Out Time</a> is the end of the audio resource.</p>
              <p>If the temporal subsection of the audio resource is longer than
                the duration of the <a>Audio Recording</a>'s time interval,
                then playback MUST be truncated to end when the
                <a>Audio Recording</a>'s time interval ends.
              </p>
              <aside class="note">
                "Extended descriptions" (known in [[media-accessibility-reqs]] as "Extended video descriptions")
                are longer than the allocated time within the related media.
                A <a>presentation processor</a> that supports extended descriptions
                can allow the effective play rate of the audio resource
                to differ from the play rate of the related media object
                so that the resulting interval has a long enough duration
                to accommodate the audio resource's temporal subsection.
                For example it could pause or slow down playback of
                the <a>related media object</a> while
                continuing playback of the audio resource,
                or it could speed up playback of the audio resource, so that
                the <a>Audio Recording</a>'s time interval does not end
                before the audio resource's temporal subsection.
                This behaviour is currently unspecified and therefore implementation-defined.
              </aside>
              <p>If the temporal subsection of the audio resource is shorter than
                the duration of the <a>Audio Recording</a>'s time interval,
                then the audio resource plays once.
              </p>
            </li>
            <li>Zero or more <a>Mixing Instructions</a> that modify the playback characteristics
               of the <a>Audio Recording</a>.</li>
          </ul>
          <p>When a list of <a>Sources</a> is provided,
            a <a>presentation processor</a> MUST play no more than one of the
            <a>Sources</a> for each <a>Audio Recording</a>.</p>
          <p>
            <img src="figures/fingerprint.png" 
            class="fingerprint" 
            alt="This feature may contribute to browser fingerprintability.">
            Implementations can use the <a>Type</a>, and if present,
            any relevant additional formatting information,
            to decide which <a>Source</a> to play.
            For example, given two <a>Sources</a>, one being a WAV file, and the other an MP3,
            an implementation that can play only one of those formats,
            or is configured to have a preference for one or the other,
            would select the playable or preferred version. 
          </p>
          <p>An <a>Audio Recording</a> is represented in a <a>DAPT Document</a> by an
            <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-audio"><code>&lt;audio&gt;</code></a>
            element child of a <code>&lt;p&gt;</code> or <code>&lt;span&gt;</code> element
            corresponding to the <a>Text</a> to which it applies.
            The following constraints apply to the <code>&lt;audio&gt;</code> element:</p>
          <ul>
            <li>The <code>begin</code>, <code>end</code> and <code>dur</code> attributes
              represent respectively the <a>Begin</a>, <a>End</a> and <a>Duration</a> properties;</li>
            <li>The <code>clipBegin</code> and <code>clipEnd</code> attributes
              represent respectively the <a>In Time</a> and <a>Out Time</a> properties,
              as illustrated by <a href="#example-5"></a>;</li>
            <li>For each <a>Source</a>, if it is a link to an external audio resource,
              the <a>Source</a> and <a>Type</a> properties are represented by exactly one of:
              <ol>
                <li>A <code>src</code> attribute that is not a fragment identifier,
                  and a <code>type</code> attribute respectively;
                  <p>This mechanism cannot be used if there is more than one <a>Source</a>.</p>
                  <pre class="example"
                    data-include="examples/audio-single-external-source.xml"
                    data-include-format="text">
                  </pre>
                </li>
                <li>A <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-source"><code>&lt;source&gt;</code></a> child element with a
                  <code>src</code> attribute that is not a fragment identifier
                  and a <code>type</code> attribute respectively;
                  <pre class="example"
                    data-include="examples/audio-multiple-external-source.xml"
                    data-include-format="text">
                  </pre>
                </li>
              </ol>
              <p>A <code>src</code> attribute that is not a fragment identifier is a URL that references
                an external audio resource, i.e. one that is not embedded within the <a>DAPT Script</a>.
                No validation that the resource can be located is specified in DAPT.</p>
              <p class="ednote">Do we need both mechanisms here?
                It's not clear what semantic advantage the child <code>&lt;source&gt;</code> element carries in this case.
                Consider marking use of that child <code>&lt;source&gt;</code> element as "at risk"?</p>
              <p class="issue" data-number="113"></p>
              <p class="issue" data-number="218"></p>
              <p class="issue" data-number="219"></p>
            </li>
            <li>If the <a>Source</a> is an embedded audio resource,
              the <a>Source</a> and <a>Type</a> properties are represented together by exactly one of:
              <ol>
                <li>A <code>src</code> attribute that is a fragment identifier
                  that references either
                  an <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-audio"><code>&lt;audio&gt;</code></a> element
                  or a <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-data"><code>&lt;data&gt;</code></a> element,
                  where the referenced element is a
                  child of <code>/tt/head/resources</code>
                  and specifies a <code>type</code> attribute
                  and the <code>xml:id</code> attribute used to reference it;
                  <p>This mechanism cannot be used if there is more than one <a>Source</a>.</p>
                  <pre class="example"
                    data-include="examples/audio-single-embedded-referenced-source.xml"
                    data-include-format="text">
                  </pre>
                </li>
                <li>A <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-source"><code>&lt;source&gt;</code></a> child element with a
                  <code>src</code> attribute that is a fragment identifier
                  that references either
                  an <code>&lt;audio&gt;</code> element
                  or a <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-data"><code>&lt;data&gt;</code></a> element,
                  where the referenced element is a
                  child of <code>/tt/head/resources</code>
                  and specifies a <code>type</code> attribute
                  and the <code>xml:id</code> attribute used to reference it;
                  <pre class="example"
                    data-include="examples/audio-multiple-embedded-referenced-source.xml"
                    data-include-format="text">
                  </pre>
                </li>
                <li>A <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-source"><code>&lt;source&gt;</code></a> child element with a
                  <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-data"><code>&lt;data&gt;</code></a> element child
                  that specifies a <code>type</code> attribute and contains the audio recording data.
                  <pre class="example"
                    data-include="examples/audio-single-embedded-inline-source.xml"
                    data-include-format="text">
                  </pre>
                </li>
              </ol>
              <p>In each of the cases above the <code>type</code> attribute represents the <a>Type</a> property.</p>
              <p>A <code>src</code> attribute that is a fragment identifier is a pointer
                to an audio resource that is embedded within the <a>DAPT Script</a></p>
              <p>If <code>&lt;data&gt;</code> elements are defined, each one MUST contain
                either <code>#PCDATA</code> or
                <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-chunk"><code>&lt;chunk&gt;</code></a> child elements
                and MUST NOT contain any <code>&lt;source&gt;</code> child elements.</p>
              <p><code>&lt;data&gt;</code> and <code>&lt;source&gt;</code> elements MAY contain a <code>format</code> attribute
                whose value implementations MAY use in addition to the <code>type</code> attribute value
                when selecting an appropriate audio resource.
              </p>
              <p class="ednote">Do we need all 3 mechanisms here?
                Do we need any?
                There may be a use case for embedding audio data,
                since it makes the single document a portable (though large)
                entity that can be exchanged and transferred with no concern for missing resources,
                and no need for e.g. manifest files.
                If we do not need to support referenced embedded audio then only the last option is needed,
                and is probably the simplest to implement.
                One case for referenced embedded audio is that it more easily allows reuse of the
                same audio in different document locations, though that seems like an unlikely
                requirement in this use case. Another is that it means that all embedded audio is in
                an easily located part of the document in <code>tt/head/resources</code>, which
                potentially could carry an implementation benefit?
                Consider marking the embedded data features as "at risk"?</p>
              <p class="issue" data-number="114"></p>
              <p class="issue" data-number="115"></p>
              <p class="issue" data-number="220"></p>
              <p class="issue" data-number="221"></p>
              <p class="issue" data-number="222"></p>
              <p class="issue" data-number="116"></p>
              <p class="issue" data-number="117"></p>
              <p class="issue" data-number="223"></p>
              <p class="issue" data-number="224"></p>
            </li>
            <li><a>Mixing Instructions</a> MAY be applied as specified in their
              <a href="#mixing-instruction-ttml">TTML representation</a>;</li>
            <li>The computed value of the <code>xml:lang</code> attribute MUST be identical
              to the computed value of the <code>xml:lang</code> attribute of the parent element
              and any child <code>&lt;source&gt;</code> elements
              and any referenced embedded <code>&lt;data&gt;</code> elements.</li>
          </ul>
        </section>
        <section>
          <h4>Synthesized Audio</h4>
          <p>A <dfn>Synthesized Audio</dfn> is an <a>Audio</a> object that represents
            a machine generated audio rendering of the parent <a>Text</a> content.
            It has the following properties:
          </p>
          <ul>
            <li>A mandatory <dfn>Rate</dfn> that specifies the rate of speech, being
              <code>normal</code>,
              <code>fast</code> or
              <code>slow</code>;</li>
            <li>An optional <dfn>Pitch</dfn> that allows adjustment of the pitch
              of the speech.</li>
          </ul>
          <p>A <a>Synthesized Audio</a> is represented in a <a>DAPT Document</a> by
            the application of a
            <a href="https://www.w3.org/TR/ttml2/#audio-style-attribute-speak"><code>tta:speak</code></a>
            style attribute on the element representing the <a>Text</a> object to be spoken,
            where the computed value of the attribute is
            <code>normal</code>, <code>fast</code> or <code>slow</code>.
            This attribute also represents the <a>Rate</a> Property.
          </p>
          <p>The <a href="https://www.w3.org/TR/ttml2/#audio-style-attribute-pitch"><code>tta:pitch</code></a>
            style attribute represents the <a>Pitch</a> property.</p>
          <p>The TTML representation of a <a>Synthesized Audio</a>
            is illustrated by <a href="#example-6"></a>.</p>
          <p class="note">A <code>tta:pitch</code> attribute on an element
            whose computed value of the <code>tta:rate</code> attribute is <code>none</code>
            has no effect.
            Such an element is not considered to have an associated <a>Synthesized Audio</a>.</p>
          <p class="note">The semantics of the <a>Synthesized Audio</a> vocabulary of DAPT are derived from equivalent features in [[SSML]] as indicated in [[TTML2]]. This version
          of the specification does not specify how other features of [[SSML]] can be either generated from DAPT or embedded
          into <a>DAPT documents</a>. The option to extend [[SSML]] support in future versions of this specification is deliberately left open.</p>
        </section>
      </section>
      <section>
        <h3>Mixing Instruction</h3>
        <p>A <dfn>Mixing Instruction</dfn> object is a static or animated adjustment
          of the audio relating to the containing object.
          It has the following properties:</p>
        <ul>
          <li>Zero or more <dfn>Gain</dfn> properties.
            The gain acts as a multiplier to be applied to the related <a>Audio</a>;</li>
          <li>Zero or more <dfn>Pan</dfn> properties.
            The pan adjusts the stereoscopic (left/right) position;</li>
          <li>An optional <a>Begin</a> and an optional <a>End</a> and an optional <a>Duration</a> property
            that together define the time interval during which the <a>Mixing Instruction</a>
            applies;</li>
          <li>An optional <dfn>Fill</dfn> property that specifies whether,
            at the end time of an animated <a>Mixing Instruction</a>,
            the specified <a>Gain</a> and <a>Pan</a> properties should be
            retained (<code>freeze</code>) or reverted (<code>remove</code>).</li>
        </ul>
        <p id="mixing-instruction-ttml">A <a>Mixing Instruction</a> is represented by applying audio style attributes
          to the element that corresponds to the relevant object, either inline,
          by reference to a <code>&lt;style&gt;</code> element, or in a child (inline)
          <code>&lt;animate&gt;</code> element:</p>
        <ul>
          <li>The <a href="https://www.w3.org/TR/ttml2/#audio-style-attribute-gain"><code>tta:gain</code></a>
            attribute represents the <a>Gain</a> property;</li>
          <li>The <a href="https://www.w3.org/TR/ttml2/#audio-style-attribute-pan"><code>tta:pan</code></a>
            attribute represents the <a>Pan</a> property.</li>
        </ul>
        <p>If the <a>Mixing Instruction</a> is animated, that is,
          if the adjustment properties change during the
          containing object's active time interval, then it is represented by
          one or more child <a href="https://www.w3.org/TR/ttml2/#animation-vocabulary-animate"><code>&lt;animate&gt;</code></a> elements.
          This representation is required if more than one <a>Gain</a> or <a>Pan</a> property is needed,
          or if any <a>timing properties</a> are needed.</p>
        <p>The <a href="https://www.w3.org/TR/ttml2/#animation-vocabulary-animate"><code>&lt;animate&gt;</code></a>
           element(s) MUST be children of
          the element corresponding to the containing object,
          and have the following constraints:</p>
        <ul>
          <li>The <code>begin</code>, <code>end</code> and <code>dur</code> attributes
            represent respectively the <a>Begin</a>, <a>End</a> and <a>Duration</a> properties;</li>
          <li>The <code>fill</code> attribute represents the <a>Fill</a> property;</li>
          <li>The <a href="https://www.w3.org/TR/ttml2/#audio-style-attribute-gain"><code>tta:gain</code></a>
            attribute represents the <a>Gain</a> property,
            and uses the <a href="https://www.w3.org/TR/ttml2/#animation-value-animation-value-list"><code>animation-value-list</code></a>
            syntax to express the list of values to be applied during the animation period;</li>
          <li>The <a href="https://www.w3.org/TR/ttml2/#audio-style-attribute-pan"><code>tta:pan</code></a>
            attribute represents the <a>Pan</a> property,
            and uses the <a href="https://www.w3.org/TR/ttml2/#animation-value-animation-value-list"><code>animation-value-list</code></a>
            syntax to express the list of values to be applied during the animation period.</li>
        </ul>
        <p>The TTML representation of animated <a>Mixing Instructions</a> is
          illustrated by <a href="#example-4"></a>.</p>
        <p>See also <a href="#audio-mixing"></a>.</p>
      </section>
    </section> <!-- #data-model -->

    <section id="profile-constraints">
      <h2>Constraints</h2>
      <section>
        <h3>Document Encoding</h3>
        <p>A <a>DAPT Document</a> MUST be serialised as a well-formed XML 1.0 [[!xml]] document
          encoded using the UTF-8 character encoding as specified in [[UNICODE]].</p>
    
          <p>The resulting [[!xml]] document MUST NOT contain any of the following physical structures:</p>
    
          <ul>
            <li><em>entity declarations</em>; and</li>
    
            <li><em>entity references</em> other than to <em>predefined entities</em>.</li>
          </ul>
    
          <div class="note">
            <p>The resulting [[xml]] document can contain
            <dfn data-cite="xml#dt-charref">character references</dfn>,
            and <dfn data-cite="xml#dt-entref">entity references</dfn> to
            <dfn data-cite="xml#sec-predefined-ent">predefined entities</dfn>.</p>
            <p>The predefined entities are (including the leading ampersand and trailing semicolon):</p>
            <ul>
              <li><code>&amp;amp;</code> for an ampersand &amp; (unicode code point U+0026)</li>
              <li><code>&amp;apos;</code> for an apostrophe &apos; (unicode code point U+0027)</li>
              <li><code>&amp;gt;</code> for a greater than sign &gt; (unicode code point U+003E)</li>
              <li><code>&amp;lt;</code> for a less than sign &lt; (unicode code point U+003C)</li>
              <li><code>&amp;quot;</code> for a quote symbol &quot; (unicode code point U+0022)</li>
            </ul>
          </div>

          <p class="note">A <a>DAPT Document</a> can also be used as an in-memory model
            for processing, in which case the serialisation requirements do not apply.</p>
      </section>
      <section>
        <h3>Processing of unrecognised or foreign elements and attributes</h3>
        <p>The requirements in this section are intended to facilitate forwards and backwards compatibility,
          specifically to permit:
        </p>
        <ul>
          <li>DAPT processors targeted at one version of the specification to process <a>DAPT documents</a> that
            include vocabulary or semantics defined in future versions,
            albeit without supporting the later features;</li>
          <li>DAPT processors targeted at one version of the specification to process <a>DAPT documents</a>
            authored for an earlier version with similar or identical behaviour to a DAPT processor
            targeted at that earlier version.</li>
        </ul>
        <p>A <a>DAPT document</a> that conforms to more than one version of
          the specification could specify conformance to multiple DAPT <a>content profiles</a>.</p>
        <section id="unrecognised-elements-and-attributes">
          <h4>Unrecognised vocabulary</h4>
          <p><dfn>Unrecognised vocabulary</dfn> is the set of elements and attributes that are
            not associated with <a href="#disposition-of-features-and-extensions">features</a> that the processor supports.</p>
          <p>A <a>transformation processor</a> MUST prune <a>unrecognised vocabulary</a> that is
            neither an attribute nor a descendant of
            a <code>&lt;metadata&gt;</code> element.</p>
          <p>A <a>transformation processor</a> SHOULD preserve <a>unrecognised vocabulary</a> that is
            either an attribute or a descendant of
            a <code>&lt;metadata&gt;</code> element.</p>
          <p class="note">See also <a href="#ttp-contentprofiles"></a> which prohibits the signalling of profile
          conformance to profiles that the <a>transformation processor</a> does not support.</p>
          <p>
            After <a href="#using-computed-attribute-values">attribute value computation</a>,
            a <a>presentation processor</a> SHOULD ignore <a>unrecognised vocabulary</a>.
          </p>
          <p class="note">
            The above constraint is specified as being after attribute value computation because it is possible
            that an implementation recognises and supports attributes present only on particular elements,
            for example those corresponding to the DAPT data model.
            As described in <a href="#using-computed-attribute-values"></a> it is important that processor implementations
            do not ignore such attributes when present on other elements.
          </p>
        </section>
        <section>
          <h4>Special considerations for foreign vocabulary</h4>
          <p><dfn>Foreign vocabulary</dfn> is the subset of <a>unrecognised vocabulary</a> that consists of
            those elements and attributes whose namespace
            is not one of the namespaces listed in <a href="#namespaces"></a> and
            those attributes whose namespace has no value that are not otherwise defined in DAPT or in [[TTML2]].</p>
          <p>
            A <a>DAPT Document</a> MAY contain <a>foreign vocabulary</a> that is neither specifically permitted nor forbidden
            by the profiles signalled in <a>ttp:contentProfiles</a>.
          </p>
          <p class="note">
            For validation purposes it is good practice to define and use
            a specification for all <a>foreign vocabulary</a> used within a <a>DAPT Document</a>,
            for example a <a>content profile</a>.
          </p>
        </section>

        <section>
          <h4>Proprietary Metadata and Foreign Vocabulary</h4>
          <p>Many dubbing and <a>audio description</a> workflows permit annotation of <a>Script Events</a> or documents with proprietary metadata.
            Metadata vocabulary defined in this specification or in [[TTML2]] MAY be included.
            <a>Foreign vocabulary</a> MAY also be included,
            either as attributes of <code>&lt;metadata&gt;</code> elements or
            as descendant elements of <code>&lt;metadata&gt;</code> elements.</p>
          <div class="note">
            <p>It is possible to add information such as the title of the programme using [[TTML2]] constructs.</p>
            <pre class="example"
              data-include="examples/metadata-ttml2.xml"
              data-include-format="text">
            </pre>
          </div>
          <div class="note">
            <p>It is possible to add workflow-specific information using a foreign namespace.
              In the following example, a fictitious namespace <code>vendorm</code> from an "example vendor" is used
              to provide document-level information not defined by DAPT.</p>
            <pre class="example"
              data-include="examples/metadata-proprietary.xml"
              data-include-format="text">
            </pre>
          </div>
          
          <div class="advisement">
            <strong>It is strongly recommended not to place data
            whose semantics depend on the contents of the document
            within <code>&lt;metadata&gt;</code> elements.</strong>
            <p>Such data can be invalidated by <a>transformation processors</a> that
            modify the contents of the document but preserve metadata
            while being unaware of their semantics.
            </p>
          </div>

          <section class="informative">
            <h5>Defining and using foreign vocabulary that is not metadata</h5>
            <p>If <a>foreign vocabulary</a> is included in locations other than <code>&lt;metadata&gt;</code> elements
              it will be pruned by <a>transformation processors</a> that do not support features associated with that vocabulary,
              as required in <a href="#unrecognised-elements-and-attributes"></a>.</p>
            <p>A mechanism is provided to prevent such pruning, and to define semantics for such <a>foreign vocabulary</a>,
              allowing it to be located outside a <code>&lt;metadata&gt;</code> element without being pruned,
              and to indicate content and processor conformance:</p>
            <ol>
              <li>Define a profile including a feature definition for that semantic and vocabulary,
            with a profile designator.</li>
              <li>Signal document conformance to that profile using the <a href="#ttp-contentprofiles"></a></li>
            </ol>
            <p>This allows processors that support the feature to process the vocabulary
              in whatever way is appropriate, to avoid pruning it,
              and allows processors that do not support the feature to take
              appropriate action, for example warning users that some functionality may be lost.</p>
            </section>
        </section> <!-- Proprietary Metadata -->
  
      </section>
      <section>
        <h3>Namespaces</h3>
        <p>
          The following namespaces (see [[xml-names]]) are used in this specification:
        </p>
        <table class="data">
          <thead>
            <tr>
              <th>Name</th>
              <th>Prefix</th>
              <th>Value</th>
              <th>Defining Specification</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>XML</td>
              <td><code>xml</code></td>
              <td><code>http://www.w3.org/XML/1998/namespace</code></td>
              <td>[[xml-names]]</td>
            </tr>
            <tr>
              <td>TT</td>
              <td><code>tt</code></td>
              <td><code>http://www.w3.org/ns/ttml</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>TT Parameter</td>
              <td><code>ttp</code></td>
              <td><code>http://www.w3.org/ns/ttml#parameter</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>TT Feature</td>
              <td>none</td>
              <td><code>http://www.w3.org/ns/ttml/feature/</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>TT Audio Style</td>
              <td><code>tta</code></td>
              <td><code>http://www.w3.org/ns/ttml#audio</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>DAPT Metadata</td>
              <td><code>daptm</code></td>
              <td><code>http://www.w3.org/ns/ttml/profile/dapt#metadata</code></td>
              <td><em>This specification</em></td>
            </tr>
            <tr>
              <td><dfn>DAPT Extension</dfn></td>
              <td>none</td>
              <td><code>http://www.w3.org/ns/ttml/profile/dapt/extension/</code></td>
              <td><em>This specification</em></td>
            </tr>
            <tr>
              <td>EBU-TT Metadata</td>
              <td><code>ebuttm</code></td>
              <td><code>urn:ebu:tt:metadata</code></td>
              <td>[[EBU-TT-3390]]</td>
            </tr>
          </tbody>
        </table>
        <p>
          The namespace prefix values defined above are for convenience and <a>DAPT Documents</a> MAY use any prefix value that conforms to [[xml-names]].
        </p>
        <p>
          The namespaces defined by this specification are mutable as described in [[namespaceState]];
          all undefined names in these namespaces are reserved for future standardization by the W3C.
        </p>
      </section>

      <section>
        <h3>Related Media Object</h3>
        <p>Within DAPT, the common language terms audio and video are used in the context of a programme.
          The audio and video are each a part of what is defined in [[TTML2]] as the
          <dfn data-cite="TTML2#terms-related-media-object">Related Media Object</dfn> that
          provides the media timeline and is the source of the <a>main programme audio</a>,
          and any visual timing references needed when adjusting timings relevant to the video image,
          such as for lip synchronization.</p>
        <div class="note">
          <p>A <a>DAPT document</a> can identify the programme acting
          as the <a>Related Media Object</a> using metadata. For example, it is possible
          to use the <code>&lt;ebuttm:sourceMediaIdentifier&gt;</code> element defined in [[EBU-TT-3390]].</p>
          <pre class="xml example" data-include="examples/sourceMediaIdentifier.xml" data-include-format="text"></pre>
        </div>
      </section>

      <section>
        <h3>Synchronization</h3>
        <p>
          If the <a>DAPT Document</a> is intended to be used as the basis for producing
          an [[TTML-IMSC1.2]] document,
          the synchronization provisions of [[TTML-IMSC1.2]] apply
          in relation to the video.
        </p>
        <p>Timed content within the <a>DAPT Document</a> is intended to be rendered
          starting and ending on specific audio samples.</p>
        <p class="note">In the context of this specification rendering could be visual presentation of text,
          for example to show an actor what words to speak, or could be audible playback of an audio resource,
          or could be physical or haptic, such as a Braille display.
        </p>
        <p>In constrained applications, such as real-time audio mixing and playback,
          if accurate synchronization to the audio sample cannot be achieved in the rendered output,
          the combined effects of authoring and playback inaccuracies in
          timed changes in presentation SHOULD meet the synchronization requirements
          of [[EBU-R37]], i.e. audio changes are not to precede image changes by
          more than 40ms, and are not to follow them by more than 60ms.</p>
        <p>Likewise, authoring applications SHOULD allow authors to meet the
          requirements of [[EBU-R37]] by defining times with an accuracy
          such that changes to audio are less than 15ms after any associated change in
          the video image, and less than 5ms before any associated change in the video image.  
        </p>
        <p>Taken together, the above two constraints on overall presentation and
          on <a>DAPT documents</a> intended for real-time playback mean that
          <a>content processors</a> SHOULD complete audio presentation changes
          no more than 35ms before the time specified in the <a>DAPT document</a>
          and no more than 45ms after the time specified.</p>
      </section>

      <section>
        <h3>Profile Signaling</h3>
        This section defines how a TTML
        <dfn data-cite="TTML2#terms-document-instance">Document Instance</dfn>
        signals that it is a <a>DAPT Document</a>
        and how it signals any processing requirements that apply.
        See also <a href="#conformance-of-dapt-documents"></a>, which defines how to
        establish that a <a>DAPT Document</a> conforms to this specification.

        <section>
          <h4>Profile Designators</h4>
          <p>This profile is associated with the following profile designators:</p>
          <table class="data">
            <thead>
              <tr>
                <th>Profile Name</th>
                <th>Profile type</th>
                <th>Profile Designator</th>
              </tr>
            </thead>
    
            <tbody>
              <tr>
                <td><dfn data-dfn-type="dfn" class="export">DAPT 1.0 Content Profile</dfn></td>
                <td><a>content profile</a></td>
                <td><code>http://www.w3.org/ns/ttml/profile/dapt1.0/content</code></td>
              </tr>
              <tr>
                <td><dfn data-dfn-type="dfn" class="export">DAPT 1.0 Processor Profile</dfn></td>
                <td><a>processor profile</a></td>
                <td><code>http://www.w3.org/ns/ttml/profile/dapt1.0/processor</code></td>
              </tr>
            </tbody>
          </table>
        </section> <!-- profile-designator -->

        <section>
          <h4><code>ttp:contentProfiles</code></h4>
          <p>The <dfn data-cite="TTML2#profile-attribute-contentProfiles"><code>ttp:contentProfiles</code></dfn> attribute
            is used to declare the [[TTML2]] profiles to which the document conforms.</p>
          <p><a>DAPT Documents</a> MUST specify a <a><code>ttp:contentProfiles</code></a> attribute
            on the <code>&lt;tt&gt;</code> element including at least one value equal to a
            <a>content profile</a> designator specified at <a href="#profile-designators"></a>.
            Other values MAY be present to declare conformance to other profiles of [[TTML2]],
            and MAY include profile designators in proprietary namespaces.</p>
          <p>It is an error for a <a>DAPT Document</a> to signal conformance to a
            <a>content profile</a> to which it does not conform.</p>
          <p><a>Transformation processors</a> MUST NOT include values within the
            <a><code>ttp:contentProfiles</code></a> attribute
            associated with profiles that they (the processors) do not support;
            by definition they cannot verify conformance of the content to those profiles.</p>
        </section>

        <section>
          <h4><code>ttp:profile</code></h4>
          <p>The <dfn data-cite="TTML2#profile-attribute-profile"><code>ttp:profile</code></dfn> attribute
            is a mechanism within [[?TTML1]] for declaring the processing requirements for a <a>Document Instance</a>.
            It has effectively been superceded in [[TTML2]] by <a><code>ttp:processorProfiles</code></a>.</p>
          <p><a>DAPT Documents</a> MUST NOT specify a <code>ttp:profile</code> attribute
            on the <code>&lt;tt&gt;</code> element.</p>
        </section>

        <section>
          <h4><code>ttp:processorProfiles</code></h4>
          <p>The <dfn data-cite="TTML2#profile-attribute-processorProfiles"><code>ttp:processorProfiles</code></dfn> attribute
            is used to declare the processing requirements for a <a>Document Instance</a>.</p>
          <p><a>DAPT Documents</a> MAY specify a <a><code>ttp:processorProfiles</code></a> attribute
            on the <code>&lt;tt&gt;</code> element.
            If present, the <a><code>ttp:processorProfiles</code></a> attribute MUST include at least one value equal to a
            <a>processor profile</a> designator specified at <a href="#profile-designators"></a>.
            Other values MAY be present to declare additional processing constraints, 
            and MAY include profile designators in proprietary namespaces.</p>
          <p class="note">The <a><code>ttp:processorProfiles</code></a> attribute can be used
            to signal that features and extensions in additional profiles
            need to be supported to process the <a>Document Instance</a> successfully.
            For example, a local workflow might introduce particular metadata requirements,
            and signal that the processor needs to support those by using an additional
            processor profile designator.</p>
          <p class="note">If the content author does not need to signal that
            additional processor requirements than those defined by DAPT
            are needed to process the <a>DAPT document</a> then the
            <a><code>ttp:processorProfiles</code></a> attribute is not expected to be present.</p>
        </section>

        <section>
          <h4>Other TTML2 Profile Vocabulary</h4>
          <p>[[TTML2]] specifies a vocabulary and semantics that can be used to define the set of <a>features</a>
            that a <a>document instance</a> can make use of, or that a processor needs to support,
            known as a <a href="https://www.w3.org/TR/ttml2/#profile">Profile</a>.</p>
          <p>Except where specified, it is not a requirement of DAPT that this profile vocabulary is supported by
            processors; nevertheless such support is permitted.</p>
          <p>The majority of this profile vocabulary is used to indicate how a processor can compute the set of features
            that it needs to support in order to process the <a>Document Instance</a> successfully.
            The vocabulary is itself defined in terms of TTML2 features.
            Those profile-related features are listed within <a href="#profiles"></a> as being optional. 
            They MAY be implemented in processors
            and their associated vocabulary
            MAY be present in <a>DAPT Documents</a>.
          </p>
          <p class="note">Unless processor support for these features and vocabulary has been
            arranged (using an out-of-band protocol), the vocabulary is not expected to be present.</p>
          <p>The additional profile-related vocabulary for which processor support is
            not required (but is permitted) in DAPT is:</p>
          <ul>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-vocabulary-profile"><code>&lt;ttp:profile&gt;</code></a> element;</li>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-vocabulary-feature"><code>&lt;ttp:feature&gt;</code></a>
              and <a href="https://www.w3.org/TR/ttml2/#profile-vocabulary-extension"><code>&lt;ttp:extension&gt;</code></a> elements;</li>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-attribute-permitFeatureNarrowing"><code>ttp:permitFeatureNarrowing</code></a> attribute;</li>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-attribute-permitFeatureWidening"><code>ttp:permitFeatureWidening</code></a> attribute;</li>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-attribute-contentProfileCombination"><code>ttp:contentProfileCombination</code></a> attribute;</li>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-attribute-inferProcessorProfileSource"><code>ttp:inferProcessorProfileSource</code></a> attribute;</li>
            <li>the <a href="https://www.w3.org/TR/ttml2/#profile-attribute-processorProfileCombination"><code>ttp:processorProfileCombination</code></a> attribute.</li>
          </ul>
        </section>

      </section>
      <section>
        <h3>Timing constraints</h3>
        <p>Within a DAPT Script, the following constraints apply in relation to time attributes and time expressions:</p>
        <section>
          <h4><code>ttp:timeBase</code></h4>
          <p>The only permitted <code>ttp:timeBase</code> attribute value is <code>media</code>,
            since <a href="#profiles"></a> prohibits all timeBase features
            other than <a href="https://www.w3.org/TR/ttml2/#feature-timeBase-media"><code>#timeBase-media</code></a>.</p>
          <p>This means that the beginning of the document timeline,
            i.e. time "zero",
             is the beginning of the <a>Related Media Object</a>.</p>
        </section> <!-- timebase-section -->
        <section>
          <h4><code>timeContainer</code></h4>
          <p>The only permitted value of the <code>timeContainer</code> attribute is the default value, <code>par</code>.</p>
          <p>Documents SHOULD omit the <code>timeContainer</code> attribute on all elements.</p>
          <p>Documents MUST NOT set the <code>timeContainer</code> attribute to any value other than <code>par</code> on any element.</p>
          <p class="note">This means that the <code>begin</code> attribute value for every timed element is relative to
            the computed begin time of its parent element,
            or for the <code>&lt;body&gt;</code> element, to time zero.</p>
        </section> <!-- timecontainer-section -->
        <section>
          <h4><code>ttp:frameRate</code></h4>
          <p>If the document contains any time expression that uses the <code>f</code> metric,
            or any time expression that contains a frames component,
            the <code>ttp:frameRate</code> attribute MUST be present on the <code>&lt;tt&gt;</code> element.</p>
          <aside class="note">[[TTML2]] specifies the <code>ttp:frameRateMultiplier</code> attribute for
           defining non-integer frame rates.
          </aside>
        </section> <!-- framerate-section -->
        <section>
          <h4><code>ttp:tickRate</code></h4>
          <p>If the document contains any time expression that uses the <code>t</code> metric,
            the <code>ttp:tickRate</code> attribute MUST be present on the <code>&lt;tt&gt;</code> element.</p>
        </section>
        <section>
          <h4>Time expressions</h4>
          <p>All time expressions within a document SHOULD use the same syntax,
            either <code>clock-time</code> or <code>offset-time</code>
            as defined in [[TTML2]], with <a href="#disposition-of-features-and-extensions">DAPT constraints</a> applied.</p>
          <div class="example note">
            <p>A DAPT <code>clock-time</code> has one of the forms:</p>
            <ul>
              <li><code>hh:mm:ss.sss</code></li>
              <li><code>hh:mm:ss</code></li>

            </ul>
             <p>
              where
              <code>hh</code> is hours,
              <code>mm</code> is minutes,
              <code>ss</code> is seconds, and
              <code>ss.sss</code> is seconds with a decimal fraction of seconds (any precision).
            </p>
          </div>
          <p class="note">
            Clock time expressions that use frame components,
            which look similar to "time code",
            are prohibited due to the semantic confusion that has been observed
            elsewhere when they are used, particularly with non-integer frame rates,
            "drop modes" and sub-frame rates.
          </p>
          <div class="example note">
            <p>An <code>offset-time</code> has one of the forms:</p>
            <ul>
              <li><code>nn metric</code></li>
              <li><code>nn.nn metric</code></li>
            </ul>
            <p>
              where
              <code>nn</code> is an integer,
              <code>nn.nn</code> is a number with a decimal fraction (any precision), and
              <code>metric</code> is one of:
            </p>
            <ul>
              <li><code>h</code> for hours,</li>
              <li><code>m</code> for minutes,</li>
              <li><code>s</code> for seconds,</li>
              <li><code>ms</code> for milliseconds,</li>
              <li><code>f</code> for frames, and</li>
              <li><code>t</code> for ticks.</li>
            </ul>
          </div>
          <p>When mapping a media time expression M to a frame F of the video,
            e.g. for the purpose of accurately timing lip synchronization,
            the <a>content processor</a> SHOULD map M to the frame F with the presentation time
            that is the closest to, but not less, than M.</p>
          <p class="example">
            A media time expression of 00:00:05.1 corresponds to frame 
            <code>ceiling( 5.1 Ã— ( 1000 / 1001 Ã— 30) ) = 153</code>
            of a video that has a frame rate of <code>1000 / 1001 Ã— 30 â‰ˆ 29.97</code>.
          </p>
  
        </section> <!-- time-expression-section -->
      </section> <!-- time-constraints-section -->

      <section>
        <h4>Layout and styles</h4>
        <p>This specification does not put additional constraints on the layout and rendering <a>features</a> defined in [[!TTML-IMSC1.2]].</p>
        <div class="note">Layout of the paragraphs may rely on the default TTML region (i.e. if no <code>&lt;layout&gt;</code> element is used in the <code>&lt;head&gt;</code> element) or may be explicit by the use of the <code>region</code> attribute, to refer to a <code>&lt;region&gt;</code> element present at <code>/tt/head/layout/region</code>.</div>

        <p>Style references or inline styles MAY be used, using any combination of
        <code>style</code> attributes, 
        <code>&lt;style&gt;</code> elements and
        inline style attributes as defined in [TTML2] or [TTML-IMSC1.2].</p>

      </section>  <!-- Layout -->

      <section>
        <h4>Bidirectional text</h4>
        <p>
          The following metadata elements are permitted in DAPT and specified in [[TTML2]] as containing <code>#PCDATA</code>,
          i.e. text data only with no element content.
          Where bidirectional text is required within the character content within such an element,
          Unicode control characters can be used to define the base direction within arbitrary ranges of text. 
        </p>
        <ul>
          <li><code>&lt;ttm:copyright&gt;</code></li>
          <li><code>&lt;ttm:desc&gt;</code></li>
          <li><code>&lt;ttm:item&gt;</code></li>
          <li><code>&lt;ttm:name&gt;</code></li>
          <li><code>&lt;ttm:title&gt;</code></li>
        </ul>
        <p class="note">More guidance about usage of this mechanism is available at <a data-cite="I18N-INLINE-BIDI#nomarkup"></a>.</p>
        <p>The <code>&lt;p&gt;</code> and <code>&lt;span&gt;</code> content elements permit the direction of text
          to be specified using the <code>tts:direction</code> and <code>tts:unicodeBidi</code> attributes.
          Document authors should use this more robust mechanism rather than using Unicode control characters.</p>
        <div class="note">
          <p>The following example taken from [[TTML2]] demonstrates the syntax for bidirectional text markup within
            the <code>&lt;p&gt;</code> and <code>&lt;span&gt;</code> elements.
          </p>
          <pre class="example xml" data-include="examples/bidi-in-p.xml" data-include-format="text"></pre>
          <p>An example rendering of the above fragment is shown below.</p>
          <img src="figures/direction.png" alt="Example rendition of direction example showing from left to right The title of the book is W3C and then from right to left the applicable Arabic text"/>
        </div>
      </section>  <!-- Bidirectional text -->

    </section> <!-- Profile Constraints -->

    <section id="ttml-to-data-model">
      <h2>Mapping from TTML to the DAPT Data Model</h2>
      <p><a href="#data-model"></a> defines how objects and properties of the DAPT data model are represented in [[TTML2]], i.e. in a <a>DAPT Document</a>.
        However, a DAPT data model instance can be represented by multiple [[TTML2]] <a>document instances</a>.</p>
      <p>For example, <a href="#data-model"></a> does not mandate that a <code>&lt;div&gt;</code> element representing a <a>Script Event</a> be
        a direct child of the <code>&lt;body&gt;</code> element.
        That <code>&lt;div&gt;</code> element could be nested in another <code>&lt;div&gt;</code> element.
        Therefore, it is possible to serialize the objects and properties of a <a>DAPT Script</a> into various <a>DAPT Documents</a>.
        This section defines how to interoperably and unambiguously reconstruct a DAPT model instance from a <a>DAPT Document</a>.</p>
      <p class="note">DAPT does not define a complete serialization of the DAPT data model for extensibility reasons,
        to allow future versions to do so if needed.
        Additionally, a <a>DAPT Document</a> can contain elements or attributes that
        are not mentioned in the representations of DAPT objects or properties.
        This could be because it has been generated by a processor conformant to some future version of DAPT,
        or through a generic [[TTML2]] process,
        or because it uses optional features, for example to add styling or layout.
        This section defines how to process those elements or attributes.</p>
      <p class="note">It is also possible to process <a>DAPT Documents</a> using generic [[TTML2]] processors,
        which do not necessarily map the documents to the DAPT data model.
        For example a generic TTML2 <a>presentation processor</a> could render an audio mix
        based on a DAPT document without needing to model Script Events <i>per se</i>.
        In that case, this section can be ignored.</p>
      <section class="informative">
        <h3>Early identification of non-conformant documents</h3>
        <p><em>Normative provisions relating to this section are defined in [[TTML2]].</em></p>
        <p>Since it is a requirement of DAPT that <a>DAPT Documents</a> include a
        <code>ttp:contentProfiles</code> attribute on the root element,
        and that the attribute includes a DAPT <a>content profile</a> designator,
        as specified at <a href="#ttp-contentprofiles"></a>,
        it follows that any TTML document that does not include such an attribute,
        or does not include such a profile designator,
        can be considered not to be a <a>DAPT Document</a>;
        therefore a processor requiring strict adherence to DAPT could stop processing
        such a document.</p>
      </section>

      <section>
        <h3>Not supporting features excluded by the content profile</h3>
        <p>A processor that takes as its input a <a>DAPT document</a> that
          contains vocabulary relating to features that it does support,
          but where support for those features is excluded from the content profiles
          to which the document claims conformance, SHOULD NOT implement
          those features in the context of that document.</p>
      </section>
      <section>
        <h3>Handling <code>&lt;div&gt;</code> and <code>&lt;p&gt;</code> elements</h3>
        <p>[[TTML2]] allows <code>&lt;div&gt;</code> elements to contain any combination of
          <code>&lt;div&gt;</code> elements and <code>&lt;p&gt;</code> elements.
          The DAPT data model describes how each <a>Script Event</a> is represented by
          a <code>&lt;div&gt;</code> element that contains zero or more <code>&lt;p&gt;</code> elements.
          It also permits other intermediate <code>&lt;div&gt;</code> elements in the path between
          the <code>&lt;body&gt;</code> element and those <a>Script Event</a> <code>&lt;div&gt;</code> elements.
          In addition, attributes not corresponding to properties in the DAPT data model are permitted.</p>
        <p>This gives rise to possibilities such as:</p>
        <ul>
          <li><code>&lt;div&gt;</code> elements that contain children that are not <a>Text</a> objects,
            for example other <code>&lt;div&gt;</code> elements or <code>&lt;metadata&gt;</code> elements;</li>
          <li><code>&lt;div&gt;</code> elements that do not have attributes required for <a>Script Events</a>, like <code>xml:id</code>;</li>
          <li><code>&lt;div&gt;</code> elements that have attributes absent from the DAPT data model for <a>Script Events</a>,
            like <code>xml:space</code>;</li>
          <li><code>&lt;p&gt;</code> elements whose parent <code>&lt;div&gt;</code> element does not appear to be a <a>Script Event</a>.</li>
        </ul>

        <p>The following processing rules resolve these cases.</p>
        <p>Rules for identifying <a>Script Events</a>:</p>
        <ol>
          <li>A <code>&lt;div&gt;</code> element that has no <code>&lt;div&gt;</code> element children
            and includes the TTML representations of all the mandatory properties of a <a>Script Event</a>
            MUST be mapped to a <a>Script Event</a>,
            such as having a valid <code>xml:id</code>
            representing the <a>Script Event Identifier</a>,
            even if it also contains additional <a>unrecognised vocabulary</a>;</li>
          <li>A <code>&lt;div&gt;</code> element that contains any <code>&lt;div&gt;</code> element children
            MUST NOT be mapped to a <a>Script Event</a>;
            the processor instead MUST iterate through those <code>&lt;div&gt;</code> element children
            (recursively, in a depth-first traversal) and consider if each one meets the requirements of a <a>Script Event</a>;</li>
          <li>Any remaining unmapped <code>&lt;div&gt;</code> elements MUST NOT be mapped to a <a>Script Event</a>.</li>
        </ol>
        
        <p>Rules for identifying <a>Text</a> objects:</p>
        <ol>
          <li>A <code>&lt;p&gt;</code> element that is a child of a <code>&lt;div&gt;</code> element
            that maps to a <a>Script Event</a> MUST be mapped to a <a>Text</a> object.</li>
          <li>A <code>&lt;p&gt;</code> element that is not a child of a <code>&lt;div&gt;</code> element
            that maps to a <a>Script Event</a> MUST NOT be mapped to a <a>Text</a> object.</li>
        </ol>

        <p class="note">Future versions of DAPT could include features that use these
          structural possibilities differently,
          and therefore define other processing rules that are mutually exclusive
          with the rules defined here.
        </p>

        <aside class="example">This example demonstrates the above possibilities,
          and the application of the rules:
          <pre
            data-include="examples/non-dapt-divs.xml"
            data-include-format="text">
          </pre>

          <p>The result of applying the above rules to this example is:</p>
          <ul>
            <li><code>d1</code> is a <a>Script Event</a> and its child <code>&lt;p&gt;</code> element is a <a>Text</a> object;</li>
            <li>The <code>&lt;div&gt;</code> element between <code>d1</code> and
              <code>d2</code>'s parent <code>&lt;div&gt;</code> element is not a <a>Script Event</a>
              and its child <code>&lt;p&gt;</code> element is not a <a>Text</a> object;</li>
            <li><code>d2</code> is a <a>Script Event</a> and its parent <code>&lt;div&gt;</code> element is not;</li>
            <li><code>d3</code> is a <a>Script Event</a> and its parent and its grandparent <code>&lt;div&gt;</code> elements are not;</li>
            <li><code>d4_1</code> is not a <a>Script Event</a> and its child <code>&lt;p&gt;</code> element is not a <a>Text</a> object;</li>
            <li><code>d4_2</code> is a <a>Script Event</a>.</li>
          </ul>
        </aside>
      </section>

      <section>
        <h3>Using computed attribute values</h3>
        <p>Some attributes have semantics for computing their value that depend on the computed value of
          the attribute on some other element.
          For example if the <code>xml:lang</code> attribute is not specified on an element then its computed
          value is the computed value of the same attribute on the element's parent.</p>
        <p>Or, for another example, the computed times of an element in a DAPT document are relative
          to the begin time of the element's parent.
          If a <code>&lt;div&gt;</code> element specifies a <code>begin</code> attribute,
          then the computed times of its child <code>&lt;div&gt;</code> elements
          are relative to that parent <code>&lt;div&gt;</code> element's begin time,
          and so on down the hierarchy.
          It is important to include those &quot;intermediate&quot; <code>&lt;div&gt;</code> elements'
          times in the computation even if the processing target is
          an instance of the DAPT data model in which they have no direct equivalent;
          otherwise the <a>Script Event</a> <a>Begin</a> and <a>End</a> times would be wrong.
        </p>
        <p>Considering this situation more generally,
          it is possible that, within a DAPT document, there can be TTML elements that
          do not directly correspond to objects in the DAPT data model,
          and those elements can specify attributes
          that affect the computation of attribute values that apply to elements that do correspond to
          objects in the DAPT data model.</p>
        <p>The semantics defined by [[TTML2]] or, for vocabulary defined herein, this specification, take precedence in this scenario.
          Implementations MUST compute attribute values based on the contents of the <a>document instance</a> <em>before</em>
          applying those computed values to DAPT data model objects.
          For example a processor that supports TTML2 styling features would need
          to implement the TTML2 semantics for inheritance and computing relative values
          of attributes like <code>tts:fontSize</code>.
        </p>
        <aside class="example">
          <p>This example demonstrates these possibilities,
            which a processor might need to handle:</p>
          <pre
            data-include="examples/non-dapt-div-with-begin-and-lang.xml"
            data-include-format="text">
          </pre>
          <p>Here, the <code>&lt;div&gt;</code> elements that correspond to <a>Script Events</a>,
            which have ids <code>d1</code> and <code>d2</code>,
            are otherwise (apart from their identifiers) identical,
            yet their language and <a>Begin</a> properties have different computed values,
            due to the attributes specified on the <code>&lt;div&gt;</code> element parent of <code>d2</code>.</p>
        </aside>
        <!-- deliberate duplication of the statement before the example follows, for emphasis: -->
        <p>If an implementation internally creates DAPT data model objects,
          such as the <a>Script Events</a> shown in the example above,
          it is important for interoperability that they use the computed values.</p>
      </section>

      <section class="informative">
        <h3>Considerations for transformation and validation processors</h3>

        <section>
          <h3>Retaining unrecognised vocabulary</h3>
          <p>As per <a href="#unrecognised-elements-and-attributes"></a>,
            implementers of DAPT processors are encouraged to maintain <a>unrecognised vocabulary</a>
            within <code>&lt;metadata&gt;</code> elements in <a>DAPT Documents</a>.
            In practice it is possible that an implementation which both inputs DAPT documents
            and outputs DAPT documents might modify the input
            document structure and contents, and while doing so,
            effectively prune those entities with <a>unrecognised vocabulary</a> from the output document.</p>
        </section>

        <section>
          <h3>Validation warnings and errors</h3>
          <p><em>Normative provisions relating to this section are defined in [[TTML2]].</em></p>
          <p>[[TTML2]] defines a <dfn data-cite="TTML2#terms-validation-processor">validation processor</dfn>,
            a class of implementation whose purpose is
            to assess a <a>document instance</a> and decide if it is valid or not.
            Typically this would be used within a processing workflow
            to check that documents are acceptable for onward usage.
            A real world example would likely not return simply "good" or "bad",
            but also output informational, warning and error messages
            describing unusual, unexpected or problematic contents in the input document.
          </p>
          <p>When implementing a <a>validation processor</a> for a <a>DAPT document</a>,
            strict [[TTML2]] validation processing rules can be applied.
            Doing this involves checking for the presence and semantic validity of
            syntax and content associated with required or optional features defined in the
            profile, and checking for the absence of syntax associated with prohibited features.
          </p>
          <p>The [[TTML2]] mechanism for dealing with vocabulary in unrecognised namespaces is
            to prune it prior to validation.
            This approach can be used; additionally it could be reasonable for
            an implementation to report as information those attributes and elements
            that have been pruned.
          </p>
          <p class="note">The term "vocabulary" here refers to XML elements and attributes.</p>
          <p>Validation warnings could be issued when unsupported or deprecated
            vocabulary in recognised namespaces is encountered after pruning,
            or when supported vocabulary contains unexpected but not invalid content,
            but in these scenarios errors are not expected.
          </p>
          <p>Validation errors are expected when prohibited vocabulary is present,
            or when semantically invalid content within permitted vocabulary
            is encountered.
          </p>
        </section>
      </section>
  </section> <!-- #ttml-to-data-model -->

  <section id="conformance"><!-- keep section id, not use h2 -->
    <p>[[TTML2]] specifies a formal language for expressing document and processor requirements,
      within the <a href="https://www.w3.org/TR/ttml2/#vocabulary-profiling">Profiling</a> sub-system.
      The normative requirements of this specification are defined using the conformance terminology
      described above, and are also defined using this TTML2 profile mechanism.
      Where TTML2 vocabulary is referenced, the syntactic and semantic requirements relating to that
      vocabulary as defined in [[TTML2]] apply.</p>
    <p>Whilst there is no requirement for a DAPT processor to implement the
      TTML2 profile processing semantics in general,
      implementers can use the TTML2 profiles defined in <a href="#profiles"></a>
      as a means of verifying that their implementations meet the normative requirements
      of DAPT, for example as a checklist.
    </p>
    <p>Conversely, a general purpose [[TTML2]] processor that does support the TTML2
      profile processing semantics can use the TTML2 profiles defined in <a href="#profiles"></a>
      directly to determine if it is capable of processing a <a>DAPT document</a>.
    </p>

    <section>
      <h3>Conformance of <a>DAPT Documents</a></h3>
      <p>Conformant <a>DAPT Documents</a> are [[TTML2]] <a>timed text content document instances</a> that
        conform to the normative provisions of this specification.
        Those provisions are expressed using the 
        <a href="https://www.w3.org/TR/ttml2/#profile">profile</a> vocabulary of [[TTML2]] in the
        <dfn data-cite="ttml2#terms-content-profile">content profile</dfn> defined
        in <a href="#profiles"></a>.</p>
      <p class="note">
        <a>DAPT Documents</a> remain subject to the content conformance requirements specified at Section 3.1 of [[TTML2]].
        In particular, a <a>DAPT Document</a> can contain <a>foreign vocabulary</a>,
        since such elements and attributes are pruned by the algorithm at Section 4 of [[TTML2]] prior to evaluating content conformance.
      </p>
    </section> <!-- content-profile-conformance-section -->

    <section>
      <h3>Conformance of DAPT Processors</h3>
      <p>Conformant DAPT Processors are [[TTML2]]
        <dfn data-cite="TTML2#terms-content-processor">content processors</dfn> that
        conform to the normative provisions of this specification.
        Those provisions are expressed using the 
        <a href="https://www.w3.org/TR/ttml2/#profile">profile</a> vocabulary of [[TTML2]] in the
        <dfn data-cite="TTML2#terms-processor-profile">processor profile</dfn> defined
        in <a href="#profiles"></a>.</p>
        <aside class="note">The provisions in this specification are expressed in terms of [[TTML2]] <a>content processor</a> types,
        using terms like <a>content processor</a>, <a>presentation processor</a>, <a>validation processor</a>,
        or <a>transformation processor</a>. They may be understood with the mapping below:
        <ul>
          <li>A DAPT tool that would display the content of a DAPT document, in any form:
            for example, just rendering the text, event by event; or rendering the text of all the events
            all at once along a timeline; or one doing the audio mixing, would be considered
            a <a>presentation processor</a>. A <a>presentation processor</a> can also support additional rendering features
            that are not required by DAPT, for example those supporting visual styling attributes from [[TTML2]] or [[TTML-IMSC1.2]].</li>
          <li>A DAPT authoring tool, producing DAPT documents from scratch or from an other document,
            would be considered a <a>transformation processor</a>. It may also be considered as
            a <a>presentation processor</a> if it does any form of rendering of the text or the audio.</li>
          <li>A DAPT tool that would indicate if a DAPT document is compliant to this specification
            would correspond to a <a>validation processor</a>.</li>
        </ul>
        </aside>
    </section> <!-- processor-profile-conformance-section -->
  </section> <!-- conformance -->

  <section id="index" class="appendix">
    <!-- All the terms will magically appear here -->
  </section>

  <section class="informative appendix">
    <h2>Privacy Considerations</h2>

    <p>With the exception of the following, the privacy considerations of [[ttml2]] apply:</p>

    <ul>
      <li>Appendix P.3 (Resource Fetching), where only the considerations relating to the <code>&lt;audio&gt;</code> element apply.</li>
      <li>Appendix P.7 (Access to Processing State) does not apply, since no support for the <code>condition</code> attribute is required.</li>
      <li>Appendix P.9 (Privacy of Preference) is extended to include the potential indication that the user has a need for audio description.</li>
    </ul>

    <section>
      <h3>Personal Information</h3>
      <p>DAPT documents typically contain the names of characters or people who feature within the associated media,
        either fictional or real.
        In general this information would be present within the media itself or be public via other routes.
        If there is sensitivity associated with their being known to people with access to
        the DAPT documents in which their identity is contained,
        then such access should be managed with appropriate confidentiality.
        For example those documents could be available within a closed authoring environment and
        edited to remove the sensitive information prior to distribution to a wider audience.
        If this scenario arises, information security good practices within the closed environment should be applied,
        such as encryption of the document "at rest" and when being moved,
        access controlled by authentication platforms, etc.
      </p>
    </section>

    <section>
      <h3>Audio format preference</h3>
      <p>
        <img src="figures/fingerprint.png" 
        class="fingerprint" 
        alt="This feature may contribute to browser fingerprintability.">
        DAPT documents can reference a set of alternate external audio resources for the same fragment of audio,
        where the processor is expected to select one of the alternatives based on features such as format support.
        If this pattern is used, it is possible that the processor's choice of audio resource,
        being exposed to the origin, reveals information about that processor, such as its preferred audio format.
      </p>
      <aside class="note">
        Document authors and content providers can avoid referencing external audio resources by embedding
        the audio resources within the document. 
        This usage pattern does not expose the processor's choice of audio resource to the origin.
      </aside>
    </section>
  </section>

  <section class="informative appendix">
    <h2>Security Considerations</h2>

    <p>
      The security considerations of [[ttml2]] apply.
    </p>

  </section>

  <section class="appendix">
    <h4>Timecode-related metadata</h4>
    <p><a>DAPT Documents</a> express time as <em>media time</em>,
      which assumes that there is a reference start time (zero) on a media
      timeline, and a fixed playrate.
      An alternative scheme that is used in some other script formats is to
      synchronise media components using timecode,
      that match time stamps that are applied,
      for example to each frame of video.
    </p>
    <p>Workflows that create <a>DAPT documents</a> from
      such timecode-based non-DAPT script formats
      need to map those timecode
      values onto the <a>DAPT document</a>'s timeline.</p>
    <p>If this mapping is not correct, presentation of the
      <a>DAPT Document</a> will not be synchronised with the <a>related media object</a>.
      A reference timecode that matches a known
      point on the DAPT document timeline can be used
      to achieve correct synchronisation, for example
      the timecode corresponding to the start of the programme,
      which should match DAPT time zero.</p>
    <p>In this scenario, if such a reference point is not known,
      but timecodes corresponding to <a>Script Events</a> are known,
      it is still possible to construct a <a>DAPT Document</a>,
      albeit one whose synchronisation with the related media has not yet been resolved.</p>
    <p>The optional <a>DAPT Origin Timecode</a> and
      <a>Start of Programme Timecode</a> properties can be used to
      identify when there is a possible synchronisation error,
      and to resynchronise the document when all
      the required information is known.</p>
    <p>These properties are provided as metadata only and
      are not intended to be used to perform direct synchronisation offsets
      during presentation.
      In particular, when the related media object uses timecode,
      the presence of the timecode properties does not mean that
      the player needs to relate these timecode values with
      any timecode value embedded in the related media resource.</p>

    <p>If either a <a>DAPT Origin Timecode</a> object
      or a <a>Start of Programme Timecode</a> object is present,
      the <a>DAPT Document</a> MUST have
      one <code>&lt;head&gt;</code> element child of the <code>&lt;tt&gt;</code> element,
      and that <code>&lt;head&gt;</code> element MUST have
      at least one <code>&lt;metadata&gt;</code> element child.</p>

    <section>
      <h5>DAPT Origin Timecode</h5>
      <p>The optional <dfn>DAPT Origin Timecode</dfn> allows a timecode value to be declared
        that corresponds to the zero point of the DAPT document timeline,
        that is, the time of a hypothetical <a>Script Event</a> whose <a>Begin</a> is
        zero seconds.</p>
      <p>The properties can be used to provide timecodes from
        the related media object or from any other script format used to produce the DAPT document,
        and are informational.
        However, when they are both provided and differ,
        it is an indication that the DAPT document is not synchronized with
        the related media object and that processing of the script event begins is needed.
        To achieve synchronization, the following needs to be done:</p>
      <ol>
        <li>The difference
          <a>DAPT Origin Timecode</a> minus the <a>Start of Programme Timecode</a>
          is computed as "delta".
          It may be positive or negative.</li>
        <li>Each <a>Script Event</a>'s <a>Begin</a> and <a>End</a> value X shall be changed to X + delta.</li>
        <li>The <a>DAPT Origin Timecode</a> shall be removed or changed to the <a>Start of Programme timecode</a> value
          so that if this algorithm is run again it will result in delta that is zero.</li>
      </ol>
      <p>A <a>DAPT Script</a> MAY contain zero or one <a>DAPT Origin Timecode</a> objects.</p>
      <p>The <a>DAPT Origin Timecode</a> object is represented in a <a>DAPT Document</a> by
        a <code>&lt;</code><dfn><code>daptm:daptOriginTimecode</code></dfn><code>&gt;</code> element present at the path
        <code>/tt/head/metadata/daptm:daptOriginTimecode</code>,
        with the following constraints:</p>
      <ul>
        <li>The character content of the element must conform to a <code>clock-time</code>
          with a <code>frames</code> component, as defined in <dfn data-cite="ttml2#timing-value-time-expression">&lt;time-expression&gt;</dfn>.</li>
      </ul>
      <p class="note">See also <a href="#ttp-framerate"></a>.
        No mechanism is defined here for declaring a different frame rate for the <a>DAPT Origin Timecode</a>
        than is used for other frame-based time expressions.
      </p>
      <p>If the related media object contains a timecode for the video frame
        synchronized to the origin of the DAPT document timeline,
        the DAPT origin timecode is equal that timecode. 
      </p>
      <pre class="example">
...
&lt;head&gt;
&lt;metadata&gt;
&lt;daptm:daptOriginTimecode&gt;10:01:20:12&lt;/daptm:daptOriginTimecode&gt;
&lt;/metadata&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div xml:id="se1" begin="0s" end="1.8s"&gt;
&lt;!-- This script event was generated from a source whose begin timecode was 10:01:20:12 --&gt;
&lt;/div&gt;
&lt;/body&gt;
...
      </pre>
      <aside class="example">
        <p>When converting legacy formats that store the equivalent of each Script Event,
          for example a <a>description</a>, with SMPTE timecodes,
          but where the <a>Start of Programme Timecode</a> is
          not stored, and is not immediately available, the <a>DAPT Origin Timecode</a>
          can be used to defer synchronisation with the media until
          that media begin timecode is known.
        </p>
        <p>One approach to deferring synchronisation using <a>DAPT Origin Timecode</a>
          is as follows, assuming that a legacy source file is being converted
          to a <a>DAPT Document</a> and relates to media with continuous timecode:
        </p>
        <ul>
          <li>Find the earliest begin timecode for an item in the source file
            that will be mapped to a <a>Script Event</a>;</li>
          <li>Create a <a>DAPT Document</a> with
            a <a>DAPT Origin Timecode</a> set to that earliest begin timecode;</li>
          <li>For each relevant item in the source file,
            create a <a>Script Event</a> with appropriate
            <a>Begin</a> and <a>End</a> times obtained by converting
            the source file's begin and end timecodes to media time,
            relative to that <a>DAPT Origin Timecode</a>,
            basing elapsed time on the applicable frame rate;</li>
          <li>If using frame-based media time expressions,
            set the <code>ttp:frameRate</code> attribute of
            the <code>&lt;tt&gt;</code> element to the applicable frame rate;
          </li>
        </ul>
        <p>When the related media's timecode is later dicovered,
          the times of the <a>Script Events</a> can be adjusted so that
          media time zero is coincident with the <a>Start of Programme Timecode</a>,
          and the <a>DAPT Origin Timecode</a> can be
          removed or set to the now-known value.
        </p>
        <p class="note">The above algorithm can be used to align the begin times
          of the <a>DAPT Script</a> and the <a>related media object</a>.
          It does not address progressive synchronisation errors caused by incorrect frame rates or
          differing playback rates.
        </p>
      </aside>
    </section>

    <section>
      <h5>Start of Programme Timecode</h5>
      <p>The optional <dfn>Start of Programme Timecode</dfn> allows a timecode value to be declared
        that corresponds to the beginning of the related media object's programme content.</p>
      <p >In combination with <a>DAPT Origin Timecode</a>,
        the value of <a>Start of Programme Timecode</a> can be used to infer whether or not
        the media times in the <a>DAPT Script</a> are likely to be correctly synchronised with
        the <a>Related Media Object</a>.</p>
      <p>If both <a>DAPT Origin Timecode</a> and <a>Start of Programme Timecode</a> are present,
        but their values are different, it is likely that the media times are not
        synchronised with the <a>Related Media Object</a>, since this implies that
        the equivalent time code to zero seconds in media time is not the start of the programme,
        which is the requirement for correctly synchronised media time.</p>
      <p>A <a>DAPT Script</a> MAY contain zero or one <a>Start of Programme Timecode</a> objects.</p>
      <p>The <a>Start of Programme Timecode</a> object is represented in a <a>DAPT Document</a> by
        a <code>&lt;ebuttm:documentStartOfProgramme&gt;</code> element present at the path
        <code>/tt/head/metadata/ebuttm:documentStartOfProgramme</code>,
        with the syntactic constraints as defined in [[EBU-TT-3390]].</p>
      <pre class="example">
...
&lt;head&gt;
&lt;metadata&gt;
&lt;daptm:daptOriginTimecode&gt;10:01:20:12&lt;/daptm:daptOriginTimecode&gt;
&lt;ebuttm:documentStartOfProgramme&gt;10:00:00:00&lt;ebuttm:documentStartOfProgramme&gt;
&lt;!-- It is likely that this document is 1 minute, 20 seconds and 12 frames too early,
  compared to the related media --&gt;
&lt;/metadata&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div xml:id="se1" begin="0s" end="1.8s"&gt;
&lt;!-- This script event was generated from a source whose begin timecode was 10:01:20:12 --&gt;
&lt;/div&gt;
&lt;/body&gt;
...
      </pre>
      <p>If the times of the <a>Script Events</a> are adjusted to bring
        the media time into synchronisation with the <a>Related Media Object</a>,
        as noted in <a>DAPT Origin Timecode</a>, the <a>Start of Programme Timecode</a>
        SHOULD NOT be changed, since it is an invariant feature of the <a>Related Media Object</a>,
        and does not describe the times in the <a>DAPT Document</a>.</p>
    </section>

  </section>

  <section class="informative appendix">
    <h2>Audio Mixing</h2>

    <p>Applying the <a>Mixing Instructions</a> can be implemented using [[webaudio]].
      <a href="#audio-mixing-figure"></a> shows the flow of programme audio,
      and how, when audio-generating elements are active,
      the pan and gain (if set) on the <a>Script Event</a> are applied,
      then the output is passed to the <a>Text</a>,
      which mixes in the audio from any active <a>Audio Recording</a>,
      itself subject to its own <a>Mixing Instructions</a>,
      then the result has the <a>Text</a>'s <a>Mixing Instructions</a>
      applied, prior to the output being mixed on to the master bus.
    </p>

    <figure id="audio-mixing-figure">
      <div data-include="figures/audio-mixing.svg"></div>
      <figcaption>Example simple audio routing between objects</figcaption>
    </figure>

    <p>This example is shown as [[webaudio]] nodes in <a href="#webaudio-nodes-figure"></a>.</p>

    <figure id="webaudio-nodes-figure">
      <div data-include="figures/webaudio-nodes.svg"></div>
      <figcaption>Web audio nodes representing the audio processing needed.</figcaption>
    </figure>

    <p>The above examples are simplified in at least two ways:</p>
    <ul>
      <li>if a <a>Text</a> contains
        <code>&lt;span&gt;</code> elements that themselves have <a>Mixing Instructions</a>
        applied, then additional nodes would be needed;</li>
      <li>the application of <em>animated</em> <a>Mixing Instructions</a> is not
        shown explicitly. [[webaudio]] supports the timed variation of
        input parameters to its nodes: it is possible to translate the
        TTML <code>&lt;animate&gt;</code> element semantics directly into
        [[webaudio]] API calls to achieve the equivalent effect.</li>
    </ul>

  </section> <!-- #audio-mixing -->

<section class="appendix">
    <h3>Profiles</h3>
    <p>This section defines
      a [[TTML2]] <a>content profile</a>
      and a <a>processor profile</a>
      by expressing dispositions against a set of <dfn data-cite="TTML2#terms-feature">features</dfn>
      and <dfn data-cite="TTML2#terms-extension">extensions</dfn>.
      The DAPT extensions are defined in <a href="#extensions"></a>.
    </p>
    <p>The Profile Semantics specified in [[TTML2]] apply.</p>
    <p>
      A TTML <dfn data-cite="TTML2#terms-profile">Profile</dfn> specification is
      a document that lists all the features of TTML that are required / optional / prohibited
      within â€œdocument instancesâ€ (files) and â€œprocessorsâ€ (things that process the files),
      and any extensions or constraints.
    </p>
    <p>
      A <dfn data-cite="TTML2#terms-timed-text-content-document-instance">timed text content document instance</dfn>
      that conforms to the <a>content profile</a> defined herein:
    </p>
    <ul style="list-style-type:disc">
      <li>MUST satisfy all normative provisions specified by the profile;</li>
      <li>MAY include any vocabulary, syntax or attribute value associated with a <a>feature</a> or <a>extension</a> whose disposition is permitted or optional in the profile;</li>
      <li>MUST include any vocabulary, syntax or attribute value associated with a <a>feature</a> or <a>extension</a> whose disposition is required in the profile.</li>
      <li>MUST NOT include any vocabulary, syntax or attribute value associated with a <a>feature</a> or <a>extension</a> whose disposition is prohibited in the profile.</li>
    </ul>
    <p class="note">
      A <a>timed text content document instance</a>, by definition, satisfies the requirements of Section 3.1 at [[TTML2]],
      and hence a <a>timed text content document instance</a> that conforms to a profile defined herein is also a conforming TTML2 <a>Document Instance</a>.
    </p>
    <p>
      A <dfn data-cite="TTML2#terms-presentation-processor">Presentation processor</dfn> that conforms to the <a>processor profile</a> defined in this specification:
    </p>
    <ul style="list-style-type:disc">
      <li>MUST satisfy the Generic Processor Conformance requirements at Section 3.2.1 of [[TTML2]]</li>
      <li>MUST satisfy all normative provisions specified by the profile; and</li>
      <li>MUST implement presentation semantic support for every <a>feature</a> or <a>extension</a> designated as permitted or required by the profile, subject to any additional constraints on each <a>feature</a> as specified by the profile.</li>
      <li>MAY implement presentation semantic support for every <a>feature</a> or <a>extension</a> designated as optional or prohibited by the profile, subject to any additional constraints on each <a>feature</a> as specified by the profile.</li>
    </ul>
    <p>
      A <dfn data-cite="TTML2#terms-transformation-processor">Transformation processor</dfn> that conforms to the <a>processor profile</a> defined in this specification:
    </p>
    <ul style="list-style-type:disc">
      <li>MUST satisfy the Generic Processor Conformance requirements at Section 3.2.1 of [[TTML2]];</li>
      <li>MUST satisfy all normative provisions specified by the profile; and</li>
      <li>MUST implement transformation semantic support for every <a>feature</a> or <a>extension</a> designated as permitted or required by the profile, subject to any additional constraints on each <a>feature</a> as specified by the profile.</li>
      <li>MAY implement transformation semantic support for every <a>feature</a> or <a>extension</a> designated as optional or prohibited by the profile, subject to any additional constraints on each <a>feature</a> as specified by the profile.</li>
    </ul>
    <p>The dispositions required, permitted, optional and prohibited as used in this specification
      map to the [[TTML2]] <dfn data-cite="TTML2#profile-vocabulary-feature"><code>&lt;ttp:feature&gt;</code></dfn>
      and <dfn data-cite="TTML2#profile-vocabulary-extension"><code>&lt;ttp:extension&gt;</code></dfn> elements'
      <code>value</code> attribute values as follows:</p>
    <table class="complex data">
      <thead>
        <tr>
          <th rowspan="2" style="vertical-align: bottom;">DAPT disposition</th>
          <th colspan="2"><a><code>&lt;ttp:feature&gt;</code></a> or <a><code>&lt;ttp:extension&gt;</code></a> element <code>value</code> attribute value in</th>
        </tr>
        <tr>
          <th><a>content profile</a></th>
          <th><a>processor profile</a></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>required</td>
          <td>required</td>
          <td>required</td>
        </tr>
        <tr>
          <td>permitted</td>
          <td>optional</td>
          <td>required</td>
        </tr>
        <tr>
          <td>optional</td>
          <td>optional</td>
          <td>optional</td>
        </tr>
        <tr>
          <td>prohibited</td>
          <td>prohibited</td>
          <td>optional</td>
        </tr>
      </tbody>
    </table>
    <p class="note">
      The use of the terms <a>presentation processor</a> 
      and <a>transformation processor</a> within this document does not imply conformance
      <i>per se</i> to any of the Standard Profiles defined in [[TTML2]].
      In other words, it is not considered an error for
      a <a>presentation processor</a> or <a>transformation processor</a>
      to conform to the profile defined in this document
      without also conforming to the TTML2 Presentation Profile or the TTML2 Transformation Profile.
    </p>
    <p class="note">
      The use of the [[TTML2]] <a href="https://www.w3.org/TR/ttml2/#vocabulary-profiling">profiling</a>
      sub-system to describe DAPT conformance within this specification
      is not intended imply that DAPT processors are required to support any features of that
      system other than those for which support is explicitly required by DAPT.
    </p>
    <p class="note">
      This document does not specify <a>presentation processor</a> or <a>transformation processor</a> behavior
      when processing or transforming a non-conformant <a>timed text content document instance</a>.
    </p>
    <p class="note">
      The permitted and prohibited dispositions do not refer to the specification of
      a <a><code>&lt;ttp:feature&gt;</code></a> or <a><code>&lt;ttp:extension&gt;</code></a> element
      as being permitted or prohibited within a <dfn data-cite="TTML2#profile-vocabulary-profile"><code>&lt;ttp:profile&gt;</code></dfn> element.
    </p>
    <section>
      <h4>Disposition of Features and Extensions</h4>
      <p>The <a>features</a> and <a>extensions</a> listed in this section express the
        minimal requirements for <a>DAPT Documents</a>,
        <a>Presentation Processors</a>,
        and <a>Transformation Processors</a>.
        <a>DAPT Documents</a> MAY additionally conform to other profiles,
        and include syntax not prohibited by the DAPT <a>content profile</a>.
        <a>Presentation Processors</a> and <a>Transformation Processors</a>
        MAY support additional syntax and semantics relating to other profiles.</p>
      <p class="note">For example, a <a>DAPT Script</a> can include syntax permitted
        by the IMSC ([[TTML-IMSC1.2]]) profiles of [[TTML2]] to enhance the presentation
        of <a>scripts</a> to actors recording audio,
        or to add styling important for later usage in subtitle or caption creation.
      </p>
      <p class="ednote">Editorial task: go through this list of <a>features</a> and check the disposition of each.
        There should be no prohibited features that are permitted in IMSC.</p>
      <table class="data" id="table-features-and-extensions">
        <thead>
          <tr>
            <th style="width:20%; text-align:center;">Feature or Extension</th>
            <th style="width:10%; text-align:center;">Disposition</th>
            <th style="text-align:center">Additional provision</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="3" class="table-row-header">Relative to the TT Feature namespace</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-animate-fill"><code>#animate-fill</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-animate-minimal"><code>#animate-minimal</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-animation-out-of-line"><code>#animation-out-of-line</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td>See <a href="#mixing-instruction"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-audio"><code>#audio</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-audio-description"><code>#audio-description</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-audio-speech"><code>#audio-speech</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-bidi"><code>#bidi</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-bidi-version-2"><code>#bidi-version-2</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-chunk"><code>#chunk</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-clockMode"><code>#clockMode</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-clockMode-gps"><code>#clockMode-gps</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-clockMode-local"><code>#clockMode-local</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-clockMode-utc"><code>#clockMode-utc</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-content"><code>#content</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td> <dfn data-cite="TTML2#feature-contentProfiles"><code>#contentProfiles</code></dfn></td>
            <td><span class="optional label">optional</span></td>
            <td>See <a href="#ttp-contentprofiles"></a>
              and <a href="#extension-contentProfiles-root"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-contentProfiles-combined"><code>#contentProfiles-combined</code></dfn></td>
            <td><span class="optional label">optional</span></td>
            <td>See <a href="#other-ttml2-profile-vocabulary"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-core"><code>#core</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-data"><code>#data</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-direction"><code>#direction</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-dropMode"><code>#dropMode</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-dropMode-dropNTSC"><code>#dropMode-dropNTSC</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-dropMode-dropPAL"><code>#dropMode-dropPAL</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-dropMode-nonDrop"><code>#dropMode-nonDrop</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-embedded-audio"><code>#embedded-audio</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-embedded-data"><code>#embedded-data</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-frameRate"><code>#frameRate</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              See [[[#ttp-framerate]]].
            </td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-frameRateMultiplier"><code>#frameRateMultiplier</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-gain"><code>#gain</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-markerMode"><code>#markerMode</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-markerMode-continuous"><code>#markerMode-continuous</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-markerMode-discontinuous"><code>#markerMode-discontinuous</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-metadata"><code>#metadata</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-metadata-item"><code>#metadata-item</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-metadata-version-2"><code>#metadata-version-2</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-pan"><code>#pan</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-permitFeatureNarrowing"><code>#permitFeatureNarrowing</code></dfn></td>
            <td><span class="optional label">optional</span></td>
            <td>See <a href="#other-ttml2-profile-vocabulary"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-permitFeatureWidening"><code>#permitFeatureWidening</code></dfn></td>
            <td><span class="optional label">optional</span></td>
            <td>See <a href="#other-ttml2-profile-vocabulary"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-pitch"><code>#pitch</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-presentation-audio"><code>#presentation-audio</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-processorProfiles"><code>#processorProfiles</code></dfn></td>
            <td><span class="optional label">optional</span></td>
            <td>See <a href="#ttp-processorprofiles"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-processorProfiles-combined"><code>#processorProfiles-combined</code></dfn></td>
            <td><span class="optional label">optional</span></td>
            <td>See <a href="#other-ttml2-profile-vocabulary"></a>.</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-profile"><code>#profile</code></dfn></td>
            <td>partially permitted</td>
            <td>
              See <a href="#ttp-profile"></a>.
            </td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-profile-full-version-2"><code>#profile-full-version-2</code></dfn></td>
            <td>partially permitted</td>
            <td>
              See <a href="#other-ttml2-profile-vocabulary"></a>.
            </td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-profile-version-2"><code>#profile-version-2</code></dfn></td>
            <td>partially permitted</td>
            <td>
              See <a href="#other-ttml2-profile-vocabulary"></a>.
            </td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-resources"><code>#resources</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-set"><code>#set</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-set-fill"><code>#set-fill</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-set-multiple-styles"><code>#set-multiple-styles</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-source"><code>#source</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-speak"><code>#speak</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-speech"><code>#speech</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-structure"><code>#structure</code></dfn></td>
            <td><span class="required label">required</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-styling"><code>#styling</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-styling-chained"><code>#styling-chained</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-styling-inheritance-content"><code>#styling-inheritance-content</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-styling-inline"><code>#styling-inline</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-styling-referential"><code>#styling-referential</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-subFrameRate"><code>#subFrameRate</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-tickRate"><code>#tickRate</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td>See [[[#ttp-tickrate]]].</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-time-clock"><code>#time-clock</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-time-clock-with-frames"><code>#time-clock-with-frames</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-time-offset-with-frames"><code>#time-offset-with-frames</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td>See [[[#ttp-framerate]]].</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-time-offset-with-ticks"><code>#time-offset-with-ticks</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td>See [[[#ttp-tickrate]]].</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-time-offset"><code>#time-offset</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-time-wall-clock"><code>#time-wall-clock</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-timeBase-clock"><code>#timeBase-clock</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-timeBase-media"><code>#timeBase-media</code></dfn></td>
            <td><span class="required label">required</span></td>
            <td>
              <p>See [[[#ttp-timebase]]].</p>
              <p class="inline-note">NOTE: [[TTML1]] specifies that the default timebase is <code>"media"</code> if
              the <code>ttp:timeBase</code> attribute is not specified on the <code>&lt;tt&gt;</code> element.</p>
            </td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-timeBase-smpte"><code>#timeBase-smpte</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-timeContainer"><code>#timeContainer</code></dfn></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td>See [[[#timecontainer]]].</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-timing"><code>#timing</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td>See [[[#time-expressions]]].</td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-transformation"><code>#transformation</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              See constraints at <a href="#profile-constraints">#profile</a>.
            </td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-unicodeBidi"><code>#unicodeBidi</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-unicodeBidi-isolate"><code>#unicodeBidi-isolate</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-unicodeBidi-version-2"><code>#unicodeBidi-version-2</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td><dfn data-cite="TTML2#feature-xlink"><code>#xlink</code></dfn></td>
            <td><span class="permitted label">permitted</span></td>
            <td></td>
          </tr>
          <tr>
            <td colspan="3" class="table-row-header">Relative to the <a>DAPT Extension</a> namespace</td>
          </tr>
          <tr>
            <td><a href="#extension-agent"><code>#agent</code></a></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              This is the profile expression of <a href="#character"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-contentProfiles-root"><code>#contentProfiles-root</code></a></td>
            <td><span class="required label">required</span></td>
            <td>
              This is the profile expression of <a href="#ttp-contentprofiles"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-daptOriginTimecode"><code>#daptOriginTimecode</code></a></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              This is the profile expression of <a href="#dapt-origin-timecode"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-onScreen"><code>#onScreen</code></a></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              This is the profile expression of <a href="#on-screen"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-profile-root"><code>#profile-root</code></a></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td>
              This is the profile expression of the prohibition of
              the <code>ttp:profile</code> attribute on the <code>&lt;tt&gt;</code> element
              as specified in <a href="#ttp-profile"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-represents"><code>#represents</code></a></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              This is the profile expression of <a>Represents</a>
              as applied to <a>Script Event</a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-scriptEventGrouping"><code>#scriptEventGrouping</code></a></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              This is the profile expression of the permission to nest
              <code>&lt;div&gt;</code> elements described in <a href="#script-event"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-scriptEventMapping"><code>#scriptEventMapping</code></a></td>
            <td><span class="optional label">optional</span></td>
            <td>
              This is the profile expression of <a href="#handling-div-and-p-elements"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-scriptRepresents"><code>#scriptRepresents</code></a></td>
            <td><span class="required label">required</span></td>
            <td>
              This is the profile expression of <a>Script Represents</a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-scriptType-root"><code>#scriptType-root</code></a></td>
            <td><span class="required label">required</span></td>
            <td>
              This is the profile expression of <a href="#script-type"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-serialization"><code>#serialization</code></a></td>
            <td><span class="required label">required</span></td>
            <td>
              This is the profile expression of <a href="#document-encoding"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-source-data"><code>#source-data</code></a></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td>
              This is the profile expression of the prohibition of <code>&lt;source&gt;</code>
              child elements of <code>&lt;data&gt;</code> elements as specified in
              <a href="#audio-recording"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-textLanguageSource"><code>#textLanguageSource</code></a></td>
            <td><span class="permitted label">permitted</span></td>
            <td>
              This is the profile expression of <a href="#text-language-source"></a> as required at <a href="#text"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-xmlId-div"><code>#xmlId-div</code></a></td>
            <td><span class="required label">required</span></td>
            <td>
              This is the profile expression of <a href="#script-event"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-xmlLang-audio-nonMatching"><code>#xmlLang-audio-nonMatching</code></a></td>
            <td><span class="prohibited label">prohibited</span></td>
            <td>
              This is the profile expression of the prohibition of the <code>xml:lang</code> attribute
              on the <code>&lt;audio&gt;</code> element having a different computed value to the
              parent element and descendant or referenced <code>&lt;source&gt;</code>
              and <code>&lt;data&gt;</code> elements, as specified in
              <a href="#audio-recording"></a>.
            </td>
          </tr>
          <tr>
            <td><a href="#extension-xmlLang-root"><code>#xmlLang-root</code></a></td>
            <td><span class="required label">required</span></td>
            <td>
              This is the profile expression of <a href="#default-language"></a>.
            </td>
          </tr>
        </tbody>
      </table>
    </section>

      <section>
        <h4>DAPT Content Profile</h4>
        <p>The DAPT Content Profile expresses the conformance requirements of <a>DAPT Scripts</a>
          using the profile mechanism of [[TTML2]].
          It can be used by a validating processor that supports the DAPT Processor Profile
          to validate a <a>DAPT Document</a>.</p>
        <p>There is no requirement to include the DAPT Content Profile within a <a>DAPT Document</a>.</p>
        <pre class="xml" data-include="profiles/dapt-content-profile.xml" data-include-format="text"></pre>
      </section>

      <section>
        <h4>DAPT Processor Profile</h4>
        <p>The DAPT Processor Profile expresses the processing requirements of <a>DAPT Scripts</a>
          using the profile mechanism of [[TTML2]].
          A processor that supports the required features and extensions of the DAPT Processor Profile
          can, minimally, process all permitted features within a <a>DAPT Document</a>.</p>
        <p>There is no requirement to include the DAPT Processor Profile within a <a>DAPT Document</a>.</p>
        <pre class="xml" data-include="profiles/dapt-processor-profile.xml" data-include-format="text"></pre>
    </section>

  </section> <!-- profiles-section -->

  <section class="appendix">
    <h2>Extensions</h2>
    <section>
      <h3>General</h3>
      <p>The following sections define <a href="https://www.w3.org/TR/ttml2/#terms-extension">extension</a> designations,
        expressed as relative URIs (fragment identifiers)
        relative to the <a>DAPT Extension</a> Namespace base URI.
        These extension designations are used in <a href="#profiles"></a>
        to describe the normative provisions of DAPT that are not expressed
        by [[TTML2]] profile features.
      </p>
    </section>

      <section>
      <h3 id="extension-agent">#agent</h3>
      <p>A <a>transformation processor</a> supports the <code>#agent</code> extension if
        it recognizes and is capable of transforming values of the following
        elements and attributes on
        the <code>&lt;ttm:agent&gt;</code> element:</p>
      <ul>
        <li><code>xml:id</code> attribute</li>
        <li><code>&lt;ttm:name&gt;</code> element</li>
      </ul>
      <p>and if it recognizes and is capable of transforming each of the following value combinations:</p>
      <ul>
        <li><code>&lt;ttm:agent&gt;</code> element with <code>type="person"</code>
          and child <code>&lt;ttm:name&gt;</code> element with <code>type="full"</code>;</li>
          <li><code>&lt;ttm:agent&gt;</code> element with <code>type="character"</code>
            and child <code>&lt;ttm:name&gt;</code> element with <code>type="alias"</code>;</li>
        </ul>

      <p>A <a>presentation processor</a> supports the <code>#agent</code> extension if
        it implements presentation semantic support of the above listed
        elements, attributes and value combinations.</p>
      </section>

    <section>
      <h3 id="extension-contentProfiles-root">#contentProfiles-root</h3>
      <p>A <a>transformation processor</a> supports the <code>#contentProfiles-root</code> extension if
        it recognizes and is capable of transforming values of the
        <a><code>ttp:contentProfiles</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>

      <p>A <a>presentation processor</a> supports the <code>#contentProfiles-root</code> extension if
        it implements presentation semantic support of the
        <a><code>ttp:contentProfiles</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>

      <aside class="note">This extension is defined as a subset of
        <code><a>#contentProfiles</a></code>
        to avoid requiring processor support for
        the <a><code>ttp:profile</code></a> attribute and
        processor profile inference semantics.
      </aside>
      </section>

      <section>
        <h3 id="extension-daptOriginTimecode">#daptOriginTimecode</h3>
        <p>A <a>transformation processor</a> supports the <code>#daptOriginTimecode</code> extension if
          it recognizes and is capable of transforming values of the
          <code>&lt;</code><a><code>daptm:daptOriginTimecode</code></a><code>&gt;</code> element.</p>
  
        <p>No <a>presentation processor</a> behaviour is defined for the <code>#daptOriginTimecode</code> extension.</p>
      </section>

      <section>
        <h3 id="extension-onScreen">#onScreen</h3>
        <p>A <a>transformation processor</a> supports the <code>#onScreen</code> extension if
          it recognizes and is capable of transforming values of the
          <a><code>daptm:onScreen</code></a> attribute on the <code>&lt;div&gt;</code> element.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#onScreen</code> extension if
          it implements presentation semantic support of the
          <a><code>daptm:onScreen</code></a> attribute on the <code>&lt;div&gt;</code> element.</p>
      </section>

      <section>
        <h3 id="extension-profile-root">#profile-root</h3>
        <p>A <a>transformation processor</a> supports the <code>#profile-root</code> extension if
          it recognizes and is capable of transforming values of the
          <a><code>ttp:profile</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#profile-root</code> extension if
          it implements presentation semantic support of the
          <a><code>ttp:profile</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>
      </section>

      <section>
        <h3 id="extension-represents">#represents</h3>
        <p>A <a>transformation processor</a> supports the <code>#represents</code> extension if
          it recognizes and is capable of transforming values of the
          <a><code>daptm:represents</code></a> attribute.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#represents</code> extension if
          it implements presentation semantic support of the
          <a><code>daptm:represents</code></a> attribute.</p>

        <p>An example of a <a>transformation processor</a> that supports this extension is
          a validating processor that reports an error if the extension is permitted by a
          <a>content profile</a> but the <a>timed text content document instance</a> claiming
          conformance to that profile has a
          <code>&lt;div&gt;</code> element with a <a><code>daptm:represents</code></a> attribute
          whose value is not conformant with the requirements defined herein.</p>
      </section>

      <section>
        <h3 id="extension-scriptEventGrouping">#scriptEventGrouping</h3>
        <p>A <a>transformation processor</a> supports the <code>#scriptEventGrouping</code> extension if
          it recognises and is capable of transforming <code>&lt;div&gt;</code> elements
          that contain <code>&lt;div&gt;</code> elements.</p>
  
        <p class="note">Support for the <code>#scriptEventGrouping</code> extension does not imply
          support for the <a href="#extension-scriptEventMapping"><code>#scriptEventMapping</code></a> extension.</p>

        <p>A <a>presentation processor</a> supports the <code>#scriptEventGrouping</code> extension if
          it implements presentation semantic support for <code>&lt;div&gt;</code> elements
          that contain <code>&lt;div&gt;</code> elements.</p>
      </section>

      <section>
        <h3 id="extension-scriptEventMapping">#scriptEventMapping</h3>
        <p>A <a>transformation processor</a> supports the <code>#scriptEventMapping</code> extension
          if, when mapping a <a>DAPT document</a> into an internal representation of the DAPT data model,
          it implements the processing requirements specified at <a href="#handling-div-and-p-elements"></a>.</p>

        <p class="note">No support for the <code>#scriptEventMapping</code> extension is
          required for <a>presentation processors</a> because there are no presentation semantics that
          either require, or depend upon, mapping a <a>DAPT document</a> into an internal representation
          of the DAPT data model. A presentation processor that does perform such a mapping can also be
          considered to be a <a>transformation processor</a> for the purpose of this extension.</p>
      </section>

      <section>
        <h3 id="extension-scriptRepresents">#scriptRepresents</h3>
        <p>A <a>transformation processor</a> supports the <code>#scriptRepresents</code> extension if
          it recognizes and is capable of transforming values of the
          <a><code>daptm:scriptRepresents</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#scriptRepresents</code> extension if
          it implements presentation semantic support of the
          <a><code>daptm:scriptRepresents</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>

        <p>An example of a <a>transformation processor</a> that supports this extension is
          a validating processor that reports an error if the extension is required by a
          <a>content profile</a> but the <a>timed text content document instance</a> claiming
          conformance to that profile either does not have a
          <a><code>daptm:scriptRepresents</code></a> attribute on the <code>&lt;tt&gt;</code> element
          or has one whose value is not conformant with the requirements defined herein.</p>
      </section>

      <section>
        <h3 id="extension-scriptType-root">#scriptType-root</h3>
        <p>A <a>transformation processor</a> supports the <code>#scriptType-root</code> extension if
          it recognizes and is capable of transforming values of the
          <a><code>daptm:scriptType</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#scriptType-root</code> extension if
          it implements presentation semantic support of the
          <a><code>daptm:scriptType</code></a> attribute on the <code>&lt;tt&gt;</code> element.</p>

        <p>An example of a <a>transformation processor</a> that supports this extension is
          a validating processor that provides appropriate feedback, for example warnings,
          when the SHOULD requirements defined in <a href="#script-type"></a> for a
          <a>DAPT Document</a>'s <a><code>daptm:scriptType</code></a> are not met,
          and that reports an error if the extension is required by a
          <a>content profile</a> but the <a>timed text content document instance</a> claiming
          conformance to that profile either does not have a
          <a><code>daptm:scriptType</code></a> attribute on the <code>&lt;tt&gt;</code> element
          or has one whose value is not defined herein.</p>

      </section>

      <section>
        <h3 id="extension-serialization">#serialization</h3>
        <p>A serialized document that is valid with respect to the <code>#serialization</code>
          extension is
          an XML 1.0 [[xml]] document encoded using
          UTF-8 character encoding as specified in [[UNICODE]],
          that contains no entity declarations and
          no entity references other than to predefined entities.</p>

        <p>A <a>transformation processor</a> or a <a>presentation processor</a> supports
          the <code>#serialization</code> extension if
          it can read a serialized document as defined above.</p>
  
        <p>A <a>transformation processor</a> that writes documents supports
          the <code>#serialization</code> extension if
          it can write a serialized document as defined above.</p>
      </section>

      <section>
        <h3 id="extension-source-data">#source-data</h3>
        <p>A <a>transformation processor</a> supports the <code>#source-data</code> extension if
          it recognizes and is capable of transforming values of the
          <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-source">&lt;source&gt;</a> element
          child of a
          <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-data">&lt;data&gt;</a> element.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#source-data</code> extension if
          it implements presentation semantic support of the
          <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-source">&lt;source&gt;</a> element
          child of a
          <a href="https://www.w3.org/TR/ttml2/#embedded-content-vocabulary-data">&lt;data&gt;</a> element.</p>
      </section>

      <section>
        <h3 id="extension-textLanguageSource">#textLanguageSource</h3>
        <p>A <a>transformation processor</a> supports the <code>#textLanguageSource</code> extension if
          it recognizes and is capable of transforming values of the
          <a><code>daptm:langSrc</code></a> attribute.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#textLanguageSource</code> extension if
          it implements presentation semantic support of the
          <a><code>daptm:langSrc</code></a> attribute.</p>
      </section>

      <section>
        <h3 id="extension-xmlId-div">#xmlId-div</h3>
        <p>A <a>transformation processor</a> supports the <code>#xmlId-div</code> extension if
          it recognizes and is capable of transforming values of the
          <code>xml:id</code> attribute on the <code>&lt;div&gt;</code> element.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#xmlId-div</code> extension if
          it implements presentation semantic support of the
          <code>xml:id</code> attribute on the <code>&lt;div&gt;</code> element.</p>
        </section>

      <section>
        <h3 id="extension-xmlLang-audio-nonMatching">#xmlLang-audio-nonMatching</h3>
        <p>A <a>transformation processor</a> supports the <code>#xmlLang-audio-nonMatching</code> extension if
          it recognizes and is capable of transforming values of the
          <code>xml:lang</code> attribute on the <code>&lt;audio&gt;</code> element
          that differ from the computed value of the same attribute of its
          parent element or any of its descendant or referenced
          <code>&lt;source&gt;</code> or <code>&lt;data&gt;</code> elements,
          known as <dfn>non-matching</dfn> values.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#xmlLang-audio-nonMatching</code> extension if
          it implements presentation semantic support of such <a>non-matching</a>
          <code>xml:lang</code> attribute values.</p>
      </section>
  
      <section>
        <h3 id="extension-xmlLang-root">#xmlLang-root</h3>
        <p>A <a>transformation processor</a> supports the <code>#xmlLang-root</code> extension if
          it recognizes and is capable of transforming values of the
          <code>xml:lang</code> attribute on the <code>&lt;tt&gt;</code> element
          and the additional semantics specified in <a href="#default-language"></a>.</p>
  
        <p>A <a>presentation processor</a> supports the <code>#xmlLang-root</code> extension if
          it implements presentation semantic support of the
          <code>xml:lang</code> attribute on the <code>&lt;tt&gt;</code> element
          and the additional semantics specified in <a href="#default-language"></a>.</p>
        </section>
    </section> <!-- extensions-->

  <section class="appendix">
    <h2>Registry Section</h2>
    <section id="registry-definition">
      <h2>Registry Definition</h2>
      <p>This section specifies the <a>registry definition</a>, consisting of
        the custodianship, change process and
        the core requirements of the <a>registry tables</a> defined in this document.
      </p>
      <section id="custodianship">
        <h3>Custodianship</h3>
        <p>The <dfn data-cite="w3c-process#custodian">custodian</dfn> of this <a>w3c registry</a> is the
          <dfn data-abbr="TTWG"><a href="https://www.w3.org/groups/wg/timed-text">Timed Text Working Group</a></dfn>. 
          If the <a>TTWG</a> is unable to fulfil the role of <a>custodian</a>,
          for example if it has been <a data-cite="w3c-process#GeneralTermination">closed</a>,
          the <a>custodian</a> in lieu is the <a>W3C Team</a>.
        </p>
      </section>
      <section id="change-process">
        <h3>Change Process</h3>
        <section id="requesting-a-change">
          <h4>Requesting a change</h4>
          <p>Changes to this  <a>W3C Registry</a> MUST be requested (the <dfn>change request</dfn>)
            using any one of the following options:</p>
          <ul>
            <li>Open an issue on this document's <a class="pp-vcs" href="">version control system</a>;</li>
            <li>Send an email to the <a>TTWG</a>'s public email reflector
              <a href="mailto:public-tt@w3.org">public-tt@w3.org</a></li>
          </ul>
          <p>The <a>change request</a> MUST include enough information for the <a>custodian</a>
            to be able to identify all of:</p>
          <ul>
            <li>The <a>registry table</a>;</li>
            <li>All <a>registry entries</a> being proposed for addition, if any;</li>
            <li>All <a>provisional</a> <a>registry entries</a> for which changes are being proposed, if any;</li>
            <li>All <a>registry entries</a> being proposed for a <a>status</a> change, if any;</li>
            <li>Details of the requested changes for each <a>registry entry</a>;</li>
            <li>The motivation for making the requested changes;</li>
            <li>Any other supporting information, for example real world usage statistics;</li>
          </ul>
          <p>The proposer of the change MAY open a pull request (or equivalent) on
            the <a class="pp-vcs" href="">version control system</a>, with that pull request
            containing the proposed changes. If a pull request is opened then
            a corresponding issue MUST also be opened and
            the pull request MUST be linked to that issue.</p>
          <aside class="note">A pull request representing the proposals made in the <a>change request</a>
            is required before <a>TTWG</a> review can proceed.</aside>
        </section>
        <section id="change-request-assessment">
          <h4>Change request assessment process</h4>
          <p>The process for assessing a <a>change request</a> depends on the <a>custodian</a>.</p>
          <section id="ttwg-change-request-assessment">
            <h5>Custodian is TTWG</h5>
            <p>If the <a>custodian</a> is the <a>TTWG</a>:</p>
            <ul>
              <li>If the change proposer did not open a pull request
                on the <a class="pp-vcs" href="">version control system</a>,
                then assessment is paused until a TTWG member
                has opened such a pull request,
                which MUST represent the requested changes
                and MUST be linked to a related issue.</li>
              <li>The TTWG follows its Decision Policy to review
                the proposal in the pull request.</li>
              <li>At the end of the Decision Review Period
                if a TTWG Chair declares that there is consensus to approve,
                the <a>change request</a> is approved.</li>
              <li>In the absence of consensus to approve the expectation is
                that a discussion will happen, to include the
                change requester.
                The result of this discussion can be any one of:
                <ol>
                  <li>the <a>change request</a> is abandoned;</li>
                  <li>the <a>change request</a> is modified for another review;</li>
                  <li>if the discussion resolves the objections,
                    and a TTWG Chair declares consensus to approve,
                    the <a>change request</a> can be approved.</li>
                </ol>
              </li>
            </ul>
            <p>An approved <a>change request</a> is enacted by merging its
              related pull request into the <a class="pp-vcs" href="">version control system</a>
              and publishing the updated version of this document.</p>
          </section>
          <section id="team-change-request-assessment">
            <h5>Custodian is the W3C Team</h5>
            <p>If the <a>custodian</a> is the <a>W3C Team</a>,
              the Team MUST seek <a>wide review</a> of the <a>change request</a> and
              offer a review period of at least 4 weeks,
              before assessing from the responses received
              if there is consensus amongst the respondents.</p>
            <p>The Team MAY require a pull request on the <a class="pp-vcs" href="">version control system</a>
              to be opened as the basis of the review.
            </p>
            <p>If there is such consensus,
              the Team MUST make the proposed changes.</p>
          </section>
        </section>
      </section>
      <h3>Registry Table Constraints</h3>
      <p>This section defines constraints on the <a>registry tables</a>
        defined in this document.
        Each <a>registry table</a> consists of a set of
        <dfn data-cite="w3c-process#registry-entry" data-lt="registry entry|registry entries">registry entries</dfn>.
        Each <a>registry table</a> has an associated <dfn>registry table definition</dfn> in <a href="#registry-table-definitions"></a>,
        which lists the <a>fields</a> present in each <a>registry entry</a>.</p>
      <section id="registry-entries">
        <h4>Registry Entries</h4>
        <p>Each <a>registry entry</a> has a <a>status</a>, a unique <dfn>key</dfn>, and
          if appropriate, other <dfn>fields</dfn>, for example any notes,
          a description, or a reference to some other
          defining entity.
        </p>
        <p>The <a>registry table definition</a> MUST define
          the <a>fields</a> and the <a>key</a> to be used
          in each <a>registry entry</a>.</p>
        <aside class="note">It is possible to use any <a>field</a>
          or combination of <a>fields</a> as the <a>key</a>.
          For example a <a>field</a> called "4 Character Code"
          might be used as the <a>key</a>.
          Another example is two fields called "Short name" and
          "Revision number" which, in combination,
          might be used as the <a>key</a>.
        </aside>

        <section id="registry-entry-status">
          <h5>Status</h5>
          <p>The <a>registry entry</a> <dfn>status</dfn> field reflects the maturity of that entry.
            Permitted values are:</p>
          <pre>
            Provisional
            Final
            Deprecated
          </pre>
          <p>No other values are permitted.</p>
          <section id="provisional-entry">
            <h6>Provisional</h6>
            <p><a>Registry entries</a> with a <a>status</a> of <dfn><code>Provisional</code></dfn> MAY be changed or deleted.
              Their <a>status</a> may be changed to <a><code>Final</code></a> or <a><code>Deprecated</code></a>.</p>
            <p><a>Registry entry</a> <a>keys</a> in <a><code>Provisional</code></a> entries
              that were later deleted MAY be reused.</p>
            <p>Newly created <a>registry entries</a> SHOULD have <a>status</a> <a><code>Provisional</code></a>.</p>
          </section>
          <section id="final-entry">
            <h6>Final</h6>
            <p><a>Registry entries</a> with a <a>status</a> of <dfn><code>Final</code></dfn> MUST NOT be deleted or changed.
              Their <a>status</a> MAY be changed to <a><code>Deprecated</code></a>.</p>
            <p><a>Registry entry</a> <a>keys</a> in <a><code>Final</code></a> entries MUST NOT be reused.</p>
            <p>Newly created <a>registry entries</a> MAY have <a>status</a> <a><code>Final</code></a>.</p>
          </section>
          <section id="deprecated-entry">
            <h6>Deprecated</h6>
            <p><a>Registry entries</a> with a <a>status</a> of <dfn><code>Deprecated</code></dfn> MUST NOT be deleted or changed.
              Their <a>status</a> MAY be changed to <a><code>Final</code></a>
              unless that would result in a duplicate <a>key</a> within the set of entries whose
              <a>status</a> is either <a><code>Provisional</code></a> or <a><code>Final</code></a>.</p>
            <p><a>Registry entry</a> <a>keys</a> in <a><code>Deprecated</code></a> entries
              that were previously <code>Provisional</code> and never <a><code>Final</code></a>
              MAY be reused.</p>
            <p><a>Registry entry</a> <a>keys</a> in <a><code>Deprecated</code></a> entries
              that were previously <a><code>Final</code></a> MUST NOT be reused.</p>
            <p>Newly created <a>registry entries</a> MUST NOT have <a>status</a> <a><code>Deprecated</code></a>.</p>
          </section>
        </section>
      </section>
    </section>
    <section id="registry-table-definitions">
      <h2>Registry Table Definitions</h2>
      <p>This section defines <a>registry tables</a> and locates their <a>registry entries</a>.</p>

      <section id="registry-table-descType">
        <h3><code>daptm:descType</code> registry table definition</h3>
        <p>The <a>registry table</a> for <code>daptm:descType</code> defines a set of values that can be
        used in the <code>daptm:descType</code> attribute.</p>
        <p>The <a>key</a> is the &quot;<code>daptm:descType</code>&quot; field.
        The &quot;description&quot; field describes the intended purpose of each value.</p> 
        <p>The <a>registry entries</a> for this <a>registry table</a> are located in <a href="#script-event-description"></a>.</p>
      </section>

      <section id="registry-table-content-descriptor">
        <h3><code>&lt;content-descriptor&gt;</code> registry table definition</h3>
        <p>The <a>registry table</a> for <code>&lt;content-descriptor&gt;</code> defines a set of values that can be
          used in the <code>daptm:represents</code> attribute.</p>
          <p>The <a>key</a> is the &quot;<code>&lt;content-descriptor&gt;</code>&quot; field.
          The &quot;Description&quot; field describes the type of media content represented by each value.
          The &quot;Example usage&quot; field describes the type of script in which the content type
          described are commonly found.</p> 
          <p>The <a>registry entries</a> for this <a>registry table</a> are located in <a href="#contentDescriptor"></a>.</p>
          <p>The <a>key</a> values for this <a>registry table</a> MUST NOT begin with <code>x-</code> which is reserved for user extensions.</p>
        </section>
      </section>
  </section>

  <section class="appendix">
    <h2>Acknowledgments</h2>
    The editors would like to thank XXX for their contributions to this specification.
  </section>

  </body>
</html>

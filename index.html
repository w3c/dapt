<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script defer src="https://www.w3.org/Tools/respec/respec-w3c" class="remove"></script>
    <script class="remove">
      var respecConfig = {
      // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
      specStatus: "ED",

      // the specification's short name, as in https://www.w3.org/TR/short-name/
      shortName: "dapt",

      // if there a publicly available Editor's Draft, this is the link
      edDraftURI: "https://w3c.github.io/dapt/",

      // editors, add as many as you like
      // only "name" is required
      editors:  [
        { name: "Cyril Concolato", w3cid: "36324", mailto: "cconcolato@netflix.com", url: "", company: "Netflix", companyURL: "https://www.netflix.com/"},
        { name: "Nigel Megitt", w3cid: "64750", mailto: "nigel.megitt@bbc.co.uk", url: "", company: "British Broadcasting Corporation", companyURL: "https://www.bbc.co.uk"},
      ],

      // name of the WG
      group: "wg/timed-text",
      github: "w3c/dapt",
      wgPublicList: "public-tt",

      // local bibliography
      localBiblio: {
          "WHP051": {
            title: "BBC R&D White Paper WHP 051. Audio Description: what it is and how it works",
            publisher: " N.E. Tanton, T. Ware and M. Armstrong",
            status: "October 2002 (revised July 2004)",
            href: "http://www.bbc.co.uk/rd/publications/whitepaper051",
          },
      },
    };
    </script>
  <style>
table.coldividers td + td { border-left:1px solid gray; }
  table.syntax { border: 0px solid black; width: 85%; border-collapse: collapse }
  table.syntax caption { font-weight: bold; text-align: left; padding-bottom: 0.5em }
  table.syntax th { border: 0px solid black; text-align: left }
  table.syntax td { border: 0px solid black }
  table.syntax div { background-color: #ffffc8 }
  div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
  ul.short-list { margin: 0; padding-left: 0; list-style-position: inside;}
  .note {font-size:small}
  .equation {text-indent: 10%;}
  .example {font-size: small}
  .inline-note {font-size: small}
  .deprecation {background-color: #EBEBFE; border: 3px double; margin: 2px;}
  .deprecation::before {content: "\26A0"; margin:0.2em; font-size:2em; float:left;}
  body {
    font-family: sans-serif;
    line-height: 24px;
  }
  span.label {
    display: inline-block;
    border-radius: 3px;
  }
  span.permitted::before {
    content: "\00A0\2713\00A0"
  }
  span.prohibited::before {
    content: "\00A0\2718\00A0"
  }
  span.permitted-deprecated::before {
    font-weight: bold;
    content: "\00A0!\00A0"
  }
  span.label::after {
    content: "\00A0";
  }
  span.permitted {
    color: black;
    background-color: #50FF50;
  }
  span.prohibited {
    color: black;
    background-color: #FF5F5F;
  }
  span.permitted-deprecated {
    color: black;
    background-color: #FFC000;
  }
  </style>
  </head>
  <body>
    <h1 id="title">Dubbing and Audio description Profiles of TTML2</h1>
    
    <section id="abstract">
      This specification defines <abbr title="Dubbing and Audio description Profiles of TTML2">DAPT</abbr>, a <abbr title="Timed Text Markup Language">TTML</abbr>-based file format for the exchange of timed text content in dubbing and audio description workflows.
    </section>

    <section id="sotd">
    </section>

    <section id="scope">
      <h2>Scope</h2>
      <p>This specification defines a text-based profile of the Timed Text Markup Language version 2.0 [[TTML2]]
        intended to support dubbing and audio description workflows worldwide,
        to meet the requirements defined in [[[?DAPT-REQS]]], and to permit usage of visual presentation
        features within [[TTML2]] and its profiles, for example those in [[ttml-imsc1.2]].
    </section>

    <section class='informative' id="introduction">
      <h2>Introduction</h2>
      <p>Creating a dub is a complex, multi-step process that involves:
        <ul>
          <li>Transcribing and timing the dialogue in the original language from a completed programme to create a source transcription text</li>
          <li>Notating dialogue with character information and other annotations</li>
          <li>Generating localization notes to guide further adaptation</li>
          <li>Translating the dialogue to a target language</li>
          <li>Adapting the translation to the dubbing and subtitling specifications; ex. matching the actor’s lip movements in the case of dubs and considering reading speeds and shot changes.</li>
        </ul>
      </p>
      <p>The result of creating a <a>dubbing script</a> can be useful as a starting point for creation of subtitles or closed captions in alternate languages.
        This specification is designed to facilitate the addition of, and conversion to,
        subtitle and caption documents in other profiles of TTML, such as [[ttml-imsc1.2]],
        for example by permitting subtitle styling syntax to be carried in DAPT documents.
        Alternatively, styling can be applied to assist voice artists when recording scripted dialogue or audio descriptions.
      </p>
      <p>Creating audio description content is also a complex process with similar steps.</p> 
      <p>
        <a>Audio Description</a>, also known as Video Description, is an audio service to assist viewers who can not fully see a visual presentation
        to understand the content, usually achieved by mixing a ‘<a>description</a>’ audio track
        with the <a>main programme audio</a>, at moments when this does not clash with dialogue, to deliver an <a>audio description mixed audio track</a>.
        More information about what <a>Audio Description</a> is and how it works can be found at [[WHP051]].
      </p>
      <p class="issue" data-number="28"></p>
      <p>This specification defines DAPT, a TTML-based format for the exchange of timed text content among authoring and prompting tools in the localization and audio description pipeline.
        A DAPT file is designed to carry pertinent information for dubbing or audio description such as type of script, dialogue, descriptions, timing, metadata, original language text, transcribed text, language information, and to be extensible for future annotations.
        This specification first defines the data model (see [[[#data-model]]]) for DAPT scripts and then its representation as a TTML document with restrictions (see [[[#ttml-format]]]).</p>

      <section id="intro-example">
        <h3>Example documents</h3>
        <p class="ednote">Do we need examples with metadata e.g. script type?</p>
        <p class="issue" data-number="48"></p>
        <p>The top level structure of a document is as follows:</p>
        <pre class="example"
          data-include="examples/intro-top-level.xml"
          data-include-format="text">
        </pre>
        <p>The following examples correspond to the timed text scripts produced
          at each stage of the workflow described in [[DAPT-REQS]].</p>
        <p>The first example shows a script where timed opportunities for descriptions
          or transcriptions have been identified but no text has been written:</p>
        <pre class="example"
          data-include="examples/intro-times-only.xml"
          data-include-format="text">
        </pre>
        <p>When descriptions or transcriptions are added this becomes a Pre Recording Script: Text with times, or Original language Text with times:</p>
        <pre class="example"
          data-include="examples/intro-times-and-text.xml"
          data-include-format="text">
        </pre>
        <p>After translating the text, this becomes Text in original language and dub language with times:</p>
        <pre class="example"
          data-include="examples/intro-original-language-with-dub-language.xml"
          data-include-format="text">
        </pre>
        <p>After creating audio recordings, if not using text to speech, instructions for playback
          mixing can be inserted. For example, The gain of "received" audio can be changed before mixing in
          the audio played from inside the <code>span</code>, smoothly
          animating the value on the way in and returning it on the way out:</p>
        </p>
        <pre class="example"
          data-include="examples/intro-script-with-gain.xml"
          data-include-format="text">
        </pre>
        <p>In the above example, the <code>div</code> element's
          <code>begin</code> time becomes the "syncbase" for its child, 
          so the times on the <code>animate</code> and <code>span</code> 
          elements are relative to 25s here.
          The first <code>animate</code> element drops the gain from 1
          to 0.39 over 0.3s, freezing that value after it ends,
          and the second one raises it back in the
          final 0.3s of this description. Then the <code>span</code> is
          timed to begin only after the first audio dip has finished.</p>
        <p>If the audio recording is long and just a snippet needs to be played,
        that can be done using <code>clipBegin</code> and <code>clipEnd</code>.
        If we just want to play the part of the audio from file from 5s to
        8s it would look like:</p>
        <pre class="example"
          data-include="examples/intro-script-with-audio-clipped.xml"
          data-include-format="text">
        </pre>
        <p>Or audio attributes can be added to trigger the text to be spoken:
        </p>
        <pre class="example"
          data-include="examples/intro-script-with-speak.xml"
          data-include-format="text">
        </pre>
      </section>
    </section>

    <section id="conventions">
      <h2>Documentation Conventions</h2>
      <p>
        This document uses the same conventions as [[TTML2]] for the specification of parameter attributes, styling attributes and metadata elements. In particular:
      </p>
      <p>
        Section 2.3 of [[TTML2]] specifies conventions used in the [[XML]] representation of elements; and
        Sections 6.2 and 8.2 of [[TTML2]] specify conventions used when specifying the syntax of attribute values.
      </p>
      <p>
        All content of this specification that is not explicitly marked as non-normative is considered to be normative.
        If a section or appendix header contains the expression "non-normative", then the entirety of the section or appendix is considered non-normative.
      </p>
      <p>
        This specification uses Feature designations as defined in Appendices E at [[TTML2]]:
        when making reference to content conformance, these designations refer to the syntactic expression or the semantic capability associated with each designated Feature; and
        when making reference to processor conformance, these designations refer to processing requirements associated with each designated Feature.
        If the name of an element referenced in this specification is not namespace qualified, then the TT namespace applies (see <a href="#namespaces">9.3 Namespaces</a>.)
      </p>
    </section>

    <section id="definitions">
      <h2>Definitions</h2>
      <p>
        The following terms are used in this proposal:
      </p>
      <p>
        <dfn>Audio description</dfn>	An audio rendition of a <a>Description</a> or a set of <a>Descriptions</a>.
      </p>
      <p>
        <dfn>Audio description mixed audio track</dfn>  The output of an audio mixer incorporating the main programme audio and the audio description.
      </p>
      <p>
        <dfn data-lt="Description|Descriptions">Description</dfn>  A set of words that describe an aspect of the programme presentation, suitable for rendering into audio by means of vocalisation and recording or used as a <a>Text Alternative</a> source for text to speech translation.
      </p>
      <p>
        <dfn data-lt="Document Instance|Document Instances" data-cite="ttml2#terms-document-instance">Document Instance</dfn> As defined by [[TTML2]].
      </p>
      <p>
        <dfn data-cite="ttml2#terms-document-interchange-context">Document Interchange Context</dfn> As defined by [[TTML2]].
      </p>
      <p>
        <dfn data-cite="ttml2#terms-document-processing-context">Document Processing Context</dfn>  See Section 2.2 at [[TTML2]].
      </p>
      <p>
        <dfn data-cite="ttml2#terms-feature">Feature</dfn>  See Section 2.2 at [[TTML2]].
      </p>
      <p>
        <dfn data-cite="ttml2#terms-intermediate-synchronic-document">Intermediate Synchronic Document</dfn> See Section 11.3.1.3 at [[TTML2]].
      </p>
      <p>
        <dfn data-cite="ttml2#style-value-lwsp">Linear White-Space</dfn> See Section 2.3 at [[TTML2]].
      </p>
      <p>
        <dfn>Main programme audio</dfn> The audio associated with the programme prior to any mixing with audio description.
      </p>
      <p>
        <dfn data-cite="ttml2#terms-presentation-processor">Presentation processor</dfn> See Section 2.2 at [[TTML2]].
      </p>
      <p>
        <dfn data-cite="ttml2#terms-processor">Processor</dfn>  Either a Presentation processor or a Transformation processor.
      </p>
      <p>
        <dfn data-cite="ttml2#terms-profile">Profile</dfn>  A TTML profile specification is a document that lists all the features of TTML that are required / optional / prohibited within “document instances” (files) and “processors” (things that process the files), and any extensions or constraints.
      </p>
      <p>
        <dfn data-cite="ttml2#terms-related-media-object">Related Media Object</dfn> See Section 2.2 at [[TTML2]].
      </p>
      <p>
        <dfn>Related Video Object</dfn> A <a>Related Media Object</a> that consists of a sequence of image frames, each a rectangular array of pixels.
      </p>
      <p>
        <dfn data-cite="ttml2#terms-root-container-region">Root Container Region</dfn>  See Section 2.2 at [[TTML2]].
      </p>
      <p>
        <dfn>Text Alternative</dfn> As defined in [[WCAG20]].
      </p>
      <p>
        <dfn data-cite="ttml2#terms-transformation-processor">Transformation processor</dfn> See Section 2.2 at [[TTML2]].
      </p>
    </section>

  <section id="conformance">
    <p>
      A <a>Document Instance</a> that conforms to the profile defined herein:
    </p>
    <ul style="list-style-type:disc">
      <li>MUST satisfy all normative provisions specified by the profile;</li>
      <li>MAY include any vocabulary, syntax or attribute value associated with a Feature whose disposition is permitted or optional in the profile;</li>
      <li>MUST include any vocabulary, syntax or attribute value associated with a Feature whose disposition is required in the profile.</li>
      <li>MUST NOT include any vocabulary, syntax or attribute value associated with a Feature whose disposition is prohibited in the profile.</li>
    </ul>
    <p class="note">
      A <a>Document Instance</a>, by definition, satisfies the requirements of Section 3.1 at [[TTML2]], and hence a Document Instance that conforms to a profile defined herein is also a conforming TTML2 Document Instance.
    </p>
    <p>
      A <a>presentation processor</a> that conforms to the profile defined in this specification:
    </p>
    <ul style="list-style-type:disc">
      <li>MUST satisfy the Generic Processor Conformance requirements at Section 3.2.1 of [[TTML2]]</li>
      <li>MUST satisfy all normative provisions specified by the profile; and</li>
      <li>MUST implement presentation semantic support for every Feature designated as permitted or required by the profile, subject to any additional constraints on each Feature as specified by the profile.</li>
      <li>MAY implement presentation semantic support for every Feature designated as optional by the profile, subject to any additional constraints on each Feature as specified by the profile.</li>
    </ul>
    <p>
      A <a>transformation processor</a> that conforms to the profile defined in this specification:
    </p>
    <ul style="list-style-type:disc">
      <li>MUST satisfy the Generic Processor Conformance requirements at Section 3.2.1 of [[TTML2]];</li>
      <li>MUST satisfy all normative provisions specified by the profile; and</li>
      <li>MUST implement transformation semantic support for every Feature designated as permitted or required by the profile, subject to any additional constraints on each Feature as specified by the profile.</li>
      <li>MAY implement transformation semantic support for every Feature designated as optional by the profile, subject to any additional constraints on each Feature as specified by the profile.</li>
    </ul>
    <p class="note">
      The use of the terms <a>presentation processor</a> 
      and <a>transformation processor</a> within this document does not imply conformance <i>per se</i> to any of the Standard Profiles defined in [[TTML2]].
      In other words, it is not considered an error for a <a>presentation processor</a> or <a>transformation processor</a> to conform to the profile defined in this document without also conforming to the TTML2  Presentation Profile or the TTML2 Transformation Profile.
    </p>
    <p class="note">
      This document does not specify presentation processor or transformation processor behavior when processing or transforming a non-conformant Document Instance.
    </p>
    <p class="note">
      The permitted and prohibited dispositions do not refer to the specification of a ttp:feature or ttp:extension element as being permitted or prohibited within a ttp:profile element.
    </p>
  </section>

  <section id="data-model">
      <h2>DAPT Data Model and corresponding TTML syntax</h2>
      <p>This section specifies the data model for DAPT and its corresponding TTML syntax. In the model, there are objects which can have properties and be associated with other objects. In the TTML syntax, these objects and properties are expressed as elements and attributes.</p>
      <p class="issue" data-number="12"></p>
      <section>
        <h3>DAPT Script</h3>
          <p>A <dfn>DAPT Script</dfn> corresponds to a document processed within an authoring workflow or processed by a client. It has properties and objects defined in the following sections: <a>Script Type</a>, <a>Primary Language</a>, <a>Script Events</a> and, for <a>Dubbing Scripts</a>, <a>Characters</a>.</p>
          <p>A <a>DAPT Script</a> is represented as a TTML document with the structure and constraints also defined in the following sections.</p>
          <section>
            <h4>Script Type</h4>
            <p>The <dfn>Script Type</dfn> property describes the type of documents used in Dubbing and Audio Description workflows, among the following: <a>Original Language Dialogue List</a>, <a>Translated Dialogue List</a>, <a>Pre-recording Dub Script</a>, <a>As-recorded Dub Script</a>, and <a>Audio Description Script</a>. <a>Original Language Dialogue List</a>, <a>Translated Dialogue List</a>, <a>Pre-recording Dub Script</a>, <a>As-recorded Dub Script</a> are referred to as <dfn>Dubbing Scripts</dfn>.</p>
            <p>To represent this property, the following TTML structure and constraints apply:
              <ul>
                <li>The <code>head</code> element MUST be present, as the first child of the <code>tt</code> element</li>
                <li>A single <code>metadata</code> element MUST be present in the <code>head</code> element with the <code>ttm:role</code> attribute set to one of the values defined below.
                </li>
              </ul>
            </p>
            <p class="issue" data-number="24"></p>
            <p class="issue" data-number="32"></p>
            <p class="issue" data-number="33"></p>
            <p>The definitions of the types of documents and the corresponding <code>ttm:role</code> values are:
              <ul>
                <li><dfn>Original Language Dialogue List</dfn>: When the <code>ttm:role</code> value is <code>x-DUBBING_ORIGINAL_DIALOGUE_LIST</code>, the document represents a literal transcription of the dialogue and on-screen text in their original spoken/written language(s).
                <aside class="example">If a movie contains dialogue in English and Hebrew, the <a>Original Language Dialogue List</a> will contain some <a>Script Events</a> in English and some in Hebrew. None of the <a>Script Events</a> is translated.</aside>
                </li>
                <li><dfn>Translated Dialogue List</dfn>: When the <code>ttm:role</code> value is <code>x-DUBBING_TRANSLATED_DIALOGUE_LIST</code>, the document represents a translation of the dialogue or on-screen text in a common language. It is meant to be adapted to produce a <a>Pre-Recording Dub Script</a>. 
                <aside class="note">A script can contain additional <a>Script Events</a> from the <a>Original Language Dialogue List</a> for context, to assist in the adaption process.</aside>
                <aside class="example">If a movie contains dialogue in English and Hebrew, the French <a>Translated Dialogue List</a> will contain at least the translation in French of all <a>Script Events</a>. It may still retain text content in Hebrew and English to assist further processing.</aside>
                </li>
                <li><dfn>Pre-recording Dub Script</dfn>: When the <code>ttm:role</code> value is <code>x-DUBBING_PRE_RECORDING</code>, the document represents the result of the adaptation of a <a>Translated Dialogue List</a> for dubbing, e.g. for better lip-sync. It may also contain <a>Script Events</a> from the <a>Original Language Dialogue List</a> for context, to assist further processing.
                <aside class="note">The <a>Script Type</a> of a <a>DAPT Script</a> cannot necessarily be detected by inspecting the text content of the document. For example, the adaptation of a <a>Translated Dialogue List</a> into a <a>Pre-recording Dub Script</a> can consist in replacing some words in the text content of a <a>Script Event</a> without altering the rest of the document.</aside></li>
                <li><dfn>As-recorded Dub Script</dfn>: When the <code>ttm:role</code> value is <code>x-DUBBING_AS_RECORDED</code>, the document represents a transcription of the output of the dubbing workflow. It may also contain <a>Script Events</a> from the <a>Original Language Dialogue List</a> for context and quality verifications.</li>
                <li><dfn>Audio Description Script</dfn>: When the <code>ttm:role</code> value is <code>x-AUDIO_DESCRIPTION</code>, the document represents text script, times, optional links to audio and mixing instructions for the purpose of producing an audio description audio track.</li>
              </ul>
            </p>
            <pre class="example">
...
  &lt;head&gt;
    &lt;metadata ttm:role=&quot;x-DUBBING_DIALOGUE_LIST&quot;/&gt;
  &lt;/head&gt;
...
            </pre>
          </section>
          <section>
            <h4>Primary Language</h4>
            <p>The <dfn>Primary Language</dfn> represents the default language for the <a>Text</a> content of <a>Script Events</a>. It is represented in TTML with the following structure and constraints:
              <ul>
                <li>the <code>xml:lang</code> attribute MUST be present on the <code>tt</code> element and its value MUST NOT be empty.</li>
              </ul>
            </p>
            <p class="note">All text content in a <a>DAPT Script</a> identify their corresponding language. When multiple languages are used, the <a>Primary Language</a> can correspond to the language of the majority of <a>Script Events</a>, to the language being spoken for the longest duration, or to the language arbitrarily chosen by the author. </p>
          </section>

          <section>
            <h4>Script Events</h4>
            <p>The <dfn>Script Events</dfn> part of the model provides the list of intervals corresponding to dialogue, on screen text, or descriptions.</p>
          </section>

          <section>
            <h4>Characters</h4>
            <p>The <dfn>Characters</dfn> part of the model provides the list of characters referenced in the <a>Script Events</a>.</p>
          </section>

          <p class="issue" data-number="14"></p>
      </section>
      <section>
        <h3>Character</h3>

        <p>In <a>Dubbing Scripts</a>, it is necessary to identify each character in the programme. This is done with a <dfn>Character</dfn> object which has the following properties: 
          <ul>
            <li><dfn data-lt="Character Identifier">Identifier</dfn> which is a unique identifier to indicate when a <a>Character</a> participates in a <a>Script Event</a></li>
            <li><dfn data-lt="Character Name">Name</dfn> which is the name of the <a>Character</a> in the programme</li>
            <li>an optional <dfn data-lt="Character Talent Name">Talent Name</dfn>, which is the name of the actor speaking dialogue for this <a>Character</a></li>
            <li>an optional <dfn data-lt="Character Style">Style</dfn> object which can be used to control the style when displaying the <a>Script Event</a> for example during recording by an actor</li>
          </ul>
        </p>
        <p>A <a>Character</a> is represented in TTML with the following structure and constraints:
          <ul>
            <li>There MUST be a <code>ttm:agent</code> element, child of the <code>metadata</code> element that indicates the <a>Script Type</a> in the <code>head</code> element, with the following constraints:
              <ul>
                <li>The <code>type</code> attribute MUST be set to <code>character</code>.</li>
                <li>The <code>xml:id</code> attribute MUST be present on the <code>ttm:agent</code> and set to the <a>Character Identifier</a>.</li>
                <li>The <code>ttm:agent</code> MUST contain a <code>ttm:name</code> element with its <code>type</code> attribute set to <code>alias</code> and its content set to the <a>Character Name</a>.</li>
              </ul>
            </li>

        <pre class="example">
...
&lt;medadata&gt;
  &lt;ttm:agent type=&quot;character&quot; xml:id=&quot;character_1&quot;&gt;
    &lt;ttm:name type=&quot;alias&quot;&gt;DESK CLERK&lt;/ttm:name&gt;
  &lt;/ttm:agent&gt;
&lt;/medadata&gt;
...
        </pre>

            <li>If the <a>Character</a> has a <a>Talent Name</a> property, the following TTML constraints apply:
              <ul>
                <li>Another <code>ttm:agent</code> MUST be added to the <code>metadata</code> element that indicates the <a>Script Type</a> in the <code>head</code> element, with the following:
                  <ul>
                    <li>its <code>type</code> attribute MUST be set to <code>person</code></li>
                    <li>its <code>xml:id</code> attribute MUST be set.</li>
                    <li>it MUST have a <code>ttm:name</code> child element whose <code>type</code> MUST be set to <code>full</code> and its content set to the <a>Talent Name</a></li>
                  </ul>
                </li>
                <li>the <code>ttm:agent</code> whose <code>type</code> is set to <code>character</code> MUST have a <code>ttm:actor</code> child, with its <code>agent</code> attribute set to the <code>xml:id</code> of the <code>ttm:agent</code> whose <code>type</code> is set to <code>person</code>.</li>
                <li>the <code>ttm:agent</code> whose <code>type</code> is set to <code>character</code> should appear before the <code>ttm:agent</code> whose <code>type</code> is set to <code>person</code>.</li>
              </ul>
            </li>

        <pre class="example">
...
&lt;medadata&gt;
  &lt;ttm:agent type=&quot;character&quot; xml:id=&quot;character_2&quot;&gt;
    &lt;ttm:name type=&quot;alias&quot;&gt;BOOKER&lt;/ttm:name&gt;
    &lt;ttm:actor agent=&quot;actor_A&quot;/&gt;
  &lt;/ttm:agent&gt;
  &lt;ttm:agent type=&quot;person&quot; xml:id=&quot;actor_A&quot;&gt;
    &lt;ttm:name type=&quot;full&quot;&gt;Matthias Schoenaerts&lt;/ttm:name&gt;
  &lt;/ttm:agent&gt;
&lt;/medadata&gt;
...
        </pre>

            <li>If the <a>Character</a> has a <a>Style</a>, the following TTML constraints apply:
              <ul>
                <li>There MAY be a <code>style</code> element in the <code>styling</code> element providing the styles applicable to <a>Script Events</a> from this <a>Character</a>.
                  The <code>xml:id</code> MUST be present.
                  Any style attribute permitted in [[ttml-imsc1.2]] may be present.
                  A <code>ttm:agent</code> attribute MAY be present to link the <code>ttm:agent</code> element representing the <a>Character</a>.
                </li>
              </ul>
            </li>

        <pre class="example">
...
&lt;styling&gt;
  &lt;style xml:id=&quot;style_a&quot;
         ttm:agent=&quot;character_3&quot;
         tts:color=&quot;#FFFFFF&quot; tts:backgroundColor=&quot;#8F42AD&quot;/&gt;         
&lt;/styling&gt;     
...
        </pre>

          </ul>
        </p>

        <p class="issue" data-number="29"></p>
        <p class="issue" data-number="15"></p>
      </section>

      <section>
        <h3>Script Event</h3>
        <p>An <dfn>Script Event</dfn> object represents dialogue, on screen text or audio descriptions to be spoken and has the following properties:
          <ul>
            <li>An <dfn>Script Event Identifier</dfn> which is unique in the script</li>
            <li><dfn>Begin</dfn> and <dfn>End</dfn> properties providing the <a>Script Event</a> time interval in the programme timeline
              <p class="note">Typically <a>Script Events</a> do not overlap in time. However, there can be cases where they do, e.g. in <a>Dubbing Scripts</a> when different <a>Characters</a> speak different text at the same time.</p>
            </li>
            <li>An optional <dfn>Script Event Type</dfn> used to identify in <a>Dubbing Scripts</a> if the <a>Script Event</a> represents spoken text, or on screen text, and in the later case, the type of on-screen text (title, credit, location, ...).</li>
            <li>One or more <a>Character Identifiers</a> indicating the <a>Characters</a> involved in this <a>Script Event</a>.
              <p class="note">While typically, a <a>Script Event</a> corresponds to one single <a>Character</a>, there are cases where multiple <a>characters</a> can be associated with a <a>Script Event</a>. This is when all <a>Characters</a> speak the same text at the same time.</p>
            </li>
            <li>a mandatory <dfn>Main Text</dfn> property, which provides the main text content for this <a>Script Event</a> in the form of a <a>Text</a> object</li>
            <li>an optional <dfn>Contextual Text</dfn> property, which provides a representation of the <a>Main Text</a> content in a different language, in the form of a <a>Text</a> object. It can be used to assist in the processing of the main text content.</li>
            <li>a <dfn>Script Event Description</dfn> property, as a human-readable description of the <a>Script Event</a>.
              <p class="note">The <a>Script Event Description</a> does not need to be unique, i.e. it does not need to have a different value for each <a>Script Event</a>. 
                For example a particular value could be re-used to identify in a human-readable way one or more <a>Script Events</a> that are intended to be processed together,
                e.g. in a batch recording.</p>
            </li>
            <li>an optional <a>On Screen</a> property, which is an annotation indicating the position of the <a>character</a> during the <a>Script Event</a></li>
          </ul>
        </p>

        <p>An <a>Script Event</a> is represented in TTML with the following structure and constraints:
          <ul>There MUST be one <code>div</code> element, with the following constraints:
            <ul>
              <li>The <code>xml:id</code> attribute MUST be present containing the <a>Script Event Identifier</a>.</li>
              <li>The <code>begin</code> and <code>end</code> attributes MUST be present and correspond to the <a>Begin</a> and <a>End</a> of the <a>Script Event</a>.</li>
              <li>The <code>ttm:agent</code> attribute MAY be present and if present, MUST contain a reference to the <code>ttm:agent</code> representing the <a>Character</a>.</li>
          <pre class="example">
...
&lt;div xml:id=&quot;event_1&quot;
     begin=&quot;9663f&quot; end=&quot;9682f&quot; 
     ttm:agent=&quot;character_4&quot;&gt;
...
&lt;/div&gt;
...
          </pre>
              <li>It MUST contain one <code>p</code> element representing the <a>Main Text</a>.</li>
              <li>It MAY contain another <code>p</code> element representing the <a>Contextual Text</a></li>
              <li>The <code>style</code> attribute MAY be present. If present, it MAY contain a reference to the <code>style</code> defining the <a>Character Style</a>. Additional style references or inline styles MAY be used.</li>
              <li>It MAY contain a <code>metadata</code> element representing the <a>On Screen</a> property.</li>
            </ul>
          </ul>
        </p>
        </section>

        <section>
          <h4>Text</h4>
          <p>The <dfn>Text</dfn> object contains text content in a single language, and may be styled and associated with a <a>Character</a>. The <a>Main Text</a> and <a>Contextual Text</a> objects of <a>Script Events</a> are <a>Text</a> objects.</p>
          <p class="issue" data-number="15"></p>
          <p>A <a>Text</a> object is represented with a <code>p</code> element with the following constraints:
            <ul>
              <li>The text content of the <code>p</code> is the <a>Text</a> of the <a>Script Event</a>. It MAY also use TTML markup to represent styles.
                <div class="note">The text content of the paragraph may contain TTML elements such as <code>span</code> or TTML attributes such as <code>tts:ruby</code> used to alter the layout or styling of each paragraph</div>
              </li>
              <li>The <code>p</code> element MUST have an <code>xml:lang</code> attribute corresponding to the language of the <a>Text</a> object.
              <div class="note">Within a <code>div</code> representing a <a>Script Event</a>, the order of <code>p</code> is one relevant. The <code>xml:lang</code> value can be used to determine which paragraph corresponds to the <a>Main Text</a> and which one corresponds to the <a>Contextual Text</a>. Text content in a language that does not match the <a>Primary Language</a> of the <a>DAPT Script</a> are <a>Contextual Text</a>.</div>
              </li>
          <pre class="example">
&lt;div xml:id=&quot;event_3&quot;
     begin=&quot;9663f&quot; end=&quot;9682f&quot; 
     style=&quot;style_a&quot;
     ttm:agent=&quot;character_3&quot;&gt;
  &lt;p xml:lang=&quot;pt-BR&quot; &gt;Voc&#xea; vai ter.&lt;/p&gt;
  &lt;p xml:lang=&quot;fr&quot; ttm:role=&quot;x-context&quot;&gt;Bah, il arrive.&lt;/p&gt;
&lt;/div&gt;
          </pre>
        </section>

        <section>
          <h4>On Screen</h4>
          <p>The <dfn>On Screen</dfn> property is an annotation indicating the position in the scene of the <a>character</a> during the <a>Script Event</a>:
            <ul>
              <li>ON - the <a>character</a> is on screen for the entire duration</li>
              <li>OFF - the <a>character</a> is off screen for the entire duration</li>
              <li>ON_OFF - the <a>character</a> starts on screen, but goes off screen at some point</li>
              <li>OFF_ON - the <a>character</a> starts off screen, but goes on screen at some point</li>
            </ul>
          </p>
          <p>The <a>On Screen</a> property is represented as a <code>metadata</code> element with the following constraints:
            <ul>
              <li>The following attribute corresponding to the <a>On Screen</a> <a>Script Event</a> property may be present:
                <div class="exampleInner">
                  <pre class="nohighlight">
daptm:onScreen
  : "ON" 
  | "OFF"
  | "ON_OFF"
  | "OFF_ON"
                  </pre>
                </div>
                <p class="issue" data-number="34"></p>
              </li>
              <li>A <code>ttm:desc</code> element may be present representing the <a>Script Event Description</a>.</li>
              <li><a>Script Event Type</a>
                <p class="issue" data-number="35"></p>
              </li>
            </ul>
          </p>
        </section>
      </section>

  <section id="ttml-format">
      <h4>TTML Format</h4>
      <p>This section defines the TTML format based on the data model defined in [[[#data-model]]].</p>
      <p class="issue" data-number="25"></p>
      <section id="profile-resolution-semantics">
        <h3>Profile Resolution Semantics</h3>
        <p>
          For the purpose of content processing, the determination of the resolved profile SHOULD take into account both the signaled profile, as defined in <a href="#profile-signaling-section"></a>, and profile metadata, as designated by either (or both) the Document Interchange Context or (and) the Document Processing Context, which MAY entail inspecting document content.
        </p>
        <p>
          If the resolved profile is not the Profile supported by the Processor but is feasibly interoperable with the Profile, then the resolved profile is the Profile.
          If the resolved profile is undetermined or not supported by the Processor, then the Processor SHOULD nevertheless process the Document Instance using the Profile; otherwise, processing MAY be aborted.
          If the resolved profile is not the proposed Profile, processing is outside the scope of this specification.
        </p>
        <p>
          If the resolved profile is the profile supported by the Processor, then the Processor SHOULD process the Document Instance according to the Profile.
        </p>
      </section>
    </section>
    <section id="profile-constraints">
      <h2>Constraints</h2>
      <section id="Document Encoding">
        <h3>Document Encoding</h3>
        <p>
          A Document Instance MUST use UTF-8 character encoding as specified in [[UNICODE]].
        </p>
      </section>
      <section id="foreign-elements-and-attributes">
        <h3>Foreign Element and Attributes</h3>
        <p>
          A <a>Document Instance</a> MAY contain elements and attributes that are neither specifically permitted nor forbidden by a profile.
        </p>
        <p class ="note">
          <a>Document Instances</a> remain subject to the content conformance requirements specified at Section 3.1 of [[TTML2]].
          In particular, a Document Instance can contain elements and attributes not in any TT namespace, i.e. in foreign namespaces, since such elements and attributes are pruned by the algorithm at Section 4 of [[TTML2]] prior to evaluating content conformance.
        </p>
        <p class ="note">
          For validation purposes it is good practice to define and use a content specification for all foreign namespace elements and attributes used within a Document Instance.
        </p>
        <p>
          A <a>transformation processor</a> SHOULD preserve such elements or attributes whenever possible.
        </p>
        <p class="ednote">Do we need to say that a presentation processor may ignore foreign vocab?</p>
      </section>
      <section id="namespaces">
        <h3>Namespaces</h3>
        <p>
          The following namespaces (see [[xml-names]]) are used in this specification:
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th>Name</th>
              <th>Prefix</th>
              <th>Value</th>
              <th>Defining Specification</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>XML</td>
              <td><code>xml</code></td>
              <td><code>http://www.w3.org/XML/1998/namespace</code></td>
              <td>[[xml-names]]</td>
            </tr>
            <tr>
              <td>TT</td>
              <td><code>tt</code></td>
              <td><code>http://www.w3.org/ns/ttml</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>TT Parameter</td>
              <td><code>ttp</code></td>
              <td><code>http://www.w3.org/ns/ttml#parameter</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>TT Feature</td>
              <td><em>none</em></td>
              <td><code>http://www.w3.org/ns/ttml/feature/</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>TT Audio Style</td>
              <td><em>tta:</em></td>
              <td><code>http://www.w3.org/ns/ttml#audio</code></td>
              <td>[[TTML2]]</td>
            </tr>
            <tr>
              <td>DAPT Metadata</td>
              <td><code>daptm</code></td>
              <td><code>http://www.w3.org/ns/ttml/profile/dapt#metadata</code></td>
              <td><em>This specification</em></td>
            </tr>
          </tbody>
        </table>
        <p>
          The namespace prefix values defined above are for convenience and Document Instances MAY use any prefix value that conforms to [[xml-names]].
        </p>
        <p>
          The namespaces defined by this proposal document are mutable [[namespaceState]]; all undefined names in these namespaces are reserved for future standardization by the W3C.
        </p>
      </section>
      <section id="related-video-object-section">
        <h3>Related Video Object</h3>
        <p>
          A <a>Document Instance</a> MAY be associated with a <a>Related Video Object</a>.
        </p>
        <p class="note">
          While this specification contains specific provisions when a <a>Document Instance</a> is associated with a <a>Related Video Object</a>, it does not prevent the use of a Document Instance with other kinds of Related Media Object, e.g. an audio only object.
        </p>
      </section>
      <section id="synchronization-section">
        <h3>Synchronization</h3>
        <p class="ednote">Check if we need this, and if we do, rework for audio - e.g. relate to audio sample, or other quantisation units?</p>
        <p>
          Each intermediate synchronic document of the Document Instance is intended to be rendered starting on a specific frame and removed by a specific frame of the Related Video Object.
        </p>
        <p class="note">In the context of this specification rendering could be visual presentation of text,
          for example to show an actor what words to speak, or could be audible playback of an audio resource,
          or could be physical or haptic, such as a Braille display.
        </p>
        <p>
          When mapping a media time expression M to a frame F of a Related Video Object (or Related Media Object), e.g. for the purpose of mixing audio sources signalled by a Document Instance into the main program audio of the <a>Related Video Object</a>, the presentation processor MUST map M to the frame F with the presentation time that is the closest to, but not less, than M.
        </p>
        <p>
          EXAMPLE 1
          A media time expression of 00:00:05.1 corresponds to frame ceiling( 5.1 × ( 1000 / 1001 × 30) ) = 153 of a <a>Related Video Object</a> with a frame rate of 1000 / 1001 × 30 ≈ 29.97.
        </p>
        <p class="note">
          In typical scenario, the same video program (the <a>Related Video Object</a>) will be used for Document Instance authoring, delivery and user playback.
          The mapping from media time expression to <a>Related Video Object</a> above allows the author to precisely associate <a>audio description</a> content with video frames, e.g. around existing audio dialogue and sound effects.
          In circumstances where the video program is downsampled during delivery, the application can specify that, at playback, the relative video object be considered the delivered video program upsampled to is original rate, thereby allowing audio content to be presented at the same temporal locations it was authored.
        </p>
      </section>
      <section id="profile-signaling-section">
        <h3>Profile Signaling</h3>
        <p>TTML documents representing DAPT Scripts MUST specify a <code>ttp:contentProfiles</code> attribute
          on the <code>tt</code> element with one value equal to the designator of the <a>DAPT 1.0</a> profile
          to which the Document Instance conforms.
          Other values MAY be present to declare conformance to other profiles of [[TTML2]].</p>
        <section id="profile-designator">
          <h4>Profile Designator</h4>
          <p>This profile is associated with the following profile designator:</p>
          <table class="simple">
            <thead>
              <tr>
                <th>Profile Name</th>
    
                <th>Profile Designator</th>
              </tr>
            </thead>
    
            <tbody>
              <tr>
                <td><dfn data-dfn-type="dfn" id="dfn-dapt-1-0">DAPT 1.0</dfn></td>
    
                <td><code>http://www.w3.org/ns/ttml/profile/dapt</code></td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section id="features-section">
        <h3>Features</h3>
        <p>
          See <a href="#conformance" class="sec-ref">Conformance</a> for a definition of <em>permitted</em>, <em>prohibited</em> and <em>optional</em>.
        </p>
        <p class="ednote">Intent is to make it as easy as possible to transform a Document Instance into
          IMSC ([[ttml-imsc1.2]]), so we need to check that there are no IMSC permitted features that we prohibit, or if there
          are, then we can explain the reason.
        </p>
        <p class="ednote">Editorial task: go through this list of features and check the disposition of each. IMSC-only features should be optional.</p>
        <table class="simple">
          <tbody>
            <tr>
              <th style="width:20%" style="text-align:center">Feature</th>
              <th style="width:10%" style="text-align:center">Disposition</th>
              <th style="text-align:center">Additional provision</th>
            </tr>
            <tr>
              <td colspan="3" style="text-align:center"><em>Relative to the TT Feature namespace</em></td>
            </tr>
            <tr>
              <td><code>#animation-version-2</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#audio</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#audio-description</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#audio-speech</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#backgroundColor-block</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#backgroundColor-region</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#cellResolution</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#chunk</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#clockMode</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#clockMode-gps</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#clockMode-local</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#clockMode-utc</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#content</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#contentProfiles</code></td>
              <td>required</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#core</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#data</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#display-block</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#display-inline</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#display-region</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#display</code></td>
              <td>prohibited<p class="ednote">Consider display="none" in relation to AD content</p></td>
              <td></td>
            </tr>
            <tr>
              <td><code>#dropMode</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#dropMode-dropNTSC</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#dropMode-dropPAL</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#dropMode-nonDrop</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#embedded-audio</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#embedded-data</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#extent-root</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#extent</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#frameRate</code></td>
              <td>permitted</td>
              <td>
                If the <a href="#dfn-document-instance" class="internalDFN" data-link-type="dfn">Document Instance</a> includes any time expression that uses the <code>frames</code> term or any
                offset time expression that uses the <code>f</code> metric, the <code>ttp:frameRate</code> attribute <em class="rfc2119" title="MUST">MUST</em> be present
                on the <code>tt</code> element.
              </td>
            </tr>
            <tr>
              <td><code>#frameRateMultiplier</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#gain</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#layout</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-cell</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-integer</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-negative</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-percentage</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-pixel</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-positive</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length-real</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#length</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#markerMode</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#markerMode-continuous</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#markerMode-discontinuous</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#metadata</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#opacity</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#origin</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#overflow</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#overflow-visible</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#pan</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#pitch</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#pixelAspectRatio</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#presentation</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#processorProfiles</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td id="profile-constraints"><code>#profile</code></td>
              <td>permitted</td>
              <td>
                See <a href="#profile-signaling-section" class="sec-ref"></a>.
              </td>
            </tr>
            <tr>
              <td><code>#region-timing</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#resources</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#showBackground</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#source</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#speak</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#speech</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#structure</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling-chained</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling-inheritance-content</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling-inheritance-region</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling-inline</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling-nested</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#styling-referential</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#subFrameRate</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#tickRate</code></td>
              <td>permitted</td>
              <td><code>ttp:tickRate</code> <em class="rfc2119" title="MUST">MUST</em> be present on the <code>tt</code> element if the document contains any time
              expression that uses the <code>t</code> metric.</td>
            </tr>
            <tr>
              <td><code>#timeBase-clock</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#timeBase-media</code></td>
              <td>permitted</td>
              <td>
                <p class="inline-note">NOTE: [[TTML1]] specifies that the default timebase is <code>"media"</code> if
                <code>ttp:timeBase</code> is not specified on <code>tt</code>.</p>
              </td>
            </tr>
            <tr>
              <td><code>#timeBase-smpte</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#time-clock-with-frames</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#time-clock</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#time-offset-with-frames</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#time-offset-with-ticks</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#time-offset</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#timeContainer</code></td>
              <td>permitted</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#timing</code></td>
              <td>permitted</td>
              <td>
                <ul class="short-list">
                  <li>All time expressions within a <a href="#dfn-document-instance" class="internalDFN" data-link-type="dfn">Document Instance</a> <em class="rfc2119" title="SHOULD">SHOULD</em> use the same syntax, either
                  <code>clock-time</code> or <code>offset-time</code>.
                  </li>
                  <li>For any content element that contains <code>br</code> elements or text nodes or a
                  <code>smpte:backgroundImage</code> attribute, both the <code>begin</code> attribute and one of either the
                  <code>end</code> or <code>dur</code> attributes <em class="rfc2119" title="SHOULD">SHOULD</em> be specified on the content element or at least one of its
                  ancestors.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td><code>#transformation</code></td>
              <td>permitted</td>
              <td>
                See constraints at <a href="#profile-constraints">#profile</a>.
              </td>
            </tr>
            <tr>
              <td><code>#visibility-block</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#visibility-region</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#writingMode-horizontal-lr</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#writingMode-horizontal-rl</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#writingMode-horizontal</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
            <tr>
              <td><code>#zIndex</code></td>
              <td>prohibited</td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>

  <section id="ttml-format">
      <h4>TTML Format</h4>
      <p>This section defines the TTML format based on the data model defined in [[[#data-model]]].</p>
      <p class="issue" data-number="25"></p>
      <section>
        <h4>Proprietary Metadata</h4>
        <p>Many dubbing and <a>audio description</a> workflows permit annotation of <a>Script Events</a> or documents with proprietary metadata.
          Additional vocabulary MAY be included if it is in namespaces not defined by this specification, [[TTML2]] or [[ttml-imsc1.2]].</p>
        <p class="issue" data-number="31"></p> 
      </section>
      <section>
        <h4>Layout</h4>
        <p>This specification does not put additional constraints on the layout and rendering features defined in [[!ttml-imsc1.2]].</p>
        <div class="note">Layout of the paragraphs may rely on the default TTML region (i.e. if no <code>layout</code> is used in the <code>head</code> element) or may be explicit by the use of the <code>region</code> attribute, if a <code>region</code> element is defined in a <code>layout</code> element in the <code>head</code> element.</div>
      </section>
  </section>

  <section id="acknowledgements">
      <h2>Acknowledgments</h2>
      The editors would like to thank XXX for their contributions to this specification.
  </section>

  <section id="examples" class="appendix">
      <h2>Examples</h2>
      <section>
        <h3>Dubbing - Original Language Dialogue List</h3>
        <pre>
&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;tt ttp:contentProfiles=&quot;http://www.w3.org/ns/ttml/profile/dapt&quot; ttp:frameRate=&quot;24&quot; xml:lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/ns/ttml&quot; xmlns:nttm=&quot;http://www.netflix.com/ns/ttml#metadata&quot; xmlns:dapt=&quot;http://www.w3.org/ns/ttml/profile/dapt&quot; xmlns:ttm=&quot;http://www.w3.org/ns/ttml#metadata&quot; xmlns:ttp=&quot;http://www.w3.org/ns/ttml#parameter&quot; xmlns:tts=&quot;http://www.w3.org/ns/ttml#styling&quot;&gt;
  &lt;head&gt;
    &lt;metadata ttm:role=&quot;x-DIALOGUE_LIST&quot;&gt;
      &lt;ttm:agent type=&quot;character&quot; xml:id=&quot;character_d6407d8d-4ce7-4b8c-8709-edccbf493283&quot;&gt;
        &lt;ttm:name type=&quot;alias&quot;&gt;TOKIO&lt;/ttm:name&gt;
      &lt;/ttm:agent&gt;
    &lt;/metadata&gt;
    &lt;styling&gt;
      &lt;style xml:id=&quot;style_d6407d8d-4ce7-4b8c-8709-edccbf493283&quot;/&gt;
    &lt;/styling&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;
      &lt;p begin=&quot;51422f&quot; end=&quot;51677f&quot; style=&quot;style_d6407d8d-4ce7-4b8c-8709-edccbf493283&quot; ttm:agent=&quot;character_d6407d8d-4ce7-4b8c-8709-edccbf493283f&quot; xml:id=&quot;event_007b6128-1ba8-4f47-ad25-2719c8685de1&quot;&gt;Like all those people lacking a sense of rhythm, the Professor sat at the table, while he was thinking, what&#039;s heavier: love or death?&lt;/p&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/tt&gt;
        </pre>
      </section>
      <section>
        <h3>Dubbing - Translated Dialogue List</h3>
      </section>
      <section>
        <h3>Dubbing - Pre-Recording Script / As-Recorded Script</h3>
      </section>
      <section>
        <h3>Audio Description Script</h3>
      </section>
  </section>

  </body>
</html>
